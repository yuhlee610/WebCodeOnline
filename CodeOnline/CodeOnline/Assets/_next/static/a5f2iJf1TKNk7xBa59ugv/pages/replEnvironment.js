(window.webpackJsonp=window.webpackJsonp||[]).push([[105,32,41],{"+7wc":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return F})),n.d(t,"reducer",(function(){return z}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("XXOK"),h=n.n(g),v=n("MX0m"),x=n.n(v),w=n("q1tI"),y=n.n(w),k=n("/MKj"),j=n("9/5/"),E=n.n(j),O=n("zgDP"),_=n("imBe"),N=n("nG0Z"),S=n("eKMU"),C=n("h7rM"),T=n("Qbrf"),I=n("lixr"),R=n("A3V5"),A=n.n(R),P=n("TyLv"),L=y.a.createElement;function D(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):D(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function F(e){var t=e.style,n=e.wid,r=e.pud,a=Object(k.e)(),i=Object(k.f)((function(e){return Object(C.a)(e,n,r,"packager")})),o=i.listedPackages,s=i.selectedPackage,c=i.specfileListedPackages,l=i.isPackagerRunning,u=i.repl.language;Object(w.useEffect)((function(){Object(O.track)(O.events.LIBRARIES_SEARCHED,{wid:n,language:u}),a({type:"LIST_SPECFILE_PACKAGES",wid:n})}),[]);var d=function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=h()(c);!(t=(a=i.next()).done);t=!0){if(a.value.name===e.name)return!0}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1},p=function(e){Object(O.track)(O.events.PACKAGES_SEARCHED,{query:e}),a({type:"SEARCH_PACKAGES",query:e,wid:n})},f=function(e){null!==e&&Object(O.track)(O.events.PACKAGES_SELECTED,{package:e.name}),a({type:"SET_SELECTED_PACKAGE",package:e,wid:n,pud:r}),null!==e&&(a({type:"FETCH_PACKAGE_INFO",name:e.name,wid:n}),0===c.length&&a({type:"LIST_SPECFILE_PACKAGES",wid:n}))},m=Object(w.useState)(""),b=m[0],g=m[1];return L("div",{style:t,className:"jsx-4226866537 libsearch"},L("div",{className:"jsx-4226866537 libsearch-header"},L("div",{className:"jsx-4226866537 libsearch-heading"},"Packages")),s?L(U,{pkg:s,isPackagerRunning:l,isAlreadyInstalled:d(s),onInstall:function(e){Object(O.track)(O.events.PACKAGES_INSTALLING,{package:e.name}),d(e)||a({type:"ADD_PACKAGES",names:[e.name],wid:n})},onUninstall:function(e){d(e)&&a({type:"REMOVE_PACKAGES",names:[e.name],wid:n})},onBack:function(){return f(null)}}):L(G,{resetSearchState:function(){return p("")},onSearch:p,onSelectLibrary:f,libraries:o,specfilePackages:c,query:b,setQuery:g}),L(x.a,{id:"4226866537"},[".libsearch.jsx-4226866537{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-background-1);}",".libsearch-header.jsx-4226866537{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".libsearch-heading.jsx-4226866537{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}"]))}function U(e){var t=e.pkg,n=e.isPackagerRunning,r=e.isAlreadyInstalled,a=e.onBack,i=e.onInstall,o=e.onUninstall,s="description"in t?t.description:"This package has no description.";return L("div",{className:"jsx-2887066402 libsearch-details"},L("div",{onClick:a,className:"jsx-2887066402 libsearch-details-back"},L(A.a,{size:4.5,direction:"left",color:"currentColor"})," back to search"," "),L("div",{className:"jsx-2887066402 libsearch-details-header"},L("div",{className:"jsx-2887066402 libsearch-details-libname"},t.name),L("div",{onClick:function(){n||(r?o(t):i(t))},className:"jsx-2887066402 libsearch-details-cta"},L(H,{state:n?"working":r?"remove":"add"}))),"version"in t&&L("div",{className:"jsx-2887066402 libsearch-details-version"},"version ",t.version),L("div",{className:"jsx-2887066402 libsearch-details-description"},n&&!t.description?"loading...":s),L("div",{className:"jsx-2887066402 libsearch-details-metadata"},"homepageURL"in t&&t.homepageURL&&L("div",{className:"jsx-2887066402 details-meta-item libsearch-details-website"},L("div",{className:"jsx-2887066402 label"},"Website"),L("div",{className:"jsx-2887066402 value"},L("a",{href:t.homepageURL,rel:"noreferer noopener",target:"_blank",className:"jsx-2887066402"},t.homepageURL))),"license"in t&&t.license&&L("div",{className:"jsx-2887066402 details-meta-item libsearch-details-license"},L("div",{className:"jsx-2887066402 label"},"License"),L("div",{className:"jsx-2887066402 value"},t.license)),"author"in t&&t.author&&L("div",{className:"jsx-2887066402 details-meta-item libsearch-details-authors"},L("div",{className:"jsx-2887066402 label"},"Author"),L("div",{className:"jsx-2887066402 value"},t.author)),"dependencies"in t&&t.dependencies&&t.dependencies.length>0?L("div",{className:"jsx-2887066402 details-meta-item libsearch-details-deps"},L("div",{className:"jsx-2887066402 label"},t.dependencies.length," dependencies"),L("div",{className:"jsx-2887066402 value"},L("ul",{className:"jsx-2887066402 libsearch-details-deps-list"},t.dependencies.map((function(e){return L("li",{key:e.name||"",className:"jsx-2887066402"},e.name)}))))):null),L("div",{className:"jsx-2887066402 libsearch-details-seperator"}),L(x.a,{id:"2887066402"},[".libsearch-details.jsx-2887066402{padding:12px 15px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:auto;overflow-x:hidden;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402{cursor:pointer;margin-bottom:20px;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402:hover{color:var(--color-foreground-1);}",".libsearch-details-header.jsx-2887066402{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-bottom:18px;}",".libsearch-details-libname.jsx-2887066402{font-size:1.5em;margin:6px;margin-left:0;word-wrap:break-word;}",".libsearch-details-cta.jsx-2887066402{margin-top:calc(1.25em - 12px);height:22px;width:22px;cursor:pointer;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".libsearch-details-title.jsx-2887066402{font-size:1.4em;}",".libsearch-details-version.jsx-2887066402{color:var(--color-foreground-2);font-size:1em;margin-bottom:24px;}",".libsearch-details-description.jsx-2887066402{margin-bottom:20px;line-height:1.3em;}",".libsearch-details-metadata.jsx-2887066402:not(:empty){border-top:1px solid var(--color-control-1);padding-top:20px;}",".details-meta-item.jsx-2887066402{padding:8px 0;width:100%;}",".details-meta-item.jsx-2887066402 .label.jsx-2887066402{font-weight:bold;margin-bottom:4px;font-size:1.1em;}",".details-meta-item.jsx-2887066402 .value.jsx-2887066402{line-height:1.3em;word-wrap:break-word;color:var(--color-foreground-2);}",".libsearch-details-website.jsx-2887066402 .value.jsx-2887066402{word-wrap:break-word;overflow:hidden;}",".libsearch-details-deps-list.jsx-2887066402{list-style:none;}"]))}function H(e){switch(e.state){case"working":return L("div",{title:"Working...",className:x.a.dynamic([["1455602669",["#78af87","#78af87"]]])+" rotato"},L(x.a,{id:"1455602669",dynamic:["#78af87","#78af87"]},["@-webkit-keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".rotato.__jsx-style-dynamic-selector{height:100%;width:100%;border-radius:50%;border-top:2px solid ".concat("#78af87",";border-right:2px solid ").concat("#78af87",";-webkit-animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;cursor:not-allowed;}")]));case"add":return L(_.a,{position:"left"},L("div",null,"Add package"),L("div",{style:{height:22,width:22},title:"Add package"},L(N.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})));default:case"remove":return L(_.a,{position:"left"},L("div",null,"Remove package"),L("div",{style:{height:22,width:22},title:"Remove package"},L(S.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})))}}function G(e){var t=e.resetSearchState,n=e.onSearch,r=e.onSelectLibrary,a=e.libraries,i=e.specfilePackages,o=e.query,s=e.setQuery,c=Object(w.useState)(!1),l=c[0],u=c[1],d=Object(w.useState)(0),p=d[0],f=d[1],m=Object(w.useRef)();a!==m.current&&(u(!1),f(0)),m.current=a;var b=Object(w.useCallback)(E()(n,400),[]);var g=""===o,h=g?i:a;return L("div",{onKeyDown:function(e){function t(e){return(a.length+e)%a.length}switch(Object(P.a)(e),e.key){case"ArrowUp":e.preventDefault(),f(t(p-1));break;case"ArrowDown":e.preventDefault(),f(t(p+1));break;case"Tab":e.shiftKey?(e.preventDefault(),f(t(p-1))):(e.preventDefault(),f(t(p+1)));break;case"Enter":e.preventDefault(),-1!==p&&a.length>0&&r(a[p])}},className:"jsx-2366923719 libsearch-search"},L("div",{className:"jsx-2366923719 libsearch-search-input"},L("input",{type:"text",placeholder:"search for a package",value:o,onChange:function(e){s(e.target.value),function(e){if(""===e.trim())return t(),void u(!1);u(!0),b(e.trim())}(e.target.value)},autoFocus:!0,className:"jsx-2366923719"}),l&&L("div",{title:"loading",className:"jsx-2366923719 libsearch-search-loading"})),0===h.length&&!l&&L("div",{className:"jsx-2366923719 libsearch-search-no-results"},g?"No packages installed":"No packages found"),g&&h.length>0&&L("div",{className:"jsx-2366923719 libsearch-installed-header"},"Installed packages"),h.length>0&&L("ul",{className:"jsx-2366923719 libsearch-search-result"},h.map((function(e,t){return L(B,{key:e.name||"Unknkown",pkg:e,index:t,focused:p===t,onSelect:r,onMouseOver:function(){return function(e){f(e)}(t)}})}))),g&&L("div",{className:"jsx-2366923719 libsearch-bare-imports-tip"},L("div",{className:"jsx-2366923719 header"},"Packages Tip"),L("p",{className:"jsx-2366923719 packages-tip"},"If you know which packages you want to use in your repl, you can just import and use packages in your repl as if they were already installed, and new packages will be installed for you the next time you run the repl.")),L(x.a,{id:"2366923719"},[".libsearch-search.jsx-2366923719{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;color:var(--color-foreground-1);}",".libsearch-search-input.jsx-2366923719{width:100%;position:relative;}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-webkit-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-moz-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:-ms-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719{padding:12px 30px 15px 12px;font-size:1em;width:100%;border-top:none;border-right:none;border-left:none;outline:none;color:var(--color-foreground-1);background-color:var(--color-background-1);border-bottom:solid 1px var(--color-control-1);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:focus{border-color:var(--color-primary-1);}",".libsearch-search-loading.jsx-2366923719{position:absolute;top:8.5px;right:0px;width:30px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}",".libsearch-search-no-results.jsx-2366923719{font-size:15px;margin:20px auto;text-align:left;}",".libsearch-installed-header.jsx-2366923719{padding:12px;font-size:16px;}",".libsearch-search-result.jsx-2366923719{list-style:none;overflow:auto;max-height:100%;-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;}",".libsearch-bare-imports-tip.jsx-2366923719{background-color:var(--color-background-2);width:calc(100% - 20px);margin:12px auto;padding:8px 12px;line-height:1.4em;max-width:500px;}",".libsearch-bare-imports-tip.jsx-2366923719 .header.jsx-2366923719{font-weight:bold;font-size:1.1em;margin-bottom:8px;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719{line-height:1.5em;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719 p.jsx-2366923719{margin-top:8px;}",".packages-tip.jsx-2366923719{color:var(--color-foreground-2);}"]))}function B(e){var t=e.pkg,n=e.index,r=e.focused,a=e.onSelect,i=e.onMouseOver;return L("li",{key:t.name||"Unknown","data-index":n,onClick:function(){return a(t)},onMouseOver:i,className:"jsx-1407274871 "+((r?"libsearch-search-item libsearch-search-item-hover":"libsearch-search-item")||"")},L("div",{className:"jsx-1407274871 pkgHeader"},L("div",{className:"jsx-1407274871 pkgName"},t.name),"version"in t&&t.version&&L("div",{className:"jsx-1407274871 pkgVersion"},L("p",{className:"jsx-1407274871"},t.version))),"description"in t&&t.description&&L("div",{className:"jsx-1407274871 pkgDescription"},t.description),L(x.a,{id:"1407274871"},[".libsearch-search-item.jsx-1407274871{cursor:pointer;font-size:1em;padding:18px 12px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-2);cursor:pointer;}",".libsearch-search-item-hover.jsx-1407274871{background-color:var(--color-background-2);}",".pkgHeader.jsx-1407274871{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".pkgName.jsx-1407274871{font-weight:bold;font-size:1.1em;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".pkgVersion.jsx-1407274871{color:var(--color-foreground-2);margin-left:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;}",".pkgDescription.jsx-1407274871{margin-top:6px;font-size:1em;line-height:1.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;}"]))}var z=Object(T.a)({primary:function(e,t){switch(t.type){case"@@INIT":case"LOADING_GOVAL_STARTED":return{listedPackages:[],selectedPackage:null,specfileListedPackages:[],isPackagerRunning:!1};case"SET_SELECTED_PACKAGE":return M({},e,{selectedPackage:t.package});case"PACKAGE_INFO_RESPONSE":return e.selectedPackage&&e.selectedPackage.name===t.response.name?M({},e,{isPackagerRunning:!1,selectedPackage:M({},e.selectedPackage,{},t.response)}):e;case"PACKAGE_SEARCH_RESPONSE":return M({},e,{listedPackages:t.response});case"LIST_SPECFILE_RESPONSE":return M({},e,{specfileListedPackages:t.response,isPackagerRunning:!1});case"ADD_PACKAGES":case"REMOVE_PACKAGES":case"FETCH_PACKAGE_INFO":case"LIST_SPECFILE_PACKAGES":return M({},e,{isPackagerRunning:!0});default:return e}},repl:I.b})},"+Fpg":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return U})),n.d(t,"reducer",(function(){return D})),n.d(t,"receiver",(function(){return H}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("qNsG"),g=n("ln6h"),h=n.n(g),v=n("vYYK"),x=n("MX0m"),w=n.n(x),y=n("q1tI"),k=n.n(y),j=n("XLFt"),E=n("FzLU"),O=n("/MKj"),_=n("h7rM"),N=n("YexM"),S=k.a.createElement;function C(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):C(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var I="SET_VNC_STATUS",R="REGISTER_VNC_CONTAINER_HANDLE",A="REGISTER_RFB_HANDLE",P="CONNECT_VNC",L="SET_VNC_URL";function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rfbHandle:null,containerHandle:null,vncUrl:"",status:"disconnected"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:case P:return T({},e,{vncUrl:t.vncUrl});case R:return T({},e,{containerHandle:t.containerHandle});case A:return T({},e,{rfbHandle:t.rfbHandle});case I:return T({},e,{status:t.status});default:return e}}function M(e){var t=e.wid,r=e.pud,a=e.wait;return function(e,i){var o,s,c,l,u,d,p,f,m;return h.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(Object(_.a)(i(),t,r,"vnc").vncUrl){b.next=4;break}return b.next=4,h.a.awrap(a((function(e){return"SET_VNC_URL"===e.type})));case 4:if(o=Object(_.a)(i(),t,r,"vnc"),s=o.status,c=o.containerHandle,l=o.vncUrl,"disconnected"===s&&c){b.next=7;break}return b.abrupt("return");case 7:return u=E.a.safeGet(c),e({type:I,status:"connecting",wid:t}),b.next=11,h.a.awrap(n.e(125).then(n.t.bind(null,"wvNF",7)).then((function(e){return e.default})));case 11:d=b.sent,(p=new d(u,l)).scaleViewport=!0,p.resizeSession=!0,f=function(){e({type:I,status:"connected",wid:t})},p.addEventListener("connect",f),m=function(){return e(F({wid:t,pud:r,retry:!0,wait:a}))},p.addEventListener("disconnect",m),p.__replitCleanup=function(){p.removeEventListener("connect",f),p.removeEventListener("disconnect",m)},e({type:A,rfbHandle:E.a.getHandle(p),wid:t});case 21:case"end":return b.stop()}}))}}function F(e){var t=e.wid,n=e.pud,r=e.retry,a=e.wait;return function(e,i){var o=Object(_.a)(i(),t,n,"vnc").rfbHandle;if(e({type:I,status:"disconnected",wid:t}),null!==o){var s=E.a.get(o);s&&(e({type:A,rfbHandle:null,wid:t}),s.__replitCleanup(),"connected"!==s._rfb_connection_state&&"connecting"!==s._rfb_connection_state||s.disconnect(),r&&setTimeout((function(){e(M({wid:t,pud:n,wait:a}))}),5e3))}}}var U=function(e){var t=e.wid,n=e.pud,r=e.style;var a=Object(b.a)(e,["wid","pud","style"]).dimensions||{w:{px:0,pc:0},h:{px:0,pc:0}},i=Object(O.e)(),o=Object(O.f)((function(e){return Object(_.a)(e,t,n,"vnc")})),s=o.status,c=o.rfbHandle,l=Object(y.useCallback)((function(e){e&&i({type:R,containerHandle:E.a.getHandle(e),wid:t})}),[]);return Object(y.useEffect)((function(){return function(){i({type:R,containerHandle:null,wid:t}),i({type:"DISCONNECT_VNC",wid:t,pud:n})}}),[]),Object(y.useEffect)((function(){"connected"===s&&null!==c&&E.a.get(c)._windowResize()}),[a.w.px,a.w.pc,a.h.px,a.h.pc,s,c]),S("div",{style:r,className:"jsx-1154152323 vnc"},S("div",{ref:l,className:"jsx-1154152323 vnc-target"}),"connected"!==s&&S("div",{className:"jsx-1154152323 vnc-overlay"},"disconnected"===s&&S("span",{className:"jsx-1154152323"},S("span",{style:{color:"#78b087"},className:"jsx-1154152323"},"run")," your repl to see output"),"connecting"===s&&S(j.a,null)),S(w.a,{id:"1154152323"},[".vnc.jsx-1154152323{position:relative;}",".vnc-target.jsx-1154152323{height:100%;width:100%;}",".vnc-overlay.jsx-1154152323{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,0.85);color:white;}"]))},H=Object(N.a)((function(e,t,n,r){switch(n.type){case"DISCONNECT_VNC":return F({wid:e,pud:t,wait:r});case"CONNECT_VNC":return M({wid:e,pud:t,wait:r});default:return null}}))},"+Y0W":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pLtp"),a=n.n(r),i=n("UO7Q");function o(e){for(var t=e.plugins,n=e.filePath,r=e.pluginType,i=0,o=a()(t);i<o.length;i++){var s=o[i],c=t[s],l=c.type,u=c.state;if(l===r&&(null===n||u.filePath===n))return s}return null}function s(e){var t=e.wid;return function(e,n){var r=n(),a=r.workspace?r.workspace[t]:r,s=a.layout,c=a.plugins,l=function(e,t){var n=i.b(e,t,"fileheader");if(!n)throw new Error("expected to find fileHeader in layout!");return!!window["flag-windowing"]?i.f(n):i.l(n)}(s,c);if(!l)throw new Error("No editor mounted");e({type:"UPDATE_LAYOUT",wid:t,path:l,to:o({plugins:c,filePath:null,pluginType:"blank"}),property:"pud"})}}},"+pxJ":function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("vYYK"),m=n("pLtp"),b=n.n(m),g=n("doui"),h=n("MX0m"),v=n.n(h),x=n("q1tI"),w=n.n(x),y=n("W27C"),k=n("YFqc"),j=n.n(k),E=n("nArr"),O=n.n(E),_=n("Gbtx"),N=n("nGMS"),S=n("W/wR"),C=n("zgDP"),T=n("pQsv"),I=n("nOHt"),R=n("b518"),A=n("tZOq"),P=n("Soul"),L=n.n(P),D=w.a.createElement,M=function(e){var t=e.maxLength,n=void 0===t?140:t,r=e.value;return D("div",{className:"jsx-3275308797"},(void 0===r?"":r).length," / ",n," characters",D(v.a,{id:"3275308797"},["div.jsx-3275308797{color:var(--color-foreground-2);font-size:0.75em;text-align:right;margin-top:var(--spacing-1);}"]))},F=n("VoYB"),U=n("gF3W"),H=n("ceSv"),G=n("7FmB"),B=n.n(G),z=n("G3rN"),K=n.n(z),V=n("Mkq1"),q=n("8xwJ"),W=n("SBBf"),X=n.n(W),Y=n("LtZI"),Q=n.n(Y),J=n("dwxc"),Z=n.n(J),$=w.a.createElement,ee=function(e){return $("div",{className:v.a.dynamic([["1636491936",[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]]])+" always-on"},$(U.HStack,{spacing:1},$("div",{className:v.a.dynamic([["1636491936",[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]]])+" icon"},$(X.a,null)),$(Z.a,{foreground:e.alwaysOn?1:2,size:"small"},"Keep this repl awake")),$("div",{className:v.a.dynamic([["1636491936",[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]]])+" toggle-box"},$(Q.a,{isOn:e.alwaysOn,onChange:function(){e.onChange(!e.alwaysOn)}})),$(v.a,{id:"1636491936",dynamic:[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]},[".always-on.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:20px;width:20px;}",".toggle-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;pointer-events:".concat(e.disabled?"none":"auto",";opacity:").concat(e.disabled?.5:1,";cursor:").concat(e.disabled?"not-allowed":"pointer",";}")]))},te=n("8Vt8"),ne=n("6wo1"),re=n("GHe4"),ae=n("kfub");n.d(t,"a",(function(){return le}));var ie=x.createElement;function oe(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):c.a?o()(e,c()(n)):oe(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function ce(e){var t=e.user;return ie(x.Fragment,null,t?ie(j.a,Object(y.c)(t),ie("a",{onClick:function(e){e.stopPropagation()},className:v.a.dynamic([["3467627074",[N.BREAKPOINTS.tabletMax]]])+" icon"},ie(_.a,{url:t.image,size:"inherit"}))):ie("div",{className:v.a.dynamic([["3467627074",[N.BREAKPOINTS.tabletMax]]])+" icon"},ie(_.a,{size:"inherit"})),ie(v.a,{id:"3467627074",dynamic:[N.BREAKPOINTS.tabletMax]},[".icon.__jsx-style-dynamic-selector{display:none;width:32px;height:32px;}","@media screen and (min-width:".concat(N.BREAKPOINTS.tabletMax,"px){.icon.__jsx-style-dynamic-selector{display:block;}}")]))}function le(e){var t=e.repl,n=e.refetch,r=e.onUpdateRepl,a=e.isLoggedIn,i=Object(I.useRouter)(),o=x.useState(!1),s=Object(g.a)(o,2),c=s[0],l=s[1],u=x.useState(!1),d=Object(g.a)(u,2),p=d[0],f=d[1],m=x.useState(!1),h=Object(g.a)(m,2),w=h[0],y=h[1],k=x.useState(!1),j=Object(g.a)(k,2),E=j[0],_=j[1],P=x.useState(t.isRenamed?t.title:""),D=Object(g.a)(P,2),G=D[0],z=D[1],W=x.useState(t.description||""),X=Object(g.a)(W,2),Y=X[0],Q=X[1],J=Object(F.a)().showError,Z=x.useRef(t),$=Object(A.fe)({variables:{id:t.id},onCompleted:function(){return i.push("/home","/~")},update:Object(T.a)({id:t.id}),onError:function(e){return J(Object(R.d)(e.message))}}),oe=Object(g.a)($,1)[0],le=Object(A.ge)({onError:function(e){return J(Object(R.d)(e.message))},onCompleted:function(e){var n=e.updateRepl.repl,a=Z.current,i={};a.description!==n.description&&(i.description=n.description),a.title!==n.title&&(i.title=n.title),a.url!==n.url&&(i.url=n.url),a.isRenamed!==n.isRenamed&&(i.isRenamed=!!n.isRenamed),Z.current=t,b()(i).length>0&&(r(i),_(!1))}}),ue=Object(g.a)(le,1)[0],de=x.useMemo((function(){return!(!G||G===t.title)||!(""===Y&&!t.description)&&Y!==t.description}),[t,G,Y]),pe=x.useCallback((function(){if(de){var e={id:t.id,title:G||t.title,description:Y};ue({variables:{input:e}})}}),[de,ue,t,G,Y]),fe=Object(ae.a)((function(){c||w||p||(de?pe():_(!1))}),[de,pe,c,w,p]);x.useEffect((function(){E||pe()}),[E,pe]);var me=function(){return ue({variables:{input:{id:t.id,isPrivate:!t.isPrivate}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:se({},t,{isPrivate:!t.isPrivate})}}})},be=t.isRenamed?"name your repl":"default name: ".concat(t.title),ge=[A.I.Submit,A.I.PublishTemplate,A.I.EditTemplate].includes(t.workspaceCta);return ie("div",{ref:fe,className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])+" repl-info"},ie("div",{onClick:function(){return _(!E)},className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])+" repl-info-click-area"},ie(ce,{user:t.user}),ie(S.a,{repl:t}),ie(O.a,null)),E?ie("div",{className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])+" edit-repl"},ie("form",{onSubmit:function(e){e.preventDefault(),pe()},className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])},ie(U.VStack,{wrap:"nowrap",spacing:2,align:"stretch"},ie(U.VStack,{wrap:"nowrap",align:"end"},ie(L.a,{style:{cursor:t.currentUserPermissions.changeTitle?"auto":"not-allowed"},disabled:!t.currentUserPermissions.changeTitle,maxLength:60,placeholder:be,value:G,onChange:function(e){return z(e.target.value)}}),ie(M,{maxLength:60,value:G})),ie(U.VStack,{wrap:"nowrap",align:"end"},ie("textarea",{style:{},onKeyDown:function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)},disabled:!t.currentUserPermissions.changeDescription,maxLength:140,value:Y,onChange:function(e){return Q(e.target.value)},placeholder:"Add a brief description for repl",className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])}),ie(M,{maxLength:140,value:Y})))),ge?null:ie(x.Fragment,null,ie("div",{className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])+" edit-repl-actions"},ie(U.HStack,{spacing:1,align:"center",justify:"space-between"},ie(H.a,{trackingContext:"editReplPopover",isLoggedIn:a,onClick:function(){return f(!0)},onAuthCancel:function(){return f(!1)},replId:t.id,onFork:function(){Object(C.track)(C.events.REPLS_REPL_SELF_FORKED,{replId:t.id})},size:"small"}),t.currentUserPermissions.delete?ie(B.a,{Icon:K.a,color:"negative",size:"small",onClick:function(){y(!0)}},"Delete repl"):null)),t.currentUserPermissions.changePrivacy!==A.z.Disallowed&&ie("div",{className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])+" edit-repl-privacy"},t.currentUserPermissions.changePrivacy===A.z.SubscriptionRequired?ie(V.a,{onUpgrade:function(){l(!0)}}):ie(q.a,{isPrivate:t.isPrivate,onChange:me})),t.currentUserPermissions.setAlwaysOnline?ie("div",{className:v.a.dynamic([["3201237698",[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]]])+" set-always-online"},ie(ee,{alwaysOn:!!t.config.alwaysOn,onChange:function(){var e=!t.config.alwaysOn;ue({variables:{input:{id:t.id,alwaysOn:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:se({},t,{config:se({},t.config,{alwaysOn:e})})}}})}})):null)):null,ie(te.a,{isOpen:w,onRequestClose:function(){return y(!1)}},ie(ne.a,{delete:oe,entityType:"Repl",hideModal:function(){return y(!1)}})),ie(re.a,{isOpen:c,onSubscribe:function(){me(),n()},closeModal:function(){return l(!1)},trackingInfo:{context:"workspace-header"}}),ie(v.a,{id:"3201237698",dynamic:[t.currentUserPermissions.changeDescription?"auto":"not-allowed",N.BREAKPOINTS.mobileMax]},[".repl-info.__jsx-style-dynamic-selector{position:relative;}",".repl-info-click-area.__jsx-style-dynamic-selector{cursor:pointer;display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--spacing-half);color:var(--color-foreground-2);border-radius:var(--border-radius-1);border:1px solid transparent;}",".repl-info-click-area.__jsx-style-dynamic-selector:hover{border:1px solid var(--color-control-1);}",".edit-repl.__jsx-style-dynamic-selector{background-color:var(--color-background-1);border:1px solid var(--color-control-3);color:var(--color-foreground-1);border-radius:var(--border-radius-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);z-index:10000;position:absolute;left:0;top:calc(100% + var(--spacing-1));max-width:460px;width:64vw;}","form.__jsx-style-dynamic-selector{padding:var(--spacing-2);}","textarea.__jsx-style-dynamic-selector{min-height:42px;height:100px;resize:none;cursor:".concat(t.currentUserPermissions.changeDescription?"auto":"not-allowed",";font-size:var(--font-size-desktop-text-medium);font-family:var(--font-family-sans-serif);padding:var(--spacing-1);display:block;width:100%;border-radius:var(--border-radius-2);border:1px solid var(--color-foreground-3);-webkit-transition:0.1s box-shadow;transition:0.1s box-shadow;background-color:transparent;color:var(--color-foreground-1);}"),"textarea.__jsx-style-dynamic-selector:hover{border:1px solid var(--color-foreground-1);}","textarea.__jsx-style-dynamic-selector:hover,textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{background-color:var(--color-background-2);}","textarea.__jsx-style-dynamic-selector:disabled{opacity:0.5;}","textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--color-primary-1);}",".edit-repl-privacy.__jsx-style-dynamic-selector{background:var(--color-background-1);color:var(--color-foreground-2);}",".edit-repl-privacy.__jsx-style-dynamic-selector,.set-always-online.__jsx-style-dynamic-selector{padding:var(--spacing-2);}",".edit-repl-actions.__jsx-style-dynamic-selector{padding:0 var(--spacing-2);}","@media screen and (max-width:".concat(N.BREAKPOINTS.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw;}}")]))}},"+vnL":function(e,t){},"+wUN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,i.default)(e,n),a=(0,i.default)(t,n),o=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return 12*o+s};var r,a=n("2Oix"),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},"/9aa":function(e,t,n){var r=n("NykK"),a=n("ExA7"),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==i}},"/otM":function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("ln6h"),g=n.n(b),h=n("vYYK"),v=n("0iUn"),x=n("sLSF"),w=n("MI3g"),y=n("a7VT"),k=n("Tit0"),j=n("rt45"),E=n("MX0m"),O=n.n(E),_=n("q1tI"),N=n("vbcS"),S=n("lTCR"),C=n.n(S),T=n("nOHt"),I=n.n(T),R=n("/MKj"),A=n("CIYy"),P=n("5TM/"),L=n("ArsQ"),D=n("G5Ub"),M=n("zgDP"),F=n("0gYX"),U=n.n(F),H=_.createElement;function G(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(){var e=Object(j.a)(["\n  mutation createPost($input: CreatePostInput!) {\n    createPost(input: $input) {\n      post {\n        id\n        url\n        showHosted\n        board {\n          id\n          name\n          slug\n          url\n          replRequired\n          template\n        }\n      }\n    }\n  }\n"]);return B=function(){return e},e}var z=C()(B()),K=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(i)))).state={title:n.props.title||"",board:n.props.board,body:n.props.body||(n.props.board&&n.props.board.template?n.props.board.template:""),repl:n.props.repl,showHosted:void 0,loading:!1,tracked:!1},n.onChange=function(e){!n.state.tracked&&n.state.board&&Object(M.track)(M.events.POST_WRITTEN,{boardId:n.state.board.id}),n.props.setActiveEdits&&n.props.setActiveEdits(!0),n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):G(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},e,{tracked:!0}))},n.onSubmit=function(e){var t,r,a,i,o,s,c,l,u,d,p,f,m;return g.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(t=n.state,r=t.title,a=t.body,i=t.showHosted,o=t.repl,s=t.board,c=t.loading,l=o?o.id:void 0,!c&&s){b.next=4;break}return b.abrupt("return");case 4:return n.setState({loading:!0}),b.prev=5,b.next=8,g.a.awrap(e({variables:{input:{title:r,body:a,showHosted:i,replId:l,boardId:s.id}}}));case 8:d=b.sent,u=d.data,b.next=18;break;case 12:return b.prev=12,b.t0=b.catch(5),n.setState({loading:!1}),p=b.t0.graphQLErrors.length&&b.t0.graphQLErrors[0].message||"Something went wrong. Please contact support",n.props.showMessage({content:p,type:"error",time:4e3}),b.abrupt("return");case 18:n.setState({title:"",body:"",repl:void 0,showHosted:void 0,loading:!1}),f=u&&u.createPost,m=f.post,n.props.onSubmit?n.props.onSubmit(m):I.a.push({pathname:"/post",query:{id:m.id}},m.url);case 21:case"end":return b.stop()}}),null,null,[[5,12]])},n.selectBoard=function(e){var t,r,a,i,o,s,c;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=n.state,r=t.repl,a=t.body,i=t.title,o={board:e},!r){l.next=10;break}if(i){l.next=9;break}return l.next=6,g.a.awrap(Object(D.b)("/data/repls/check-generated/".concat(r.title)));case 6:s=l.sent,c=s.isGenerated,o.title=c?"":r.title;case 9:a||(o.body=r.description||e.template||"");case 10:n.setState(o);case 11:case"end":return l.stop()}}))},n}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.boardChangable,r=t.onCancel,a=t.replChangable,i=t.autofocus,o=this.state,s=o.title,c=o.body,l=o.repl,u=o.showHosted,d=o.board,p=o.loading,f=!d||d.replRequired&&!l,m=f;return H("div",{className:"jsx-2855744574 board-new-post-container"},H(N.a,{mutation:z},(function(t){return H(P.a,{title:s,body:c,repl:l,showHosted:u,loading:p,onChange:e.onChange,onSubmit:function(){return e.onSubmit(t)},cancelable:!0,onCancel:r,cta:d&&d.buttonCta?d.buttonCta:"Submit",titleCta:d?d.titleCta:void 0,bodyCta:d?d.bodyCta:void 0,titleDisabled:f,bodyDisabled:m,autofocus:i,showReplSelector:a},d&&d.cta&&!n?H(q,{board:d}):null,l&&!a?H(V,{repl:l}):null,!d||n?H(A.a,{board:d,onBoardSelected:e.selectBoard}):null)})),H(O.a,{id:"2855744574"},[".board-new-post-container.jsx-2855744574{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:700px;margin-left:auto;margin-right:auto;color:var(--color-foreground-1);}"]))}}]),t}(_.Component);K.defaultProps={replChangable:!0,boardChangable:!0};var V=function(e){var t=e.repl,n=U.a.get(t.language),r=n.displayName,a=n.icon;return H("div",{className:"jsx-1134565699"},H("span",{className:"jsx-1134565699"},"Sharing repl"),H("span",{className:"jsx-1134565699"},H("img",{alt:r,title:r,src:a,className:"jsx-1134565699"}),t.title),H(O.a,{id:"1134565699"},["div.jsx-1134565699{margin-top:10px;margin-bottom:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","span.jsx-1134565699:first-child{opacity:0.6;}","span.jsx-1134565699:last-child{font-family:PT Mono,monospace;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","img.jsx-1134565699{width:20px;margin-left:4px;margin-right:4px;}"]))},q=function(e){var t=e.board;return H("div",{className:"jsx-320836829"},H("h2",{className:"jsx-320836829"},t.name),H("p",{className:"jsx-320836829"},t.cta),H(O.a,{id:"320836829"},["div.jsx-320836829{margin-bottom:20px;font-size:20px;text-align:center;}","h2.jsx-320836829{font-size:22px;font-weight:bold;}","p.jsx-320836829{font-size:16px;opacity:0.6;}"]))};t.a=Object(R.c)(void 0,{showMessage:L.b})(K)},"0F/J":function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("UWUU"),s=n("nGMS"),c=n("p6Je"),l=i.createElement;t.a=function(e){var t=e.type,n=void 0===t?"default":t,r=e.onClick,i=e.label,u=e.iconStyle,d=e.lite,p=o[u.svgName],f="run"===n?{backgroundColor:"var(--color-control-3)",backgroundColorHover:"var(--color-positive-1)",backgroundColorActive:"var(--color-positive-2)",textColor:"var(--color-positive-1)",textColorHover:"var(--color-white)"}:{backgroundColor:"var(--color-control-3)",backgroundColorHover:"var(--color-control-2)",backgroundColorActive:"var(--color-control-1)",textColor:"var(--color-foreground-2)",textColorHover:"var(--color-foreground-1)"},m=f.backgroundColor,b=f.backgroundColorHover,g=f.backgroundColorActive,h=f.textColor,v=f.textColorHover;return l("div",{role:"button",onClick:r,className:a.a.dynamic([["1823872648",[m,h,b,v,g,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])+" ws-header-cta"},l("span",{className:a.a.dynamic([["1823872648",[m,h,b,v,g,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])+" ws-header-cta-label"},Object(c.toSentenceCase)(i)),p&&l("div",{className:a.a.dynamic([["1823872648",[m,h,b,v,g,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])+" ws-header-cta-icon"},l(p,{className:a.a.dynamic([["1823872648",[m,h,b,v,g,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])})),l(a.a,{id:"1823872648",dynamic:[m,h,b,v,g,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]},[".ws-header-cta.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:20px;height:80%;width:96px;cursor:pointer;position:relative;-webkit-transition:color 0.2s,background-color 0.2s;transition:color 0.2s,background-color 0.2s;z-index:1;border-radius:var(--border-radius-2);background-color:".concat(m,";color:").concat(h,";font-weight:var(--font-weight-regular);font-size:var(--font-size-desktop-text-medium);border:1px solid var(--color-control-2);}"),".ws-header-cta.__jsx-style-dynamic-selector:hover{background-color:".concat(b,";color:").concat(v,";}"),".ws-header-cta.__jsx-style-dynamic-selector:active{background-color:".concat(g,";}"),".ws-header-cta-label.__jsx-style-dynamic-selector{vertical-align:middle;text-align:center;padding-right:var(--spacing-half);line-height:100%;}",".ws-header-cta-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:".concat(u.width,"px;height:").concat(u.height,"px;padding-top:1px;}"),"@media screen and (max-width:".concat(s.BREAKPOINTS.tabletMax,"px){.ws-header-cta.__jsx-style-dynamic-selector{max-width:").concat(d?"100px":"60px",";min-width:").concat(d?"100px":"60px",";}.ws-header-cta-label.__jsx-style-dynamic-selector{display:none;}}")]))}},"18iC":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=n("zgDP"),l=n("7FmB"),u=n.n(l),d=n("dwxc"),p=n.n(d),f=n("VoYB"),m=n("tZOq"),b=n("Soul"),g=n.n(b),h=s.a.createElement;function v(e){var t=e.replId,n=Object(f.a)(),a=n.showConfirm,o=n.showError,l=Object(m.gc)({variables:{replId:t}}),d=l.data,b=l.loading,v=l.error,x=Object(m.kc)({variables:{replId:t}}),w=Object(r.a)(x,2),y=w[0],k=w[1],j=s.a.useRef(null),E=d&&d.repl&&"Repl"===d.repl.__typename&&d.repl.inviteUrl?window.location.origin+d.repl.inviteUrl:null;s.a.useEffect((function(){k.error&&o(k.error.message),k.data&&Object(c.track)(c.events.MP2_REFRESHED_LINK,{replId:t})}),[k.error,k.data,t,o]);var O=function(){j&&j.current&&j.current.select()};return b?h("div",null,"loading..."):E?h("div",{className:"jsx-372163945 root"},h(p.a,{foreground:2,size:"small"},"Or invite someone with a join link"),h("div",{className:"jsx-372163945 input-link"},h(g.a,{ref:j,readOnly:!0,onChange:function(){return null},value:E,onClick:O}),h(u.a,{onClick:function(){O(),document.execCommand("copy"),a("Link copied")}},"Copy")),h(p.a,{size:"small",foreground:2},"Only one join link works at a time."," ",h("a",{onClick:function(e){e.preventDefault(),k.loading||y()},className:"jsx-372163945"},"Generate a new one.")),h(i.a,{id:"372163945"},[".root.jsx-372163945{display:grid;grid-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".input-link.jsx-372163945{display:grid;grid-template-columns:1fr auto;grid-column-gap:var(--spacing-1);-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}",".input-link.jsx-372163945 input{cursor:text !important;}"])):v?h("div",null,"Error: please contact support"):null}},"1GjN":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("TSYQ"),s=n.n(o),c=i.createElement;function l(e){var t=e.enabled,n=e.enabledChild,r=e.disabledChild,i=e.onClick,o=e.style;return c("div",{style:o,onClick:i,className:"jsx-3781739236 "+(s()("toggle-box-root",{"toggle-box-enabled":t})||"")},!t&&c("div",{className:"jsx-3781739236 toggle-box-toggle"}),c("div",{className:"jsx-3781739236 toggle-box-child-container"},t&&n,!t&&r),t&&c("div",{className:"jsx-3781739236 toggle-box-toggle"}),c(a.a,{id:"3373614338"},[".toggle-box-root.jsx-3781739236{background-color:var(--color-primary-transparent-1);color:var(--color-foreground-1);}",".toggle-box-enabled.jsx-3781739236{background-color:var(--color-positive-1);}"]),c(a.a,{id:"2091277935"},[".toggle-box-root.jsx-3781739236{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding:0.2em;border-radius:1.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".toggle-box-toggle.jsx-3781739236{width:1.5em;height:1.5em;background:#fff;border-radius:100%;}",".toggle-box-child-container.jsx-3781739236{padding:0 0.75em;}"]))}},"1lQF":function(e,t,n){"use strict";var r=n("q1tI"),a=n("YexM");t.a=function(e){var t=[],n=null;return{receiver:Object(a.a)((function(r,a,i,o){var s={wid:r,pud:a,action:i,wait:o};return e&&!e.includes(s.action.type)?null:n?n(s):(t.push(s),null)})),useReceiver:function(e){var a,i;r.useDebugValue("Captured events: ".concat(t.length)),r.useDebugValue("First event: ".concat(null===(a=t[0])||void 0===a?void 0:a.action.type)),r.useDebugValue("Last event: ".concat(null===(i=t[t.length-1])||void 0===i?void 0:i.action.type)),r.useEffect((function(){if(null!==n)throw new Error("Expected callback to be null, please useReceiver once in your plugin, or avoid using multiple instances of the plugin");return t.forEach(e),t=[],n=e,function(){n=null}}),[e])}}}},"2LBI":function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("kOwS"),g=n("dfwq"),h=n("qNsG"),v=n("vYYK"),x=n("doui"),w=n("q1tI"),y=n.n(w),k=n("8v8i"),j=n("MX0m"),E=n.n(j),O=n("7FmB"),_=n.n(O),N=n("xc+K"),S=w.createElement;function C(e){var t=e.onCreateClick,n=e.depth;return S(N.c,{interactive:!1,depth:n},S("div",{className:"jsx-3022828519"},"Add a ",S(_.a,{size:"small",border:!1,onClick:function(){return t(k.b.File)}},"file"),"  or ",S(_.a,{size:"small",border:!1,onClick:function(){return t(k.b.Directory)}},"folder")),S(E.a,{id:"3022828519"},["div.jsx-3022828519{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;overflow:hidden;white-space:nowrap;}"]))}var T=n("TSYQ"),I=n.n(T),R=n("CLjb"),A=n("kDUs"),P=n("IjuC"),L=w.createElement;function D(e){var t=e.path,n=e.readOnly,r=e.onRename,a=e.onDelete,i=Object(h.a)(e,["path","readOnly","onRename","onDelete"]),o=t.split("/"),s=o[o.length-1],c=o.length-1,l=w.useState(null),u=Object(x.a)(l,2),d=u[0],p=u[1];w.useEffect((function(){if(d){var e=!1;return d.file.then((function(t){e||(t.error&&window.alert(t.error),p(null))})),function(){e=!0}}}),[d]);var f=Object(R.a)({item:{type:k.b.File,path:t},canDrag:function(){return!n},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){t.didDrop()&&p(t.getDropResult())}}),m=Object(x.a)(f,2),g=m[0].isDragging,v=m[1];return L("div",{ref:v,className:"jsx-2779273312 "+(I()({"is-dragging":g,"is-removing":d})||"")},L(N.c,Object(b.a)({depth:c},i,{actions:n?void 0:[A.a.Rename,A.a.OpenTab,A.a.CopyLink,A.a.Delete],onAction:function(e){switch(e){case A.a.Rename:return void r();case A.a.OpenTab:return void i.onClick({newTab:!0});case A.a.CopyLink:var n=window.location.href,o=n.includes("#")?n.indexOf("#"):n.length,s="".concat(n.slice(0,o),"#").concat(t);return void Object(P.a)(s);case A.a.Delete:a()}}}),L(N.a,{type:k.b.File,path:t,active:i.active}),L(N.b,null,s)),L(E.a,{id:"2779273312"},["div.jsx-2779273312{max-width:100%;width:100%;}",".is-removing.jsx-2779273312{opacity:0.5;pointer-events:none;}",".is-dragging.jsx-2779273312{opacity:0.7;}"]))}var M=n("yzOi"),F=n("dI/k"),U=n("Soul"),H=n.n(U),G=w.createElement;function B(e){var t=e.type,n=e.initialValue,r=e.onSubmit,a=e.onCancel,i=e.siblings,o=e.depth,s=w.useRef(null),c=Object(M.a)(n||"",(function(e){var t=Object(F.g)({files:i.map((function(e){return e.filename})),fileName:e,initialValue:n});return t?{message:t}:null}));return w.useEffect((function(){if(n){var e=n.lastIndexOf(".");-1===e&&(e=n.length),s.current&&s.current.setSelectionRange(0,e)}}),[n]),G("div",{className:"jsx-253760521 "+E.a.dynamic([["4247248962",[o,o]]])+" input-wrap"},G(H.a,{ref:s,validationResults:c.error?[{state:"error",message:c.error.message}]:void 0,autoFocus:!0,value:c.value,onBlur:function(){c.value&&c.value!==n?c.error?a():r(c.value):a()},onKeyUp:c.validate,onKeyDown:function(e){"Enter"!==e.key?"Escape"===e.key&&a():r(c.value)},onChange:function(e){c.setValue(e.target.value)}}),G("div",{className:"jsx-253760521 "+E.a.dynamic([["4247248962",[o,o]]])+" icon"},G(N.a,{type:t,path:c.value})),G(E.a,{id:"4247248962",dynamic:[o,o]},[".input-wrap.__jsx-style-dynamic-selector input{padding-left:calc(".concat(o," * var(--spacing-2) + var(--spacing-6));}"),".icon.__jsx-style-dynamic-selector{padding-left:calc(".concat(o," * var(--spacing-2));}")]),G(E.a,{id:"253760521"},[".input-wrap.jsx-253760521{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;font-size:var(--font-size-desktop-text-small);position:relative;}",".input-wrap.jsx-253760521 input{font-size:inherit;padding-top:var(--spacing-half);padding-bottom:var(--spacing-half);}",".icon.jsx-253760521{pointer-events:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;height:100%;}"]))}var z=n("XpjT"),K=n.n(z),V=n("KH4j"),q=n.n(V),W=n("7njZ"),X=w.createElement;function Y(e){var t=e.type,n=e.create,r=e.onCreate,a=e.onError,i=e.onCancel,o=e.parentPath,s=e.depth,c=void 0===s?0:s,l=e.siblings,u=Object(W.a)(),d=w.useState(null),p=Object(x.a)(d,2),f=p[0],m=p[1];return f?X("div",{className:"jsx-1520206447 pending-node"},X(N.c,{depth:c,onClick:function(){return null}},X("div",{className:"jsx-1520206447 icon"},f.type===k.b.Directory?X(q.a,null):X(K.a,null)),X("div",{className:"jsx-1520206447"},f.filename)),X(E.a,{id:"1520206447"},[".pending-node.jsx-1520206447{pointer-events:none;opacity:0.5;}",".icon.jsx-1520206447{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:12px;}"])):X(B,{depth:c,siblings:l,type:t,onCancel:i,onSubmit:function(e){if(!f){var i={path:o?o+"/"+e:e,type:t};m({filename:e,type:t}),n(i).then((function(){u.current&&(m(null),r(i))})).catch((function(e){u.current&&a(e)}))}}})}var Q=n("7EIp"),J=n("gfZM"),Z=n("VoYB"),$=n("8Vt8"),ee=n("irrw"),te=n.n(ee),ne=n("gF3W"),re=n("dwxc"),ae=n.n(re),ie=w.createElement;function oe(e){var t=e.filename,n=e.onCancel,r=e.onConfirm;return ie("div",{className:"jsx-4280829187 content"},ie(ne.VStack,{spacing:4},ie(ne.VStack,{spacing:1},ie(te.a,{level:3},"Delete ",t,"?"),ie(ae.a,{foreground:2},"Are you sure you want delete this file? This cannot be undone.")),ie(ne.HStack,{spacing:1},ie(_.a,{autoFocus:!0,onClick:n},"Cancel"),ie(_.a,{color:"negative",filled:!0,onClick:r},"Yes, delete this file"))),ie(E.a,{id:"4280829187"},[".content.jsx-4280829187{padding:var(--spacing-4);}"]))}var se=n("GRpk"),ce=y.a.createElement,le=function(e){return e%2!==0?-10*e:10*e};function ue(e){var t=e.rows,n=void 0===t?3:t,r=e.depth,a=void 0===r?0:r;return ce("div",{className:E.a.dynamic([["3357285717",[a]]])+" loader"},ce(se.a,{primaryColor:"var(--color-control-1)",secondaryColor:"var(--color-control-3)",height:32*n,width:250,className:"content-loader",uniquekey:"fileTreeLoader2"},Array(n).fill(null).map((function(e,t){return ce(y.a.Fragment,{key:t},ce("circle",{cx:"28",cy:"".concat(16+32*t),r:"8",className:E.a.dynamic([["3357285717",[a]]])}),ce("rect",{x:48,y:"".concat(7+32*t),rx:"3",ry:"3",width:"".concat(100+le(t)),height:"16",className:E.a.dynamic([["3357285717",[a]]])}))}))),ce(E.a,{id:"3357285717",dynamic:[a]},[".loader.__jsx-style-dynamic-selector{width:100%;height:100%;overflow:hidden;padding-left:calc(".concat(a," * var(--spacing-2));}"),".loader.__jsx-style-dynamic-selector>svg{width:250px;}"]))}n.d(t,"a",(function(){return me}));var de=w.createElement;function pe(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):pe(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function me(e){var t=e.parentPath,n=e.nodes,r=e.loading,a=e.error,i=e.readOnly,o=Object(h.a)(e,["parentPath","nodes","loading","error","readOnly"]),s=Object(Z.a)().showError,c=t?t.split("/"):[],l=o.fs,u=o.pendingFileType,d=o.setPendingFileType,p=o.onNodeClick,f=o.activePath,m=function(e){var t=w.useState(null),n=Object(x.a)(t,2),r=n[0],a=n[1],i=w.useState(null),o=Object(x.a)(i,2),s=o[0],c=o[1];return w.useEffect((function(){if(s){var t=!1;if("rename"===s.type)(s.fileType===k.b.File?e.moveFile(s.path,s.to):e.moveDir(s.path,s.to)).then((function(e){t||(c(null),e.error&&a(e.error))}));else(s.fileType===k.b.File?e.deleteFile(s.path):e.deleteDir(s.path)).then((function(e){t||(c(null),e.error&&a(e.error))}));return function(){t=!0}}a(null)}),[s,e]),{renameNode:function(e){return c(fe({},e,{type:"rename"}))},deleteNode:function(e){return c(fe({},e,{type:"delete"}))},currentOp:s,error:r}}(l),v=m.renameNode,y=m.deleteNode,j=m.currentOp,E=m.error,O=w.useState(null),_=Object(x.a)(O,2),S=_[0],T=_[1],I=w.useState(null),R=Object(x.a)(I,2),A=R[0],P=R[1];if(w.useEffect((function(){E&&s(E)}),[E,s]),r)return de(ue,{rows:3,depth:c.length});if(a)return de(N.c,{depth:c.length,interactive:!1},a);if(!n)throw new Error("Expected node");var L=n.some((function(e){if(f)return e.type===k.b.File&&(t?f.endsWith("/"+e.filename):f===e.filename)})),M=!i&&u&&(!t&&!f||f===t||L);return de(w.Fragment,null,de("div",{style:{position:"relative"}},de("div",{style:{position:"absolute",top:0,display:"none",left:0}},de(ue,{rows:c.length?3:6,depth:c.length}))),n.map((function(e){var t=e.filename,r=e.type,a=[].concat(Object(g.a)(c),[t]).join("/"),s=n.filter((function(e){return e.filename!==t}));if((null===j||void 0===j?void 0:j.path)===a)return"rename"===j.type?de(N.c,{key:t,depth:c.length,onClick:function(){return null}},de(N.a,{type:k.b.File,path:a}),de(N.b,null,j.path.split("/").pop()||"")):null;if((null===S||void 0===S?void 0:S.filename)===t)return de(N.c,{key:t,depth:0,onClick:function(){return null}},de(B,{type:r,depth:c.length,siblings:s,initialValue:t,onSubmit:function(e){v({fileType:r,path:a,to:[].concat(Object(g.a)(c),[e]).join("/")})},onCancel:function(){return T(null)}}));var l={siblings:s,readOnly:i,active:f===a,path:a,key:t,onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newTab:!1},t=e.newTab;return p({path:a,type:r,newTab:t})},onRename:function(){return T({filename:t,type:r})},onDelete:function(){return P({filename:t,type:r})}};return r===k.b.File?de(D,l):de(Q.a,Object(b.a)({},l,o))})),o.pendingUploads?o.pendingUploads.map((function(e){var r=e.lastIndexOf("/");return(-1!==r?e.slice(0,r):void 0)!==t?null:de(D,{onRename:function(){return null},onDelete:function(){return null},siblings:n.filter((function(t){return t.filename!==e})),key:e,path:e,readOnly:!0,onClick:function(){return null}})})):null,i||n.length||M?null:de(C,{depth:c.length,onCreateClick:d}),M&&u?de(Y,{siblings:n||[],depth:c.length,parentPath:t,create:function(e){var t=e.path;return e.type===k.b.File?l.writeFile(t,J.a.from("")):l.createDir(t)},type:u,onError:function(e){return s(e)},onCancel:function(){return d(null)},onCreate:function(e){d(null),p(e)}}):null,de($.a,{isOpen:Boolean(A),onRequestClose:function(){return P(null)}},A?de(oe,{filename:A.filename,onCancel:function(){return P(null)},onConfirm:function(){P(null),y({fileType:A.type,path:[].concat(Object(g.a)(c),[A.filename]).join("/")})}}):null))}},"2T9W":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return p})),n.d(t,"reducer",(function(){return f}));var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n("mU7w"),c=n("Qbrf"),l=n("NveQ"),u=n("h7rM"),d=o.createElement,p=function(e){var t,n=e.wid,a=e.pud,o=Object(u.b)(n,a,"blank");return(null===(t=Object(r.a)(o,1)[0].dirs[""])||void 0===t?void 0:t.loaded)?d("div",{className:"jsx-1394228484 blank"},d(i.a,{id:"1394228484"},[".blank.jsx-1394228484{background-color:var(--color-background-1);height:100%;width:100%;}"])):d(s.a,null)},f=Object(c.a)({dirs:l.a})},"2UMc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,r.default)(e,n),s=(0,r.default)(t,n),c=(0,i.default)(o,s,n),l=Math.abs((0,a.default)(o,s,n));o.setMonth(o.getMonth()-c*l);var u=(0,i.default)(o,s,n)===-c,d=c*(l-u);return 0===d?0:d};var r=o(n("2Oix")),a=o(n("+wUN")),i=o(n("zmLq"));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},"2URR":function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("q1tI"),h=g.createElement;function v(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):v(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var w={progress:{base:{position:"absolute",left:"25%",right:"25%",top:"47%",height:"7px",backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px",borderRadius:"10px",borderColor:"#fff",transition:"opacity 0.5s",zIndex:1},progressFiller:{width:"100%",height:"5px",backgroundColor:"#fff"},progressFill:{animation:"x 3s ease 0s infinite",animationName:"loader-fill-animation"}}};t.a=function(e){var t=e.loading,n=w.progress;return h("div",{style:x({},n.base,{},t?{}:{opacity:0})},h("div",{style:x({},n.progressFiller,{},t?n.progressFill:{})}))}},"2mtm":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},"3TIX":function(e,t,n){"use strict";n.d(t,"S",(function(){return W})),n.d(t,"Q",(function(){return ne})),n.d(t,"Z",(function(){return re})),n.d(t,"Y",(function(){return ae})),n.d(t,"X",(function(){return X})),n.d(t,"T",(function(){return J})),n.d(t,"R",(function(){return Z})),n.d(t,"U",(function(){return Y})),n.d(t,"ab",(function(){return Q})),n.d(t,"cb",(function(){return ee})),n.d(t,"W",(function(){return $})),n.d(t,"bb",(function(){return te})),n.d(t,"J",(function(){return C})),n.d(t,"V",(function(){return oe})),n.d(t,"w",(function(){return i})),n.d(t,"l",(function(){return m})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"H",(function(){return w})),n.d(t,"I",(function(){return y})),n.d(t,"K",(function(){return k})),n.d(t,"g",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"o",(function(){return V})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return x})),n.d(t,"s",(function(){return E})),n.d(t,"r",(function(){return O})),n.d(t,"L",(function(){return _})),n.d(t,"O",(function(){return T})),n.d(t,"P",(function(){return I})),n.d(t,"G",(function(){return S})),n.d(t,"k",(function(){return R})),n.d(t,"v",(function(){return A})),n.d(t,"n",(function(){return P})),n.d(t,"N",(function(){return L})),n.d(t,"z",(function(){return D})),n.d(t,"M",(function(){return M})),n.d(t,"F",(function(){return F})),n.d(t,"y",(function(){return U})),n.d(t,"q",(function(){return H})),n.d(t,"B",(function(){return G})),n.d(t,"x",(function(){return a})),n.d(t,"C",(function(){return v})),n.d(t,"p",(function(){return K})),n.d(t,"m",(function(){return r})),n.d(t,"E",(function(){return z})),n.d(t,"A",(function(){return B})),n.d(t,"D",(function(){return q}));var r="FLUSH_FILE_WRITES",a="OPEN_SIDEPANE_BY_TYPE",i="NEW_CONSOLE_MESSAGE",o="DEBUG_CODE",s="DEBUG_STARTED",c="DEBUG_ENDED",l="DEBUG_STACK",u="DEBUGGER_RESUME",d="DEBUGGER_STEP_OVER",p="DEBUGGER_STEP_INTO",f="DEBUGGER_STEP_OUT",m="EVAL_CODE",b="LOADING_ENGINE_COMPLETE",g="LOADING_EXECUTION_ENGINE_STARTED",h="CONSOLE_INPUT",v="RESIZE_TERMINAL",x="CLEAR_CONSOLE",w="SET_EDITOR_SESSION",y="SET_SPLIT_POSITION",k="STOP_EVAL",j="LINT_CODE",E="LINT_STARTED",O="LINT_ENDED",_="UPDATE_LAYOUT",N="TRACK_WS_EVENT",S="SET_ACTIVE_LINE",C="SHOW_EXAMPLES",T="WORKSPACE_MOUNTED",I="WORKSPACE_WILL_UNMOUNT",R="ENGINE_FORMAT_FILE",A="MONACO_FORMAT_FILE",P="FORMAT_FILE",L="WEBVIEW_LOADED",D="REFRESH_WEBVIEW",M="UPDATE_WORKSPACE_PREFERENCES",F="SEND_LSP_MESSAGE",U="RECEIVED_LSP_MESSAGE",H="LANGUAGE_SERVER_DIED",G="REGISTER_MONACO_EDITOR_HANDLE",B="REGISTER_ACE_EDITOR_HANDLE",z="SELECT_EDITOR_RANGE",K="INSTALL_PACKAGES",V="@@INIT",q="RUN_REPL",W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return{data:e,type:t,kind:t,raw:!!n}};function X(e){var t=e.wid,n=e.message,r=e.type,a=void 0===r?"":r,o=e.raw;return{wid:t,type:i,message:W(n,a,!!o)}}function Y(e){var t=e.wid;return{type:q,wid:t}}function Q(e){var t=e.wid;return{type:k,wid:t}}function J(e){var t=e.wid,n=e.code,r=e.clean;return{type:m,wid:t,code:n,clean:r}}function Z(e){var t=e.wid,n=e.input,r=e.kind;return{type:h,wid:t,input:n,kind:r||"output"}}function $(e){var t=e.wid,n=e.filePath,r=e.code;return{type:j,wid:t,filePath:n,code:r}}function ee(e){var t=e.wid,n=e.path,r=e.to,a=e.property;return{type:_,wid:t,path:n,to:r,property:a}}function te(e){var t=e.wid,n=e.eventKey,r=e.properties,a=e.trackOnce;return{type:N,wid:t,eventKey:n,properties:r,trackOnce:a}}function ne(e){var t=e.wid,n=e.pud;return{type:x,wid:t,pud:n}}function re(e){var t=e.wid,n=e.cols,r=e.rows,a=e.kind;return{type:v,wid:t,cols:n,rows:r,kind:a}}function ae(e){return{type:"OPEN_FILE",wid:e.wid,path:e.path,newTab:e.newTab}}function ie(e){var t=e.wid,n=e.line;return{type:S,wid:t,line:n}}function oe(e){var t=e.wid,n=e.line;return function(e){e(ie({wid:t,line:n})),setTimeout((function(){e(ie({wid:t,line:null}))}),2e3)}}},"3oNi":function(e,t){},"4JO1":function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("XLFt"),c=o.a.createElement;t.a=function(){return c("div",{className:"jsx-981891466 page-loader"},c(s.a,{style:{width:76,height:76}}),c(a.a,{id:"981891466"},[".page-loader.jsx-981891466{background-color:rgba(255,255,255,0.4);position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#7f7f7f;font-size:20px;overflow:hidden;z-index:1000;}"]))}},"4byT":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("doui"),a=n("p0XB"),i=n.n(a),o=n("0iUn"),s=n("sLSF"),c=n("MI3g"),l=n("a7VT"),u=n("Tit0"),d=n("MX0m"),p=n.n(d),f=n("q1tI"),m=n("LOQN"),b=n("7FmB"),g=n.n(b),h=f.createElement,v=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).onSubmit=function(e){n.props.hideOnSubmit&&n.props.hideModal&&n.props.hideModal(),n.props.onSubmit(e)},n.getBodyAndTitle=function(){var e=n.props.children;if(!i()(e)&&f.Children.count(e)<2)throw new Error("Expected title and body in ActionModal");var t=e[0];if(i()(t))throw new Error("title child cannot be an array");var r=f.cloneElement(t,{className:"action-modal-title "+("undefined"!==typeof t.className?t.className:"")}),a=e[1];if(i()(a))throw new Error("body child cannot be an array");return[r,f.cloneElement(a,{className:"action-modal-body"+(a.className||"")})]},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new m.a,this._eventSubscriber.listen(window.document,"keydown",(function(t){13!==t.keyCode||e.props.submitWithoutCtrl&&!t.ctrlKey&&!t.metaKey||e.props.disableSubmit||e.props.onSubmit()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,t=this.getBodyAndTitle(),n=Object(r.a)(t,2),a=n[0],i=n[1];return h("div",{style:this.props.modalStyle,className:"jsx-952707971 action-modal"},h(p.a,{id:"3903215339"},[".action-modal.jsx-952707971{background-color:var(--color-background-1);color:var(--color-foreground-1);}"]),h(p.a,{id:"3554563297"},[".action-modal.jsx-952707971{padding:35px 25px 35px;display:grid;grid-row-gap:var(--spacing-2);}",".action-modal-buttons.jsx-952707971{display:grid;grid-row-gap:var(--spacing-1);}",".action-modal.jsx-952707971 .action-modal-title{font-size:20px;}",".action-modal.jsx-952707971 .action-modal-body{font-size:16px;padding-top:30px;line-height:22px;}","@media screen and (min-width:400px){.action-modal-buttons.jsx-952707971{grid-auto-flow:column;grid-column-gap:20px;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}.action-modal-buttons.jsx-952707971>button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}","@media screen and (min-width:600px){.action-modal.jsx-952707971{padding:75px 50px 75px;}}"]),a,i,h("div",{className:"jsx-952707971 action-modal-buttons"},h(g.a,{color:this.props.deleteStyle?"negative":"primary",key:"actionModalCta",disabled:this.props.disableSubmit,onClick:this.onSubmit,filled:!0},this.props.submitLabel||"Ok"),!this.props.hideCancel&&h(g.a,{key:"cancel",onClick:function(){e.props.onCancel&&e.props.onCancel(),e.props.hideModal&&e.props.hideModal()}},this.props.cancelLabel||"Cancel")))}}]),t}(f.Component);v.defaultProps={autoFocus:!1}},"5RMj":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="workspace-root"},"5cLd":function(e,t,n){(function(t){var n=1/0,r="[object Symbol]",a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="[\\ud800-\\udfff]",c="["+o+"]",l="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",u="\\d+",d="[\\u2700-\\u27bf]",p="[a-z\\xdf-\\xf6\\xf8-\\xff]",f="[^\\ud800-\\udfff"+o+u+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",m="\\ud83c[\\udffb-\\udfff]",b="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="[A-Z\\xc0-\\xd6\\xd8-\\xde]",x="(?:"+p+"|"+f+")",w="(?:"+v+"|"+f+")",y="(?:"+l+"|"+m+")"+"?",k="[\\ufe0e\\ufe0f]?"+y+("(?:\\u200d(?:"+[b,g,h].join("|")+")[\\ufe0e\\ufe0f]?"+y+")*"),j="(?:"+[d,g,h].join("|")+")"+k,E="(?:"+[b+l+"?",l,g,h,s].join("|")+")",O=RegExp("['\u2019]","g"),_=RegExp(l,"g"),N=RegExp(m+"(?="+m+")|"+E+k,"g"),S=RegExp([v+"?"+p+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[c,v,"$"].join("|")+")",w+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[c,v+x,"$"].join("|")+")",v+"?"+x+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",u,j].join("|"),"g"),C=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),T=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,I="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,A=I||R||Function("return this")();var P,L=(P={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==P?void 0:P[e]});function D(e){return C.test(e)}function M(e){return D(e)?function(e){return e.match(N)||[]}(e):function(e){return e.split("")}(e)}var F=Object.prototype.toString,U=A.Symbol,H=U?U.prototype:void 0,G=H?H.toString:void 0;function B(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&F.call(e)==r}(e))return G?G.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}function z(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}(e,t,n)}function K(e){return null==e?"":B(e)}var V,q=(V=function(e,t,n){return t=t.toLowerCase(),e+(n?X(K(t).toLowerCase()):t)},function(e){return function(e,t,n,r){var a=-1,i=e?e.length:0;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}(function(e,t,n){return e=K(e),void 0===(t=n?void 0:t)?function(e){return T.test(e)}(e)?function(e){return e.match(S)||[]}(e):function(e){return e.match(a)||[]}(e):e.match(t)||[]}(function(e){return(e=K(e))&&e.replace(i,L).replace(_,"")}(e).replace(O,"")),V,"")});var W,X=(W="toUpperCase",function(e){var t=D(e=K(e))?M(e):void 0,n=t?t[0]:e.charAt(0),r=t?z(t,1).join(""):e.slice(1);return n[W]()+r});e.exports=q}).call(this,n("yLpj"))},62:function(e,t,n){n("j36g"),e.exports=n("x+sr")},"6wo1":function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("7FmB"),c=n.n(s),l=o.a.createElement;t.a=function(e){return l("div",{className:"jsx-2160583212 wrap"},l("div",{className:"jsx-2160583212 title"},"Delete ",e.name||e.entityType),l("div",{className:"jsx-2160583212 text"},"Are you sure you want to delete this ",e.entityType,"? This cannot be undone."),l("div",{className:"jsx-2160583212 buttons"},l(c.a,{color:"negative",onClick:function(){e.delete(),e.hideModal()}},"Yes, delete this ",e.entityType),l(c.a,{onClick:e.hideModal,autoFocus:!0},"Cancel")),l(a.a,{id:"2160583212"},[".wrap.jsx-2160583212{background-color:var(--color-background-1);border-radius:var(--border-radius-1);color:var(--color-foreground-1);}",".title.jsx-2160583212{color:var(--color-red-1);}",".wrap.jsx-2160583212{max-width:600px;padding:35px 25px 35px;display:grid;grid-row-gap:25px;}",".buttons.jsx-2160583212{display:grid;grid-row-gap:20px;}",".title.jsx-2160583212{font-size:20px;}",".text.jsx-2160583212{margin-bottom:5px;}","@media screen and (min-width:400px){.buttons.jsx-2160583212{grid-auto-flow:column;grid-column-gap:20px;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}.buttons.jsx-2160583212>button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}","@media screen and (min-width:600px){.wrap.jsx-2160583212{padding:75px 50px 75px;}}"]))}},"7EIp":function(e,t,n){"use strict";var r=n("kOwS"),a=n("eVuF"),i=n.n(a),o=n("doui"),s=n("qNsG"),c=n("MX0m"),l=n.n(c),u=n("q1tI"),d=n("TSYQ"),p=n.n(d),f=n("qJlv"),m=[".config",".npm$",".npm/","__pycache__",".cache",".git",".git",".upm","upm","node_modules","_test_runner"];var b=n("2LBI"),g=n("xc+K"),h=n("CLjb"),v=n("aMZS"),x=n("8v8i"),w=n("8/ze"),y=n("kDUs");n.d(t,"a",(function(){return j}));var k=u.createElement;function j(e){var t=e.path,n=e.active,a=e.onClick,c=e.onRename,d=e.onDelete,j=Object(s.a)(e,["path","active","onClick","onRename","onDelete"]),E=j.fs,O=j.onChildrenLoad,_=j.transformChildren,N=j.uploadFiles,S=j.readOnly,C=j.setPendingFileType,T=j.activePath?j.activePath.split("/"):[],I=t.split("/"),R=I[I.length-1],A=I.length-1,P=t===w.a,L=T[A],D=u.useState(null),M=Object(o.a)(D,2),F=M[0],U=M[1];u.useEffect((function(){if(F){var e=!1;return F.dir.then((function(t){e||(t.error&&window.alert(t.error),U(null))})),function(){e=!0}}}),[F]);var H=u.useState(null),G=Object(o.a)(H,2),B=G[0],z=G[1];u.useEffect((function(){if(B){var e=!1;return("dir"in B?B.dir:B.file).then((function(){e||z(null)})),function(){e=!0}}}),[B]);var K=function(e){var t=e.path,n=e.initialExpanded,r=e.fs,a=u.useState(null),i=Object(o.a)(a,2),s=i[0],c=i[1],l=u.useState(null),d=Object(o.a)(l,2),p=d[0],f=d[1],b=u.useState(Boolean(n)),g=Object(o.a)(b,2),h=g[0],v=g[1];return u.useEffect((function(){if(h)return r.watchDir(t,{onChange:function(e){c(e.filter((function(e){return!m.includes(e.filename)})))},onError:function(e){f(e)}})}),[r,t,h,c,f]),{toggleExpanded:u.useCallback((function(){v((function(e){return!e}))}),[]),children:s,error:p,loading:h&&!s&&!p,expanded:h}}({path:t,initialExpanded:P||T[A]===R,fs:j.fs}),V=K.toggleExpanded,q=K.children,W=K.loading,X=K.error,Y=K.expanded,Q=u.useRef(Y);u.useEffect((function(){Q.current=Y}),[Y]),u.useEffect((function(){Q.current||L===R&&V()}),[L,A,R,V]),u.useEffect((function(){!Y&&n&&j.pendingFileType&&V()}),[V,Y,n,j.pendingFileType]);var J=Object(h.a)({item:{type:x.b.Directory,path:t},canDrag:function(){return!j.readOnly},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,t){t.didDrop()&&U(t.getDropResult())}}),Z=Object(o.a)(J,2),$=Z[0].isDragging,ee=Z[1],te=Object(v.a)({accept:[x.b.File,x.b.Directory,f.b.FILE],drop:function(e,n){if(!n.didDrop()){if(!("dirContent"in e)){var r=e.path.split("/"),a=r[r.length-1];if(null===q||void 0===q?void 0:q.find((function(e){return e.filename===a})))return e.type===x.b.Directory?{dir:i.a.resolve({error:x.c.AlreadyExists})}:{file:i.a.resolve({error:x.c.AlreadyExists})};if(null===q||void 0===q?void 0:q.some((function(n){return"".concat(t,"/").concat(n.filename,"}")===e.path}))){var o=i.a.resolve({error:null});return e.type===x.b.Directory?{dir:o}:{file:o}}var s=t+"/"+a;if(e.type===x.b.Directory){var c=E.moveDir(e.path,s);return z({dir:c}),{dir:c}}var l=E.moveFile(e.path,s);return z({file:l}),{file:l}}e.dirContent.then((function(e){N({parentPath:P?void 0:t,files:e})}))}},collect:function(e){return{isOver:e.isOver({shallow:!0})}}}),ne=Object(o.a)(te,2),re=ne[0].isOver,ae=ne[1];u.useEffect((function(){if(re&&!Y){var e=setTimeout(V,500);return function(){clearTimeout(e)}}}),[re,V,Y]),u.useEffect((function(){q&&O&&O({path:t,children:q})}),[O,t,q]);var ie=q;return ie&&_&&(ie=_({children:ie,path:t})),k("div",{ref:function(e){ae(e),ee(e)},className:"jsx-4277130820 "+(p()("dir-node",{"is-dropping":re,"is-dragging":$,"is-removing":F})||"")},P?null:k(g.c,{active:n||re,depth:A,onClick:function(e){V(),a(e)},actions:S?void 0:[y.a.Rename,y.a.AddFile,y.a.AddFolder,y.a.Delete],onAction:function(e){switch(n||a(),Y||V(),e){case y.a.Rename:return void c();case y.a.AddFile:return void C(x.b.File);case y.a.AddFolder:return void C(x.b.Directory);case y.a.Delete:d()}}},k(g.a,{type:x.b.Directory,path:t,expanded:Y,active:n}),k(g.b,null,R)),Y?k(b.a,Object(r.a)({parentPath:P?void 0:t,nodes:ie,loading:W,error:X},j)):null,k(l.a,{id:"4277130820"},[".dir-node.jsx-4277130820{border-radius:var(--border-radius-1);}",".is-removing.jsx-4277130820{opacity:0.5;pointer-events:none;}",".is-dropping.jsx-4277130820{background-color:var(--color-primary-transparent-2);}",".is-dragging.jsx-4277130820{opacity:0.7;}"]))}},"7lhO":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),a=n("f47c");function i(){var e=r.useContext(a.a);if(!e)throw new Error("Expected repl id to be in context");return e}},"7okm":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("doui"),a=n("q1tI"),i=n("I7/E"),o=n("fA4Q");function s(){var e=Object(i.a)().container,t=a.useState(e.getRepl()),n=Object(r.a)(t,2),s=n[0],c=n[1];return a.useEffect((function(){return e.onConnectionStateChanged((function(t){t===o.a.CONNECTED&&c(e.getRepl())}))}),[c,e]),s}},"7r0u":function(e,t,n){"use strict";n.r(t),n.d(t,"injectUserStyle",(function(){return p})),n.d(t,"removeUserStyle",(function(){return f})),n.d(t,"reducer",(function(){return m})),n.d(t,"reciever",(function(){return l}));var r=n("h7rM"),a=n("uMB5"),i=n("Qbrf"),o="USERS_ROSTER",s="USER_JOIN",c="USER_LEAVE";function l(e,t,n){switch(n.type){case o:return function(n,a){Object(r.a)(a(),e,t,"cursorstyles").multiplayerUsers.forEach((function(e){p(e.username,e.color)}))};case s:return function(a,i){var o=Object(r.a)(i(),e,t,"cursorstyles").multiplayerUsers.find((function(e){return e.id===n.user.id}));!o||o.sessionCount>1||p(o.username,o.color)};case c:return function(a,i){Object(r.a)(i(),e,t,"cursorstyles").multiplayerUsers.some((function(e){return e.id===n.user.id}))||f(n.user.name)};default:return null}}function u(e){return"".concat(e,"-multiplayer-cursor-style")}function d(e){return e.replace(/_/g,"-")}function p(e,t){var n=".cursor-".concat(d(e)," {\n  position: relative;\n  background-color: #cceeff;\n  border-left: 2px solid ").concat(t,";\n  pointer-events: none;\n}\n.selection-").concat(d(e)," {\n  position: relative;\n  background-color: ").concat(t,";\n  opacity: 0.2;\n  pointer-events: none;\n}\n.cursor-tag-").concat(d(e),'::after {\n  content: "').concat(e,'";\n  position: relative;\n  bottom: calc(100% - 4px);\n  left: -2px;\n  background-color: ').concat(t,";\n  color: white;\n  z-index: 10;\n  padding: 1px;\n  border-radius: 3px;\n  pointer-events: none;\n  animation: fadeOut 2s ease-in forwards;\n}\n\n@keyframes fadeOut {\n  0% {opacity: 1;}\n  100% {opacity: 0;} \n}\n"),r=document.createElement("style");r.type="text/css",r.id=u(e),r.appendChild(document.createTextNode(n)),document.head&&document.head.appendChild(r)}function f(e){var t=document.getElementById(u(e));document.head&&t&&document.head.removeChild(t)}var m=Object(i.a)({multiplayerUsers:a.a})},"82Ve":function(e,t,n){"use strict";n.r(t),n.d(t,"reciever",(function(){return c}));var r=n("0gYX"),a=n.n(r),i=n("3TIX"),o=n("VhAj"),s=["ocaml","reason"];function c(e,t,n){return n.type===i.n?function(t){var r=a.a.get(n.language);return!!window.mobileEditor||s.includes(r.key)||!r.hasLanguageServer&&!Object(o.b)(n.filePath)?r.hasFormat?t({type:i.k,wid:n.wid,filePath:n.filePath}):void 0:t({type:i.v,wid:e,filePath:n.filePath})}:null}},"85VF":function(e,t,n){"use strict";var r=n("q1tI"),a=r.createElement;t.a=function(){return a("svg",{style:{height:"100%",width:"100%",display:"block"},id:"threedotmenuicon","data-name":"Three dots menu",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4.075 17.949"},a("circle",{style:{fill:"currentColor"},cx:"2.038",cy:"2.668",r:"1.852"}),a("circle",{style:{fill:"currentColor"},cx:"2.038",cy:"8.974",r:"1.852"}),a("circle",{style:{fill:"currentColor"},cx:"2.038",cy:"15.28",r:"1.852"}))}},"8axe":function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("dfwq"),h=n("doui"),v=n("q1tI"),x=n.n(v),w=n("/MKj"),y=n("3TIX"),k=n("0gYX"),j=n.n(k),E=function(e){var t=e.split("\n");if(0===t.length)return 0;var n,r=t[t.length-1].replace(/\s+$/,""),a=r.match(/^\s*/);return n=a?a[0]:"",":"===r[r.length-1]?1:!(!n.length||0===r[r.length-1].length)&&0},O=function(e){return!e.includes(":}")&&(!!e.includes(":{")&&0)},_=n("XXOK"),N=n.n(_),S=/"(?:[^"]|\\.)*"|'(?:[^']|\\.)*'|\/(?:[^/]|\\.)*\/|[{}()[\]]/gi,C=function(e){var t=e.match(S)||[],n=0,r=0,a=0,i=!0,o=!1,s=void 0;try{for(var c,l=N()(t);!(i=(c=l.next()).done);i=!0){switch(c.value){case"(":r++;break;case")":r--;break;case"[":a++;break;case"]":a--;break;case"{":n++;break;case"}":n--}}}catch(u){o=!0,s=u}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return(r>0||n>0||a>0)&&1},T=n("2URR"),I=x.a.createElement,R=function(e){var t=e.messages;return I("div",{style:{height:"100%",position:"relative",fontSize:"14px",padding:"15px",boxSizing:"border-box"}},t.map((function(e,t){return I("span",{key:t,style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1em",wordWrap:"break-word",fontFamily:"monospace",color:"error"===e.type?"#f06":"#fff",position:"relative",left:"error"===e.type?"-8px":"0px"}},e.data)})),I("div",{style:{marginLeft:"-8px",background:"url(/public/images/sprite.png) -13px -583px no-repeat",width:"24px",height:"16px"}}),I(T.a,{loading:!0}))},A=n("Qbrf"),P=n("OQjE"),L=n("h7rM"),D=n("7lhO"),M=n("tZOq");n.d(t,"Component",(function(){return G})),n.d(t,"reducer",(function(){return B}));var F=v.createElement;function U(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):U(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function G(e){var t=e.wid,r=e.pud,a=e.style,i=Object(D.a)(),o=Object(w.e)(),s=v.useRef(null),c=v.useState(!0),l=Object(h.a)(c,2)[1];v.useEffect((function(){Promise.all([n.e(49),n.e(132)]).then(n.bind(null,"yR2o")).then((function(e){s.current=e.default,l((function(e){return!e}))}))}),[]);var u=Object(L.b)(t,r,"console"),d=Object(h.a)(u,1)[0],p=d.loadingEngine,f=d.consoleMessages,m=d.runstate,b=d.promptValue,x=Object(M.ib)({variables:{replId:i}}).data,k="Repl"===(null===x||void 0===x?void 0:x.repl.__typename)?x.repl:void 0,_=(null===k||void 0===k?void 0:k.language)||"",N=null===k||void 0===k?void 0:k.lang.header,S=v.useCallback((function(e){"stopping"!==m&&o("running"!==m?Object(y.T)({wid:t,clean:!1,code:e}):Object(y.R)({wid:t,input:e,kind:"console"}))}),[o,m,t]),T=v.useCallback((function(){o(Object(y.Q)({wid:t,pud:r}))}),[o,t,r]),I=v.useCallback((function(e){o({type:"SET_PROMPT_VALUE",wid:t,pud:r,promptValue:e})}),[o,t,r]),A=v.useCallback((function(e,t){!function(e,t,n){if(/\n\s*$/.test(t))n(!1);else switch(j.a.get(e).key.toLowerCase()){case"html":n(C(t));break;case"haskell":n(O(t));break;case"python_turtle":n(E(t));break;default:n(!1)}}(_,e,t)}),[_]),P={data:"".concat(N,"\n"),type:""},U=N?[P].concat(Object(g.a)(f)):f;if(!s.current)return F(R,{messages:U});var G=s.current;return F("div",{style:H({},a,{backgroundColor:"var(--color-brand-dark-blue)",borderRadius:"var(--border-radius-1)"})},F("div",{style:{height:"100%"}},F(G,{messages:U,showModal:function(){},clearConsole:T,setPromptValue:I,onEval:S,promptState:"idle"!==m?"input":"prompt",checkLineEnd:A,promptValue:b,loading:p})))}var B=Object(A.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{consoleMessages:[],loadingEngine:!1,runstate:"idle",presetStdin:"",promptValue:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.o:return H({},e,{},t.initialState);case y.u:return H({},e,{loadingEngine:!0});case y.t:return H({},e,{loadingEngine:!1});case y.w:return"shell"===t.message.type?e:H({},e,{consoleMessages:e.consoleMessages.concat(t.message)});case y.K:var n=Object(y.S)("\nRepl.it: Stopping... please wait\n","error");return H({},e,{consoleMessages:e.consoleMessages.concat(n)});case"SET_PROMPT_VALUE":return H({},e,{promptValue:t.promptValue});case y.a:return H({},e,{consoleMessages:[]});case y.g:return H({},e,{consoleMessages:[Object(y.S)("\nRepl.it: starting debugger\n","")]});default:return e}},runstate:P.a})},"8eab":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("XXOK"),a=n.n(r),i=n("SqZg"),o=n.n(i),s=n("dI/k");function c(e,t){var n=o()(null),r=!0,i=!1,c=void 0;try{for(var l,u=a()(e);!(r=(l=u.next()).done);r=!0){var d=l.value,p=Object(s.i)(d),f=!0,m=!1,b=void 0;try{for(var g,h=a()(p);!(f=(g=h.next()).done);f=!0){var v=g.value,x=v!==d;n[v]={path:v,isExpanded:n[v]&&n[v].isExpanded||d&&x&&d===t,isFolder:x}}}catch(w){m=!0,b=w}finally{try{f||null==h.return||h.return()}finally{if(m)throw b}}}}catch(w){i=!0,c=w}finally{try{r||null==u.return||u.return()}finally{if(i)throw c}}return n[""]={path:"",isExpanded:!0,isFolder:!0},n}function l(e,t){var n=Object(s.e)(t),r=""===t;return e.filter((function(e){if(e===t)return!1;var a=Object(s.e)(e);return r?1===a:!!e.startsWith(t+"/")&&n+1===a}))}},"925v":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=10,a={borderRadius:{right:"".concat(r,"px 0 0 ").concat(r,"px"),left:"0 ".concat(r,"px ").concat(r,"px 0")},chatHeaderPadding:{right:"0 30px 0 30px",left:"0 30px 0 70px"}}},"9CwF":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB"}(r||(r={}))},"9vYF":function(e,t,n){"use strict";n.r(t);var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=n("i8i4");var l=n("7MR+"),u=n.n(l),d=s.a.createElement;t.default=function(e){var t=e.onRequestClose,n=e.noBorder,a=e.children,o=e.preventClose,l=void 0!==o&&o,p=e.hideX,f=void 0!==p&&p,m=e.alignTop,b=function(e){var t=s.a.useRef(e?document.getElementById(e):document.body),n=s.a.useRef(document.createElement("div"));return s.a.useEffect((function(){return t.current&&t.current.appendChild(n.current),function(){t.current&&t.current.removeChild(n.current)}}),[]),{renderToPortal:s.a.useCallback((function(e){return Object(c.createPortal)(e,n.current)}),[n.current])}}("modal-root").renderToPortal,g=s.a.useState(!1),h=Object(r.a)(g,2),v=h[0],x=h[1];function w(){l||(E(!1),setTimeout((function(){t&&t()}),150))}s.a.useEffect((function(){return x(!0)}),[]);var y=s.a.useState(!1),k=Object(r.a)(y,2),j=k[0],E=k[1],O=s.a.useRef(!1);return s.a.useEffect((function(){return v&&(E(!0),window.document.body.style.overflow="hidden"),function(){window.document.body.style.overflow="auto"}}),[v]),function(e,t,n){var r=s.a.useRef(n),a=s.a.useRef(e);s.a.useEffect((function(){return a.current.addEventListener(t,r.current),function(){a.current.removeEventListener(t,r.current)}}),[a.current,t,r.current])}(window.document.body,"keydown",(function(e){return 27===e.keyCode&&w()})),b(v?d("div",{className:i.a.dynamic([["653439886",[j?1:0,m?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal"},d("div",{onMouseDown:function(){O.current=!0},onMouseUp:function(){O.current&&w(),O.current=!1},className:i.a.dynamic([["653439886",[j?1:0,m?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal-base"},d("div",{onMouseDown:function(e){return e.stopPropagation()},className:i.a.dynamic([["653439886",[j?1:0,m?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal-wrapper"},!l&&!f&&d("div",{onClick:w,className:i.a.dynamic([["653439886",[j?1:0,m?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" close-icon"},d(u.a,{size:"large"})),d("div",{className:i.a.dynamic([["653439886",[j?1:0,m?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal-content"},a))),d(i.a,{id:"653439886",dynamic:[j?1:0,m?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]},[".modal.__jsx-style-dynamic-selector{opacity:".concat(j?1:0,";-webkit-transition:opacity 0.1s ease-in;transition:opacity 0.1s ease-in;position:fixed;left:0;top:0;width:100%;height:100%;z-index:300000;}"),".modal-base.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:".concat(m?"flex-start":"center",";-webkit-box-align:").concat(m?"flex-start":"center",";-ms-flex-align:").concat(m?"flex-start":"center",";align-items:").concat(m?"flex-start":"center",";-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;left:0;top:0;width:100%;height:100%;overflow:auto;z-index:300001;background-color:var(--color-black-50);}"),".replit-ui-theme-root.dark .modal-base.__jsx-style-dynamic-selector{background-color:var(--color-white-50);}",".modal-wrapper.__jsx-style-dynamic-selector{position:relative;max-height:80%;border-radius:5px;border:".concat(n?0:"1px solid #888",";z-index:2;display:").concat(window.navigator.userAgent.match(/Trident/)?"table":"block",";}"),".modal-content.__jsx-style-dynamic-selector{background:var(--dropdown-background-color);color:var(--color-foreground-1);border-radius:5px;}",".close-icon.__jsx-style-dynamic-selector{opacity:0.5;color:var(--color-foreground-1);position:absolute;top:20px;right:20px;height:15px;width:15px;background-size:contain;background-position:center;background-repeat:no-repeat;cursor:pointer;}",".close-icon.__jsx-style-dynamic-selector:hover{opacity:1;}"])):null)}},AP2z:function(e,t,n){var r=n("nmnc"),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},AjZM:function(e,t,n){"use strict";var r=n("jkD3");n.d(t,"DragSource",(function(){return r.a}));var a=n("jA2l");n.d(t,"DropTarget",(function(){return a.a}))},BBm8:function(e,t){},Bmc4:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return _})),n.d(t,"reducer",(function(){return N}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("MX0m"),h=n.n(g),v=n("q1tI"),x=n("/MKj"),w=n("3TIX"),y=n("Qbrf"),k=n("OQjE"),j=v.createElement;function E(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):E(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var _=Object(x.c)((function(e,t){return e.workspace[t.wid].plugins[t.pud].state}),{evalProject:w.U,stopEval:w.ab})((function(e){var t=e.wid,n=(e.style,e.loading),r=e.runstate,a=e.maxWidthBreakpoint,i=e.evalProject,o=e.stopEval,s="floating-run",c=function(){};return n||"stopping"===r?s+=" floating-run-loading":"running"===r?(s+=" floating-run-stop",c=function(){return o({wid:t})}):c=function(){return i({wid:t})},j("div",{onClick:c,className:h.a.dynamic([["3660226090",[a]]])+" "+(s||"")},j(h.a,{id:"3660226090",dynamic:[a]},[".floating-run.__jsx-style-dynamic-selector{display:none;position:absolute;bottom:24px;right:24px;height:50px;width:50px;border-radius:100%;border:solid 2px var(--color-positive-transparent-1);cursor:pointer;background-image:url(/public/images/run_green.svg);background-size:20px 20px;background-position:center;background-repeat:no-repeat;background-color:var(--color-positive-transparent-3);z-index:1000;opacity:0.5;}",".floating-run-loading.__jsx-style-dynamic-selector{background-image:url(/public/images/loading_dots.gif);}",".floating-run-stop.__jsx-style-dynamic-selector{background-image:url(/public/images/stop_green.svg);}","@media screen and (max-width:".concat(a,"px){.floating-run.__jsx-style-dynamic-selector{display:block;}}")]))}));var N=Object(y.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,maxWidthBreakpoint:500},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.o:return O({},e,{},t.initialState);case w.u:return O({},e,{loading:!0});case w.t:return O({},e,{loading:!1});default:return e}},runstate:k.a})},CLjb:function(e,t,n){"use strict";var r=n("q1tI"),a=n("aKzv"),i=n("RQA8"),o=n("2mtm"),s=n("wSlI"),c=n("K/u7"),l=n("bO3s"),u=n("bAlF");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=Object(r.useRef)(e);t.current=e,Object(a.a)(null!=e.item,"item must be defined"),Object(a.a)(null!=e.item.type,"item type must be defined");var n=m(function(){var e=Object(c.a)();return[Object(r.useMemo)((function(){return new l.a(e)}),[e]),Object(r.useMemo)((function(){return new u.a(e.getBackend())}),[e])]}(),2),p=n[0],b=n[1];!function(e,t,n){var i=Object(c.a)(),l=Object(r.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,i=n.item;if(r){var o=r(t);return Object(a.a)(null==o||"object"===f(o),"dragSpec.begin() must either return an object, undefined, or null"),o||i||{}}return i||{}},canDrag:function(){return"boolean"===typeof e.current.canDrag?e.current.canDrag:"function"!==typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var a=e.current.isDragging;return a?a(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);Object(o.a)((function(){var r=d(Object(s.a)(e.current.item.type,l,i),2),a=r[0],o=r[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),o}),[])}(t,p,b);var g=Object(i.a)(p,t.current.collect||function(){return{}},(function(){return b.reconnect()})),h=Object(r.useMemo)((function(){return b.hooks.dragSource()}),[b]),v=Object(r.useMemo)((function(){return b.hooks.dragPreview()}),[b]);return Object(o.a)((function(){b.dragSourceOptions=t.current.options||null,b.reconnect()}),[b]),Object(o.a)((function(){b.dragPreviewOptions=t.current.previewOptions||null,b.reconnect()}),[b]),[g,h,v]}n.d(t,"a",(function(){return g}))},"CWX+":function(e,t,n){n("OE/M"),e.exports=n("p9MR").parseFloat},DqZZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("doui"),a=n("q1tI"),i=n("GemG"),o=n.n(i);function s(){var e=a.useState(null),t=Object(r.a)(e,2),n=t[0],i=t[1];return a.useEffect((function(){if(n)return o()(n),function(){o.a.destroy(n)}}),[n]),{ref:a.useCallback(i,[i]),update:function(){n&&o.a.update(n)}}}},EMhG:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK");function g(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{reducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),r=arguments.length>1?arguments[1]:void 0;if("SET_STATE"===r.type){if(!r.pud)throw new Error("SET_STATE action should be namespaced");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):g(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},n,{},r.state)}return t(n,r)},setState:function(e,t,n,r){n({type:"SET_STATE",wid:e,pud:t,state:r})}}}},EVOq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ln6h"),a=n.n(r),i=n("FzLU");function o(e){var t=e.wid,n=e.service,r=e.name,o=e.wait;return function(e){var s,c,l,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return s=Math.random().toString(36).split(".")[1],c=o((function(e){return"RESPOND_CHANNEL"===e.type&&e.requestId===s})),e({wid:t,type:"REQUEST_CHANNEL",service:n,name:r,requestId:s}),d.next=5,a.a.awrap(c);case 5:return l=d.sent,u=l.channelHandle,d.abrupt("return",i.a.safeGet(u));case 8:case"end":return d.stop()}}))}}},"Ef/q":function(e,t,n){var r=n("2jw7").parseFloat,a=n("Yzr4").trim;e.exports=1/r(n("cCpf")+"-0")!==-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},F0TY:function(e,t,n){"use strict";var r,a=n("doui"),i=n("MX0m"),o=n.n(i),s=n("q1tI"),c=n("8v8i"),l=n("8/ze"),u=n("I7/E"),d=n("JOwT"),p=n("2LBI"),f=n("irrw"),m=n.n(f),b=n("7EIp"),g=n("roZX"),h=n("dfwq"),v=n("ln6h"),x=n.n(v),w=n("eVuF"),y=n.n(w),k=n("gfZM");function j(e){return new y.a((function(t,n){var r=new window.FileReader;r.onload=function(r){r.target&&r.target.result?t({name:e.path||e.name,result:k.a.from(r.target.result)}):n(new Error("Expected target result"))},r.onerror=n,r.readAsArrayBuffer(e)}))}function E(e){var t=e.fs,n=e.onDone,i=s.useState([]),o=Object(a.a)(i,2),c=o[0],l=o[1],u=s.useRef(n);return s.useEffect((function(){u.current=n}),[n]),{uploadFiles:s.useCallback((function(e){var n=e.parentPath,a=e.files;!function(e){var t,n,a,i,o,s,c,l,u,d,p;x.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.parentPath,n=e.overwrite,a=e.fs,i=e.files,o=e.onStart,s=e.onUpload,c=e.onError,l=e.onDone,u=function(e){var t,i,o,l,u;return x.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=e.targetPath,i=e.file,n){d.next=9;break}return d.next=4,x.a.awrap(a.exists(t));case 4:if(!d.sent){d.next=9;break}return o={file:i,path:t,error:r.AlreadyExists},c(o),d.abrupt("return",o);case 9:return l=null,d.prev=10,d.next=13,x.a.awrap(j(i));case 13:l=d.sent,d.next=21;break;case 16:return d.prev=16,d.t0=d.catch(10),u={file:i,path:t,error:r.FileRead},c(u),d.abrupt("return",u);case 21:if(l){d.next=23;break}throw new Error("Expected fileRead");case 23:return d.next=25,x.a.awrap(a.writeFile(t,l.result));case 25:return s({file:i,path:t}),d.abrupt("return",{path:t,file:i});case 27:case"end":return d.stop()}}),null,null,[[10,16]])},d=i.map((function(e){var n=e.path||e.name;return{targetPath:t?t+"/"+n:n,file:e}})),o(d),f.next=6,x.a.awrap(y.a.all(d.map(u)));case 6:p=f.sent,l({parentPath:t,uploads:p.filter((function(e){return!("error"in e)})),errors:p.reduce((function(e,t){return"error"in t?[].concat(Object(h.a)(e),[t]):e}),[])});case 8:case"end":return f.stop()}}))}({overwrite:e.overwrite,parentPath:n,files:a.filter(Boolean),fs:t,onStart:function(e){return l((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.map((function(e){return e.targetPath}))))}))},onUpload:function(e){l((function(t){return t.filter((function(t){return t!==e.path}))}))},onError:function(e){l((function(t){return t.filter((function(t){return t!==e.path}))}))},onDone:function(e){u.current&&u.current(e)}})}),[t,l]),pendingUploads:c}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(r||(r={}));var O=n("d04V"),_=n.n(O),N=n("kDUs"),S=s.createElement;function C(e){var t=e.uploadFiles,n=e.onDownloadZip,r=s.useRef(null),a=s.useRef(null),i=s.useMemo((function(){if("undefined"===typeof document)return[];var e=document.createElement("input"),t="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,n=[N.a.UploadFile];return t&&n.push(N.a.UploadFolder),n.push(N.a.DownloadZip),n}),[]);return S(s.Fragment,null,S("input",{ref:r,type:"file",onChange:function(e){var n=e.target.files;n&&t({files:_()(n)})},multiple:!0,accept:"*",className:"jsx-880321226"}),S("input",{ref:a,type:"file",onChange:function(e){var n=e.target.files;n&&t({files:_()(n)})},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-880321226"}),S(N.b,{actions:i,onAction:function(e){switch(e){case N.a.UploadFile:if(!r.current)return;return void r.current.click();case N.a.UploadFolder:if(!a.current)return;return void a.current.click();case N.a.DownloadZip:n()}}}),S(o.a,{id:"880321226"},["input.jsx-880321226{display:none;}"]))}var T=n("gF3W"),I=n("8Vt8"),R=n("QdtJ"),A=n("VoYB"),P=n("icXl"),L=n("7FmB"),D=n.n(L),M=n("v4OZ"),F=n.n(M),U=n("sMkf"),H=n.n(U),G=n("VcNk");n.d(t,"a",(function(){return z}));var B=s.createElement;function z(){var e,t=Object(A.a)().showError,n=s.useState(null),i=Object(a.a)(n,2),f=i[0],h=i[1],v=Object(u.a)(),x=v.session,w=v.fs,y=v.container,k=s.useState(null),j=Object(a.a)(k,2),O=j[0],_=j[1],N=Object(G.a)(),S=s.useState(null),L=Object(a.a)(S,2),M=L[0],U=L[1];s.useEffect((function(){N!==O&&_(N)}),[N,O,_]);var z=E({onDone:function(e){var n=e.parentPath,a=e.errors;if(a.length){var i=a.filter((function(e){return e.error===r.AlreadyExists}));i.length&&U({parentPath:n,errors:i});var o=a.filter((function(e){return e.error!==r.AlreadyExists}));o.length&&t("There was an error uploading: ".concat(o.map((function(e){return e.path})).join(", ")))}},fs:w}),K=z.uploadFiles,V=z.pendingUploads,q=s.useState(null),W=Object(a.a)(q,2),X=W[0],Y=W[1],Q=function(e){var t=e.path,n=e.type,r=e.newTab;_(t),n!==c.b.Directory&&x.openFile(t,{newTab:r})},J=s.useCallback((function(e){e.path===l.a&&Y(e.children.filter((function(e){return d.a.includes(e.filename)})))}),[]),Z=null===(e=y.getRepl())||void 0===e?void 0:e.language;return B(g.a,null,B("div",{className:"jsx-2508884655 filetree"},B(T.HStack,{align:"center",wrap:"nowrap",spacing:0},B("div",{className:"jsx-2508884655 heading"},B(m.a,{level:5},"Files")),B(D.a,{border:!1,Icon:F.a,className:"add-button",textColor:"var(--color-foreground-2)",backgroundColor:"var(--color-background-1)",onClick:function(){return h(c.b.File)},"aria-label":"Add file","data-microtip-position":"bottom",role:"tooltip"}),B("div",{className:"jsx-2508884655 filetree-action-separator"}),B(D.a,{border:!1,Icon:H.a,className:"add-button",textColor:"var(--color-foreground-2)",backgroundColor:"var(--color-background-1)",onClick:function(){return h(c.b.Directory)},"aria-label":"Add folder","data-microtip-position":"bottom",role:"tooltip"}),B(C,{uploadFiles:K,onDownloadZip:function(){window.open(window.location.pathname+".zip","_blank")}})),B(b.a,{onRename:function(){return null},onDelete:function(){return null},siblings:[],onClick:function(){return null},pendingUploads:V,uploadFiles:K,pendingFileType:f,setPendingFileType:h,activePath:O,onNodeClick:Q,onChildrenLoad:J,path:l.a,transformChildren:Z?Object(P.a)(Z):void 0,fs:w}),(null===X||void 0===X?void 0:X.length)?B(T.VStack,{spacing:0},B("div",{className:"jsx-2508884655 heading-container"},B(m.a,{level:5},"Packager files")),B(p.a,{uploadFiles:function(){},pendingFileType:null,setPendingFileType:function(){},activePath:O,nodes:X,onNodeClick:Q,fs:w})):null,B(I.a,{isOpen:Boolean(M),onRequestClose:function(){return U(null)}},M?B(R.a,{paths:M.errors.map((function(e){return e.path})),onCancel:function(){return U(null)},onConfirm:function(){K({overwrite:!0,parentPath:M.parentPath,files:M.errors.map((function(e){return e.file}))}),U(null)}}):null),B(o.a,{id:"2508884655"},[".filetree.jsx-2508884655{padding:var(--spacing-1);height:100%;overflow-y:auto;overflow-x:hidden;background-color:var(--color-background-1);}",".filetree-action-separator.jsx-2508884655{width:0;height:6px;border-right:1px solid var(--color-foreground-4);}",".filetree.jsx-2508884655>.h-stack{padding:0 0 0 var(--spacing-2);}",".add-button:hover{color:var(--color-foreground-1) !important;}",".heading-container.jsx-2508884655{padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);white-space:nowrap;}",".heading.jsx-2508884655{margin-right:auto;}"])))}},F4R0:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return b}));var r=n("ln6h"),a=n.n(r),i=n("xk4V"),o=n.n(i),s=n("UO7Q"),c=n("zgDP"),l=n("nmgF"),u=n("tZOq"),d="goval_shell";function p(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(l.a){r.next=2;break}throw new Error("Expected Apollo Client");case 2:return r.next=4,a.a.awrap(l.a.query({query:u.A,variables:{replId:e}}));case 4:if(t=r.sent,"Repl"===(n=t.data).repl.__typename){r.next=8;break}throw new Error("Expected repl");case 8:return r.abrupt("return",n.repl);case 9:case"end":return r.stop()}}))}function f(e){var t=e.wid,n=e.replId,r=e.vncUrl;return function(e,i){var c,l,u,d,f,m,b,g;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return c=i().workspace[t],l=c.layout,u=c.plugins,h.next=3,a.a.awrap(p(n));case 3:if(!(d=h.sent).config.isVnc&&d.isOwner?e({type:"REQUEST_REPL_UPDATE",wid:t,updates:{config:{isVnc:!0}}}):e({type:"UPDATE_REPL",wid:t,updates:{config:{isVnc:!0}}}),!s.b(l,u,"vnc")){h.next=9;break}return e({type:"CONNECT_VNC",vncUrl:r,wid:t}),h.abrupt("return");case 9:f=o()(),e({type:"LOAD_PLUGIN",wid:t,pluginPud:f,pluginType:"vnc",title:"output",initialState:{}}),s.g(l,f)||(m=s.h(l,f,"above",s.b(l,u,"console")||s.b(l,u,"terminal2")||s.k()),b=m.path,g=m.to,e({type:"UPDATE_LAYOUT",wid:t,path:b,to:g,property:void 0})),e({type:"CONNECT_VNC",vncUrl:r,wid:t});case 13:case"end":return h.stop()}}))}}function m(e){var t=e.wid,n=e.replId;return function(e,r){var i,c,l,u,d,f,m,b;return a.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:return i=r().workspace[t],c=i.layout,l=i.plugins,g.next=3,a.a.awrap(p(n));case 3:if(!(u=g.sent).config.isServer&&u.isOwner?e({type:"REQUEST_REPL_UPDATE",wid:t,updates:{config:{isServer:!0}}}):e({type:"UPDATE_REPL",wid:t,updates:{config:{isServer:!0}}}),!s.b(c,l,"webview")){g.next=9;break}return e({type:"REFRESH_WEBVIEW",wid:t}),g.abrupt("return");case 9:d=o()(),e({type:"LOAD_PLUGIN",wid:t,pluginPud:d,pluginType:"webview",title:"output",initialState:{renderIframe:!0,canBeClosed:!0}}),s.g(c,d)||(f=s.h(c,d,"above",s.b(c,l,"console")||s.b(c,l,"terminal2")||s.k()),m=f.path,b=f.to,e({type:"UPDATE_LAYOUT",wid:t,path:m,to:b,property:void 0}));case 12:case"end":return g.stop()}}))}}function b(e){var t=e.wid;return function(e,n){Object(c.track)(c.events.SHELL_OPENED);var r=n().workspace[t],a=r.layout,i=r.plugins;if(!s.g(a,d)){var o=Boolean(window["flag-windowing"]),l=Boolean(window["flag-shell-tab"]);if(e({type:"LOAD_PLUGIN",wid:t,pluginPud:d,pluginType:l?"shell":"terminal2",isClosable:o,isDraggable:o,title:"shell",initialState:{kind:"shell",loadingEngine:!1}}),l){var u=s.b(a,i,"shell");if(!u)return;e({type:"SET_ACTIVE_TAB",path:s.f(s.f(u)),tabIndex:1,wid:t})}else{var p=s.b(a,i,"console")||s.b(a,i,"terminal2")||s.k(),f=s.h(a,d,"below",p,{position:65}),m=f.path,b=f.to;e({type:"UPDATE_LAYOUT",wid:t,path:m,to:b})}}}}},FX4h:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return h}));var r=n("qNsG"),a=n("p0XB"),i=n.n(a),o=n("rt45"),s=n("ZU0V"),c=n.n(s),l=n("lTCR"),u=n.n(l),d=n("b518"),p=n("nmgF");function f(){var e=Object(o.a)(["\n  mutation ReduxUpdateReplMutation($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        title\n        description\n        language\n        url\n        config {\n          isServer\n          isVnc\n        }\n        isPrivate\n        isStarred\n      }\n    }\n  }\n"]);return f=function(){return e},e}var m=u()(f());function b(e,t){return function(n){n({type:"UPDATE_REPL_REQUEST",id:e,updates:t});var a=Object(d.b)(t);if(i()(a)||"string"===typeof a)throw new Error("Repl updates should be an object");var o=t.config,s=Object(r.a)(t,["config"]);o&&("undefined"!==typeof o.isServer&&(s.isServer=o.isServer),"undefined"!==typeof o.isVnc&&(s.isVnc=o.isVnc)),s.id=e,p.a.mutate({mutation:m,variables:{input:s}}).then((function(t){var r=t.data,a=t.errors;a&&a.length||!r.updateRepl||!r.updateRepl.repl?n({type:"UPDATE_REPL_FAILURE",id:e}):n({type:"UPDATE_REPL_SUCCESS",repl:r.updateRepl.repl})}))}}function g(e){return function(t){return t({type:"UPDATE_REPL_SUCCESS",repl:e})}}function h(e){return{type:"FETCH_REPL_SUCCESS",repl:c()(e)}}},FzLU:function(e,t,n){"use strict";var r=n("G4HQ"),a=n.n(r),i=n("0iUn"),o=n("sLSF"),s=new(function(){function e(){Object(i.a)(this,e),this.map=new a.a}return Object(o.a)(e,[{key:"getHandle",value:function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new Error("Only objects");var t={type:"handle",identity:e.constructor?Object.prototype.toString.call(e.constructor):Object.prototype.toString.call(e)};return this.map.set(t,e),t}},{key:"get",value:function(e){return this.map.get(e)}},{key:"safeGet",value:function(e){if(!e)throw new Error("Expected object handle to be truthy");var t=this.map.get(e);if(!t)throw new Error("Expected object handle to return object");return t}}]),e}());t.a=s},GemG:function(e,t,n){var r,a,i;a=[e,t],void 0===(i="function"===typeof(r=function(e,t){"use strict";var n="function"===typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,r){-1===e.indexOf(n)&&(e.push(n),t.push(r))},delete:function(n){var r=e.indexOf(n);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(c){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!n.has(e)){var t=null,a=null,i=null,o=function(){e.clientWidth!==a&&u()},s=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",u,!1),e.removeEventListener("keyup",u,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",u,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",u,!1),e.addEventListener("autosize:update",u,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",n.set(e,{destroy:s,update:u}),function(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),u()}()}function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function l(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",a=e.clientWidth,n.forEach((function(e){e.node.scrollTop=e.scrollTop})),r&&(document.documentElement.scrollTop=r)}}function u(){l();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),a="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(a<t?"hidden"===n.overflowY&&(c("scroll"),l(),a="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),l(),a="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),i!==a){i=a;var o=r("autosize:resized");try{e.dispatchEvent(o)}catch(s){}}}}function i(e){var t=n.get(e);t&&t.destroy()}function o(e){var t=n.get(e);t&&t.update()}var s=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.default=s,e.exports=t.default})?r.apply(t,a):r)||(e.exports=i)},GnjG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("XXOK"),a=n.n(r);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r=!0,i=!1,o=void 0;try{for(var s,c=a()(t);!(r=(s=c.next()).done);r=!0){(0,s.value)(e,n)}}catch(l){i=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},HPWZ:function(e,t){},Hl1s:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("XXOK"),h=n.n(g),v=n("ln6h"),x=n.n(v),w=n("doui"),y=n("q1tI"),k=n("/MKj"),j=n("FzLU"),E=n("h7rM"),O=n("Cg2A"),_=n.n(O),N=n("MX0m"),S=n.n(N),C=n("5/z4"),T=n("9Jkg"),I=n.n(T);var R,A=n("LI1+"),P=n("YuJD"),L=n("gF3W"),D=y.createElement,M=function(e){var t=e.style,n=e.clearConsole,r=e.findPrevious,a=e.findNext,i=e.refCallback,o=e.wid,s=e.pud,c=y.useState(!1),l=Object(w.a)(c,2),u=l[0],d=l[1];return D("div",{style:t,onKeyDown:function(e){"f"===e.key&&Object(P.b)(e)&&!e.shiftKey&&(d(!0),e.preventDefault())},className:"jsx-2759849619"},D("div",{style:{},className:"jsx-2759849619 console"},D("div",{className:"jsx-2759849619 controls"},D(L.HStack,{align:"center",wrap:"nowrap"},u?D(A.c,{findPrevious:r,findNext:a,exit:function(){return d(!1)}}):D(A.b,{onClick:function(){return d(!0)}}),D(A.a,{onClick:n}))),D("div",{ref:i,className:"jsx-2759849619 xterm-container"}),D(U,{wid:o,pud:s})),D(S.a,{id:"1556950051"},[".xterm .xterm-viewport{overflow-y:auto !important;}"]),D(S.a,{id:"1063901241"},[".console.jsx-2759849619{height:100%;position:relative;background-color:var(--color-brand-dark-blue);border-radius:var(--border-radius-1);overflow:hidden;padding-left:1em;padding-top:10px;z-index:1;}",".controls.jsx-2759849619{position:absolute;top:var(--spacing-1);right:var(--spacing-3);z-index:5;}",".xterm-container.jsx-2759849619{width:100%;box-sizing:border-box;height:100%;}"]))},F=(R={},Object(b.a)(R,-1,"Loading..."),Object(b.a)(R,-2,"Fetching token"),Object(b.a)(R,C.api.BootStatus.Stage.ACQUIRING,"Booting Repl"),Object(b.a)(R,C.api.BootStatus.Stage.PULL_FILES,"Downloading files"),Object(b.a)(R,C.api.BootStatus.Stage.LOAD_BLOCK,"Downloading files"),Object(b.a)(R,C.api.BootStatus.Stage.COMPLETE,"Ready"),R),U=function(e){var t=e.wid,n=e.pud,r=Object(E.b)(t,n,"terminal2"),a=Object(w.a)(r,1)[0],i=a.connectionLoadingStatus,o=a.loadingEngine,s=y.useState(!o),c=Object(w.a)(s,2),l=c[0],u=c[1],d=y.useState(null),p=Object(w.a)(d,2),f=p[0],m=p[1],b=y.useState(i.stage in F?i:{stage:-1}),g=Object(w.a)(b,2),h=g[0],v=g[1],x=y.useState(h.progress||0),k=Object(w.a)(x,2),j=k[0],O=k[1],N=y.useRef(h.progress||0),T=y.useRef(null);y.useEffect((function(){i.stage in F&&(h.stage!==i.stage&&(m(h),O(0),T.current=null),v(i))}),[i]),y.useEffect((function(){if(h.progress&&h.total)if(h.stage===C.api.BootStatus.Stage.LOAD_BLOCK){if(!(j>h.progress)){var e=_()(),t=0;if(T.current){var n=e-T.current,r=h.progress-N.current;t=r/n*50}else{t=5e4}T.current=e,N.current=h.progress;var a=h.total,i=setInterval((function(){O((function(e){var n=e+t;return n>a?a:n}))}),50);return function(){return clearInterval(i)}}}else O(h.progress)}),[h.progress]);var R=h.stage===C.api.BootStatus.Stage.COMPLETE;if(y.useEffect((function(){if(R){var e=setTimeout((function(){u(!0)}),1e3);return function(){return clearTimeout(e)}}}),[R]),l)return D(y.Fragment,null);var A=0;switch(h.stage){case-2:A=0;break;case-1:A=10;break;case C.api.BootStatus.Stage.ACQUIRING:A=20;break;case C.api.BootStatus.Stage.PULL_FILES:case C.api.BootStatus.Stage.LOAD_BLOCK:A=20+70*(h.total?j/h.total:1);break;case C.api.BootStatus.Stage.COMPLETE:A=100;break;default:!function(e){throw new Error("Unhandled discriminated union member: ".concat(I()(e)))}(h.stage)}return D("div",{style:{opacity:R?0:1},className:"jsx-3665755028 loader-container"},D("div",{className:"jsx-3665755028"},f&&D("div",{key:F[f.stage],className:"jsx-3665755028 prev-status status"},F[f.stage],f.total&&" 100%"),D("div",{key:F[h.stage],className:"jsx-3665755028 current-status status"},F[h.stage],h.total&&" ".concat(Math.floor(j/h.total*100),"%"))),D("div",{className:"jsx-3665755028 loader-bar"},D("div",{style:{width:A+"%"},className:"jsx-3665755028 loader-filler"})),D(S.a,{id:"3665755028"},[".loader-container.jsx-3665755028{position:absolute;left:25%;right:25%;top:47%;background-color:transparent;color:white;-webkit-transition:opacity 0.5s 2s;transition:opacity 0.5s 2s;}",".loader-bar.jsx-3665755028{background:none;border:solid white 1px;border-radius:10px;}",".loader-filler.jsx-3665755028{height:5px;background-color:#fff;-webkit-transition:width cubic-bezier(0.28,0.26,0.33,1) 2s;transition:width cubic-bezier(0.28,0.26,0.33,1) 2s;}",".status.jsx-3665755028{text-align:center;position:absolute;width:100%;top:-2em;opacity:1;}",".current-status.jsx-3665755028{-webkit-animation:fade-in-jsx-3665755028 0.6s;animation:fade-in-jsx-3665755028 0.6s;}",".prev-status.jsx-3665755028{top:-6em;opacity:0;-webkit-transition:top 0.4s,opacity 0.4s;transition:top 0.4s,opacity 0.4s;}","@-webkit-keyframes fade-in-jsx-3665755028{0%{opacity:0;top:0em;}100%{opacity:1;top:-2em;}}","@keyframes fade-in-jsx-3665755028{0%{opacity:0;top:0em;}100%{opacity:1;top:-2em;}}"]))},H=n("qzUi"),G=n("3TIX"),B=n("zgDP"),z=n("hKI/"),K=n.n(z),V=n("7lhO"),q=n("tZOq"),W=n("nmgF"),X=n("F4R0");n.d(t,"Component",(function(){return Z})),n.d(t,"reducer",(function(){return te})),n.d(t,"receiver",(function(){return ne}));var Y=y.createElement;function Q(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):Q(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function Z(e){var t=e.wid,n=e.pud,r=e.style,a=e.dimensions,i=Object(V.a)(),o=Object(E.b)(t,n,"terminal2"),s=Object(w.a)(o,1)[0],c=s.kind,l=s.lite,u=s.preventFocus,d=c||"output",p=y.useState(null),f=Object(w.a)(p,2),m=f[0],b=f[1],g=y.useRef(null),h=Object(k.e)(),v=y.useCallback((function(){h(Object(G.Q)({wid:t,pud:n}))}),[h,t,n]),j=y.useCallback((function(e){m&&m.searchAddon.findNext(e)}),[m]),O=y.useCallback((function(e){m&&m.searchAddon.findNext(e)}),[m]),_=y.useRef(null);y.useEffect((function(){_.current=m}),[m]);var N=y.useCallback((function(){_.current&&_.current.fit()}),[]),S=y.useRef(K()(N,50)).current,C=y.useCallback((function(){m&&(window.removeEventListener("resize",S),m.dispose())}),[m,S]);y.useEffect((function(){return function(){C()}}),[C]),y.useEffect((function(){var e;(e=a)&&!(0===e.h.px&&0===e.h.pc||0===e.w.px&&0===e.w.pc)&&S()}),[a,S]);var T=y.useCallback((function(e){var r,a,o,s,c;return x.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(e&&g.current!==e){p.next=2;break}return p.abrupt("return");case 2:return g.current=e,m&&C(),p.next=6,x.a.awrap(Object(H.b)());case 6:return r=p.sent,b(r),r.open(e),S(),p.next=12,x.a.awrap(W.a.query({query:q.N,variables:{replId:i}}));case 12:a=p.sent,o="Repl"===a.data.repl.__typename?a.data.repl.lang.header:void 0,r.clear="shell"!==d?function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r.reset(),o&&r.write("".concat(o.replace(/\n/g,"\n\r"),"\n\r"));case 2:case"end":return e.stop()}}))}:r.reset,r.clear(),s=r.rows,c=r.cols,h(Object(G.Z)({rows:s,cols:c,wid:t,kind:d})),r.onData((function(e){h(Object(G.R)({wid:t,input:e,kind:d}))})),r.onResize((function(){h(Object(G.Z)({rows:s,cols:c,wid:t,kind:d}))})),l||u||r.focus(),window.addEventListener("resize",S),h($({wid:t,pud:n,term:r}));case 23:case"end":return p.stop()}}))}),[h,C,S,d,l,u,i,n,m,t]);return Y(M,{wid:t,pud:n,key:"".concat(t).concat(n,"terminal2"),style:r,clearConsole:v,refCallback:T,findNext:j,findPrevious:O})}function $(e){var t=e.wid,n=e.pud,r=e.term;return function(e,a){var i=Object(E.a)(a(),t,n,"terminal2").bufferedTermData;e({type:"CLEAR_BUFFERED_DATA",wid:t,pud:n});var o=!0,s=!1,c=void 0;try{for(var l,u=h()(i);!(o=(l=u.next()).done);o=!0){var d=l.value;r.write(d)}}catch(p){s=!0,c=p}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}e({type:"SET_TERM",wid:t,pud:n,termHandle:j.a.getHandle(r)})}}function ee(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(E.a)(r(),t,n,"terminal2"),i=a.termHandle,o=a.preventFocus;if(i&&!o&&i){var s=j.a.get(i);s&&s.focus()}}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{termHandle:null,loadingEngine:!0,kind:"output",bufferedTermData:[],lite:!1,connectionLoadingStatus:{stage:-2}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.o:return J({},e,{},t.initialState);case G.P:return J({},e,{termHandle:null,connectionLoadingStatus:{stage:-2}});case G.u:return J({},e,{loadingEngine:!0,bufferedTermData:[],connectionLoadingStatus:{stage:-1}});case G.t:return J({},e,{loadingEngine:!1});case"SET_TERM":return J({},e,{termHandle:t.termHandle});case"BUFFER_TERM_DATA":return J({},e,{bufferedTermData:e.bufferedTermData.concat(t.data)});case"CLEAR_BUFFERED_DATA":return J({},e,{bufferedTermData:[]});case"UPDATE_ENGINE_LOAD_STATUS":return J({},e,{connectionLoadingStatus:{stage:t.stage,progress:t.progress,total:t.total}});default:return e}}function ne(e,t,n){switch(n.type){case"EVAL_SETUP":return ee({wid:e,pud:t});case G.a:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(E.a)(r(),t,n,"terminal2").termHandle;if(a){var i=j.a.get(a);i&&i.clear()}}}({wid:e,pud:t});case G.w:return function(e){var t=e.wid,n=e.pud,r=e.message;return function(e,a){var i=Object(E.a)(a(),t,n,"terminal2"),o=i.kind,s=i.termHandle;if("output"===o||"interp"===o){if(-1===["","output","error","interp"].indexOf(r.kind))return}else if(r.kind!==o)return;var c=r.data;if(r.raw||(c=c.replace(/\n/g,"\n\r"),"error"===r.kind&&(c="\x1b[31m".concat(c,"\x1b[00m"))),s){var l=j.a.get(s);l?l.write(c):e({type:"BUFFER_TERM_DATA",wid:t,pud:n,data:c})}else e({type:"BUFFER_TERM_DATA",wid:t,pud:n,data:c})}}({wid:e,pud:t,message:n.message});case G.t:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(E.a)(r(),t,n,"terminal2"),i=a.kind,o=a.termHandle;if(o){var s=j.a.get(o);s&&(e(Object(G.Z)({rows:s.rows,cols:s.cols,wid:t,kind:i})),"shell"!==i&&Object(B.track)(B.events.NEW_TERMINAL_SPLIT_TEST,{}))}}}({wid:e,pud:t});case"FIT_TERMINAL":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(E.a)(r(),t,n,"terminal2").termHandle;if(a){var i=j.a.get(a);i&&i.fit()}}}({wid:e,pud:t});case"OPEN_SHELL":return t!==X.a?null:ee({wid:e,pud:t});default:return null}}},Hrer:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:!0,waiting:0},t=arguments.length>1?arguments[1]:void 0;if(e.waiting<0)throw new Error("psersists went negative! "+e.waiting);switch(t.type){case"PERSIST_FILE":return{waiting:e.waiting+1,status:e.waiting+1===0};case"FILE_PERSISTED":return{waiting:e.waiting-1,status:e.waiting-1===0};default:return e}}n.d(t,"a",(function(){return r}))},HtvZ:function(e,t,n){"use strict";var r=n("p0XB");n("hfKm")(t,"__esModule",{value:!0});var a=n("Z5Wq"),i=function(e){if(!r(e))throw Error("Op must be an array of components");for(var t=null,n=0;n<e.length;n++){var a=e[n];switch(typeof a){case"object":if(!("number"===typeof a.d&&a.d>0))throw Error("Object components must be deletes of size > 0");break;case"string":if(!(a.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(a>0))throw Error("Skip components must be >0");if("number"===typeof t)throw Error("Adjacent skip components should be combined")}t=a}if("number"===typeof t)throw Error("Op has a trailing skip")},o=function(e){for(var t=[],n=s(t),r=0;r<e.length;r++)n(e[r]);return u(t)},s=function(e){return function(t){t&&0!==t.d&&(0===e.length?e.push(t):typeof t===typeof e[e.length-1]?"object"===typeof t?e[e.length-1].d+=t.d:e[e.length-1]+=t:e.push(t))}},c=function(e){return"number"===typeof e?e:"string"===typeof e?a.strPosToUni(e):e.d},l=function(e){var t=0,n=0;return{take:function(r,i){if(t===e.length)return-1===r?null:r;var o,s=e[t];if("number"===typeof s)return-1===r||s-n<=r?(o=s-n,++t,n=0,o):(n+=r,r);if("string"===typeof s){if(-1===r||"i"===i||a.strPosToUni(s.slice(n))<=r)return o=s.slice(n),++t,n=0,o;var c=n+a.uniToStrPos(s.slice(n),r);return o=s.slice(n,c),n=c,o}return-1===r||"d"===i||s.d-n<=r?(o={d:s.d-n},++t,n=0,o):(n+=r,{d:r})},peek:function(){return e[t]}}},u=function(e){return e.length>0&&"number"===typeof e[e.length-1]&&e.pop(),e};function d(e,t,n){if("left"!==n&&"right"!==n)throw Error("side ("+n+") must be 'left' or 'right'");i(e),i(t);for(var r,o=[],d=s(o),p=l(e),f=p.take,m=p.peek,b=0;b<t.length;b++){var g=t[b],h=void 0,v=void 0;switch(typeof g){case"number":for(h=g;h>0;)d(v=f(h,"i")),"string"!==typeof v&&(h-=c(v));break;case"string":"left"===n&&"string"===typeof m()&&d(f(-1)),d(a.strPosToUni(g));break;case"object":for(h=g.d;h>0;)switch(typeof(v=f(h,"i"))){case"number":h-=v;break;case"string":d(v);break;case"object":h-=v.d}}}for(;r=f(-1);)d(r);return u(o)}function p(e,t){i(e),i(t);for(var n,r=[],o=s(r),d=l(e).take,p=0;p<t.length;p++){var f=t[p],m=void 0,b=void 0;switch(typeof f){case"number":for(m=f;m>0;)o(b=d(m,"d")),"object"!==typeof b&&(m-=c(b));break;case"string":o(f);break;case"object":for(m=f.d;m>0;)switch(typeof(b=d(m,"d"))){case"number":o({d:b}),m-=b;break;case"string":m-=a.strPosToUni(b);break;case"object":o(b)}}}for(;n=d(-1);)o(n);return u(r)}var f=function(e,t){for(var n=0,r=0;r<t.length&&e>n;r++){var i=t[r];switch(typeof i){case"number":n+=i;break;case"string":var o=a.strPosToUni(i);n+=o,e+=o;break;case"object":e-=Math.min(i.d,e-n)}}return e},m=function(e,t){return"number"===typeof e?f(e,t):e.map((function(e){return f(e,t)}))};t.default=function(e){return{name:"text-unicode",uri:"http://sharejs.org/types/text-unicode",trim:u,normalize:o,checkOp:i,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof t)throw Error("Initial data must be a string");return e.create(t)},apply:function(t,n){i(n);for(var r=e.builder(t),a=0;a<n.length;a++){var o=n[a];switch(typeof o){case"number":r.skip(o);break;case"string":r.append(o);break;case"object":r.del(o.d)}}return r.build()},transform:d,compose:p,transformPosition:f,transformSelection:m}}},Hxkj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("0gYX"),a=n.n(r);function i(e,t){var n=e.find((function(e){return e.toLowerCase().includes("readme")}));if(n)return n;if(e.includes(".replit"))return".replit";var r=a.a.getMainFileName(t);if(a.a.usesInterpreter(t)&&e.includes(r))return r;if(e.includes("Makefile"))return"Makefile";if(e.includes(r))return r;var i=e.find((function(e){return e.endsWith(".md")}));return i||e[0]}},IYwU:function(e,t,n){"use strict";var r=n("lD74");n.o(r,"DragSource")&&n.d(t,"DragSource",(function(){return r.DragSource})),n.o(r,"DropTarget")&&n.d(t,"DropTarget",(function(){return r.DropTarget}));var a=n("AjZM");n.o(a,"DragSource")&&n.d(t,"DragSource",(function(){return a.DragSource})),n.o(a,"DropTarget")&&n.d(t,"DropTarget",(function(){return a.DropTarget}))},Jaku:function(e,t,n){"use strict";var r=n("kOwS"),a=n("qNsG"),i=n("MX0m"),o=n.n(i),s=n("q1tI"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=c.a.createElement;t.a=function(e){var t=e.checked,n=e.block,i=e.center,s=e.children,c=Object(a.a)(e,["checked","block","center","children"]);return d("button",Object(r.a)({},c,{className:"jsx-249388398 "+(u()(c.className,{checked:t,block:n,center:i})||"")}),d("div",{className:"jsx-249388398 radio"}),s?d("div",{className:"jsx-249388398 content"},s):null,d(o.a,{id:"249388398"},["button.jsx-249388398{font-size:inherit;color:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:0 none;background-color:transparent;border-radius:var(--border-radius-1);-webkit-transition:background-color 0.2s;transition:background-color 0.2s;}",".block.jsx-249388398{width:100%;}",".center.jsx-249388398{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","button.jsx-249388398:focus{outline:none;}",".radio.jsx-249388398{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:12px;width:12px;border-radius:50%;background-color:transparent;border:1.5px solid var(--color-foreground-2);}",".checked.jsx-249388398 .radio.jsx-249388398{border:none;background-color:var(--color-primary-1);}",".content.jsx-249388398{margin-left:10px;}"]))}},Jkqq:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("ttDY"),g=n.n(b),h=n("dfwq"),v=n("vYYK"),x=n("3TIX"),w=n("zgDP"),y=n("UO7Q"),k=n("doui"),j=n("MX0m"),E=n.n(j),O=n("q1tI"),_=n("TSYQ"),N=n.n(_),S=n("/MKj"),C=n("UWUU"),T=n("h7rM"),I=n("kOwS"),R=n("8Vt8"),A=n("XLFt"),P=n("tZOq"),L=n("irrw"),D=n.n(L),M=O.createElement;function F(e){var t=e.hideModal,n=e.replId,r=e.usersOnline,a=e.onUserClick,i=e.isOpen;return M(R.a,{isOpen:i,onRequestClose:t},M(U,{replId:n,onUserClick:a,usersOnline:r}))}function U(e){var t=e.replId,n=e.usersOnline,r=e.onUserClick,a=Object(P.fb)({variables:{replId:t}}),i=a.data,o=a.loading,s=a.error;if(o)return M("div",{className:"jsx-1405322551"},M(A.a,{style:{width:"50px"}}),M(E.a,{id:"1405322551"},[".user-list-loader.jsx-1405322551{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-height:200px;}"]));if(s)return M("div",null,s.message);if("Repl"===(null===i||void 0===i?void 0:i.repl.__typename)){var c=i.repl,l=c.user,u=l&&n.find((function(e){return e.username===l.username}));return M("div",{className:"jsx-1825929647 user-list-modal"},M(D.a,{level:2},"Multiplayers"),M(D.a,{level:5},"Users can interact with this repl in real time."),M("div",{className:"jsx-1825929647 user-list"},l?M(G,Object(I.a)({},l,{onClick:r,isOnline:Boolean(u),color:u?u.color:"transparent",isOwner:!0,type:P.J.Rw})):null,c.permissions.map((function(e){var t=e.type,a=e.user;if(!a)return null;var i=n.find((function(e){return e.username===a.username}));return M(G,Object(I.a)({onClick:r,key:"chat-user-list-".concat(a.username),type:t},a,{isOnline:n.some((function(e){return e.username===a.username})),color:i?i.color:"transparent",isOwner:!1}))}))),M(E.a,{id:"1825929647"},[".user-list-modal.jsx-1825929647{color:var(--color-foreground-1);padding:var(--spacing-4);display:grid;grid-template-rows:auto auto 1fr;grid-gap:var(--spacing-2);}",".user-list.jsx-1825929647{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:330px;overflow-y:auto;}"]))}return"ReplRedirect"===(null===i||void 0===i?void 0:i.repl.__typename)?M("div",null,"This repl has moved to"," ",M("a",{href:i.repl.replUrl},i.repl.replUrl)):"SubscriptionExpiredError"===(null===i||void 0===i?void 0:i.repl.__typename)?M("div",null,"Your subscition has expired.",M("a",{href:"/site/pricing"},"Upgrade here")):null}var H={r:"read only",rw:"can edit"};function G(e){var t=e.type,n=e.username,r=e.image,a=e.isOnline,i=e.isOwner,o=e.color,s=e.onClick;return M("div",{className:E.a.dynamic([["584706792",[o]]])+" "+(N()("user-list-item-wrapper",{online:a})||"")},M("img",{src:r,className:E.a.dynamic([["584706792",[o]]])+" "+((a?"":"offline")||"")}),M("div",{className:E.a.dynamic([["584706792",[o]]])+" info"},M("div",{className:E.a.dynamic([["584706792",[o]]])},M("a",{href:"/@".concat(n),target:"_blank",onClick:s,className:E.a.dynamic([["584706792",[o]]])},"@",n),!a&&" (offline)"),M("div",{className:E.a.dynamic([["584706792",[o]]])},i?"owner":H[t])),M(E.a,{id:"584706792",dynamic:[o]},[".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-order:1;-ms-flex-order:1;order:1;}","img.__jsx-style-dynamic-selector{width:40px;height:40px;border-radius:20px;border:3px solid ".concat(o,";background:white;object-fit:cover;}"),".info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;}","img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-order:0;-ms-flex-order:0;order:0;}"]))}var B=O.createElement,z=2;function K(e){var t=e.usersOnline,n=e.showModal,r=e.wid,a=e.replId,i=Object(S.e)(),o=Object(P.eb)({variables:{replId:a},fetchPolicy:"network-only"}),s=o.data,c=o.refetch,l="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)?s.repl:null,u=(null===l||void 0===l?void 0:l.user)&&t.find((function(e){var t;return e.id===(null===(t=l.user)||void 0===t?void 0:t.id)})),d=l&&l.permissions?l.permissions.map((function(e){return e.user})).filter((function(e){return e})):null,p=l&&d?d.reduce((function(e,n){var r=n&&t.find((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));return n&&r&&e.push({username:n.username,image:n.image,color:r.color}),e}),l.user&&u?[{username:l.user.username,image:l.user.image,color:u.color}]:[]):null;return O.useEffect((function(){p&&t.length>p.length&&c()}),[t,p,c]),B("div",{className:"jsx-2176463584 chat-roster"},p?p.slice(0,z).map((function(e){return B("img",{src:e.image,title:e.username,key:e.username,style:{border:"2px solid ".concat(e.color)},className:"jsx-2176463584"})})):null,t.length>z&&B("button",{onClick:n,className:"jsx-2176463584 see-all"},"+",t.length-z),B("div",{className:"jsx-2176463584 online-count"},p&&d?B("a",{onClick:function(e){e.preventDefault(),i({type:"OPENED_MP_ROSTER",wid:r,replId:a}),n()},className:"jsx-2176463584"},"".concat(t.length,"/").concat(Math.max(t.length,d.length)," online")):"loading"),B(E.a,{id:"2176463584"},[".chat-roster.jsx-2176463584{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","img.jsx-2176463584{background-color:white;}","img.jsx-2176463584,.see-all.jsx-2176463584{width:36px;min-width:36px;height:36px;border-radius:20px;margin-left:-10px;}",".see-all.jsx-2176463584{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:16px;cursor:pointer;padding:0px;background-color:var(--color-background-1);color:var(--color-green-1);border:0 none;}",".see-all.jsx-2176463584:focus{outline:0 none;}",".see-all.jsx-2176463584:hover{color:var(--color-foreground-1);background-color:var(--color-green-1);}",".online-count.jsx-2176463584{margin-left:15px;white-space:nowrap;}",".online-count.jsx-2176463584 a.jsx-2176463584{color:var(--color-foreground-1);cursor:pointer;white-space:nowrap;}"]))}var V=n("cR/2"),q=n("iBZX"),W=O.createElement,X=2500,Y={join:"joined",leave:"left"},Q=function(e){if(Y[e.type])return Y[e.type];if("message"===e.type)return e.text;throw new Error("Unknown chat message type ".concat(e.type))};var J=function(e){var t=e.expanded,n=e.messages,r=e.position,a=e.usersOnline,i=e.toggleChat,o=V.a.replitDark,s=function(e,t){var n=O.useState([]),r=Object(k.a)(n,2),a=r[0],i=r[1],o=O.useState(null),s=Object(k.a)(o,2),c=s[0],l=s[1],u=O.useRef(a);u.current=a;var d=O.useRef(null);return O.useEffect((function(){if(null===d.current){var e=a[0];e&&(l(e),d.current=setTimeout((function(){i(u.current.slice(1)),0===u.current.length&&l(null),d.current=null}),X))}}),[a]),O.useEffect((function(){e||t[t.length-1]&&i([].concat(Object(h.a)(a),[t[t.length-1]]))}),[t.length]),O.useEffect((function(){e?(i([]),d.current&&(clearTimeout(d.current),d.current=null)):(l(null),d.current=null,i([]))}),[e]),c}(t,n);if(!s||t)return null;var c=a.find((function(e){return e.username===s.username})),l=c?c.color:"transparent",u=!!Y[s.type];return W("div",{onClick:function(e){e.stopPropagation(),i()},className:E.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]]])+" message-notification"},W(P.i,{variables:{username:s.username}},(function(e){var t=e.loading,n=e.data;return!t&&n&&n.user&&n.user.image?W("img",{src:n.user.image,className:E.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]]])+" chat-message-picture"}):W("div",{className:E.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]]])+" chat-message-picture"})})),W("div",{className:E.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]]])+" message"},W("span",{className:E.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]]])+" "+((u?"bold-text":"dimmed-text")||"")},s.username),!u&&":"," ",W("span",{className:E.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]]])+" "+((u?"dimmed-text":"bold-text")||"")},s.parsedMessage?W(q.a,{message:s.parsedMessage}):Q(s))),W(E.a,{id:"2085728046",dynamic:[o.modal.background,r,o.base.foreground,X,l,o.base.boldForeground]},[".message-notification.__jsx-style-dynamic-selector{background:".concat(o.modal.background,";border:1px solid #61429a;position:absolute;").concat(r,":60px;bottom:0;color:").concat(o.base.foreground,";border-radius:6px;padding:3px 15px;cursor:auto;max-width:250px;width:auto;height:36px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:1;-webkit-animation-name:fadepopup-__jsx-style-dynamic-selector;animation-name:fadepopup-__jsx-style-dynamic-selector;-webkit-animation-duration:").concat(X,"ms;animation-duration:").concat(X,"ms;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;cursor:pointer;font-size:14px;}"),".chat-message-picture.__jsx-style-dynamic-selector{min-width:24px;margin-right:10px;width:24px;border-radius:15px;border:1px solid ".concat(l,";}"),".bold-text.__jsx-style-dynamic-selector{color:".concat(o.base.boldForeground,";}"),".dimmed-text.__jsx-style-dynamic-selector{color:#808285;}",".message.__jsx-style-dynamic-selector{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}","@-webkit-keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@media (max-width:500px){.message-notification.__jsx-style-dynamic-selector{left:60px !important;right:auto !important;}}"]))},Z=O.createElement;function $(e){var t=e.message,n=e.color,r=e.isFirstMessage,a=e.isOnline,i=t.parsedMessage?Z(q.a,{message:t.parsedMessage}):Q(t);return["join","leave"].includes(t.type)?Z(ee,{username:t.username,color:n,message:i,isOnline:a}):Z("div",null,Z("div",{className:E.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" "+(N()("chat-message",{"first-message":r})||"")},r?Z(O.Fragment,null,Z(te,{username:t.username,isOnline:a}),Z("div",{className:E.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" content"},Z("div",{className:E.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" username"},t.username),Z("div",{className:E.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i))):Z("div",{className:E.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i),Z(E.a,{id:"2574004682",dynamic:[n,r?"0px 10px 10px 10px":"10px",n]},[".chat-message.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;border:1px solid ".concat(n,";border-radius:10px;position:relative;margin-top:5px;padding:5px 16px;border-radius:").concat(r?"0px 10px 10px 10px":"10px",";word-wrap:break-word;white-space:pre-wrap;margin-left:3px;display:inline-block;max-width:100%;}"),".chat-message.first-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(n,";position:absolute;top:-16px;left:-4px;object-fit:cover;background:white;}"),".chat-message.first-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".username.__jsx-style-dynamic-selector{color:#808285;margin:0 0 8px 25px;font-size:14px;}",".text.__jsx-style-dynamic-selector{color:var(--color-foreground-1);line-height:1.1;display:inline-block;font-size:15px;max-width:100%;}",".first-message.__jsx-style-dynamic-selector{margin-top:30px;}"])))}function ee(e){var t=e.username,n=e.message,r=e.color,a=e.isOnline;return Z("div",{className:E.a.dynamic([["2315247300",[r,r]]])+" roster-chat-message"},Z(te,{username:t,isOnline:a}),Z("div",{className:E.a.dynamic([["2315247300",[r,r]]])+" content"},Z("div",{className:E.a.dynamic([["2315247300",[r,r]]])+" username"},t),Z("div",{className:E.a.dynamic([["2315247300",[r,r]]])+" text"},n)),Z(E.a,{id:"2315247300",dynamic:[r,r]},[".roster-chat-message.__jsx-style-dynamic-selector{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".content.__jsx-style-dynamic-selector{margin-left:5px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".username.__jsx-style-dynamic-selector{display:inline;border:1px solid ".concat(r,";border-radius:15px;padding:3px 6px;min-height:15px;color:var(--color-foreground-1);font-size:14px;}"),".text.__jsx-style-dynamic-selector{margin:8px 0 0 4px;color:#808285;font-size:15px;}",".roster-chat-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(r,";background-color:var(--color-background-1);object-fit:cover;}"),".roster-chat-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}"]))}function te(e){var t=e.username,n=e.isOnline;return Z(P.i,{variables:{username:t}},(function(e){var t=e.data;return!e.loading&&t&&t.user?Z("img",{className:N()("profile-image",{offline:!n}),src:t.user.image}):Z("img",{className:"profile-image"})}))}var ne=n("925v"),re=O.createElement,ae={right:"left",left:"right"};function ie(e){var t=e.position;return re("div",{className:E.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" protip"},re("span",{className:E.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])},"PROTIP:")," Click the"," ",re("div",{className:E.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" double-arrow-example"},re(C.WallArrow,{strokeWidth:1}))," ","icon to move the chat.",re(E.a,{id:"465208952",dynamic:["left"===t?"transform: scaleX(-1);":""]},[".double-arrow-example.__jsx-style-dynamic-selector{width:12px;height:12px;display:inline-block;".concat("left"===t?"transform: scaleX(-1);":"",";}"),".empty-chat-wrapper.__jsx-style-dynamic-selector{margin-top:30px;color:var(--color-foreground-1);}",".protip.__jsx-style-dynamic-selector{padding-top:15px;color:var(--color-foreground-1);line-height:1.3em;font-size:13px;}",".protip.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{color:var(--color-positive-1);}","@media (max-width:500px){.protip.__jsx-style-dynamic-selector{display:none;}}"]))}function oe(e){var t=O.createRef(),n=O.useState(!1),r=Object(k.a)(n,2),a=r[0],i=r[1],o=O.useState(!1),s=Object(k.a)(o,2),c=s[0],l=s[1],u=function(){t.current&&!a&&(l(!0),t.current.scrollTop=t.current.scrollHeight)},d=function(){if(t.current)if(c)l(!1);else{var e=t.current.scrollHeight-(t.current.scrollTop+t.current.offsetHeight);i(!(e<50))}};return O.useEffect((function(){t.current&&(t.current.addEventListener("scroll",d),u())}),[]),O.useEffect((function(){u()}),[e.messages]),re("div",{ref:t,className:"jsx-1850330760 multiplayer-chat-scroller"},e.children,re(E.a,{id:"1850330760"},[".multiplayer-chat-scroller.jsx-1850330760{overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;padding-bottom:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar{background-color:var(--color-background-1);width:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}"]))}var se=function(e){var t=O.useState(""),n=Object(k.a)(t,2),r=n[0],a=n[1],i=O.useState(!1),o=Object(k.a)(i,2),s=o[0],c=o[1],l=Object(S.e)(),u=O.createRef(),d=e.typingUsers.length>3?"Many users are typing...":function(e){switch(e.length){case 0:return"";case 1:return"".concat(e[0]," is typing...");case 2:return"".concat(e[0]," and ").concat(e[1]," are typing...");case 3:var t=e.slice(0,e.length-1);return"".concat(t.map((function(e){return"".concat(e,", ")})),"and \n        ").concat(e[e.length-1]," are typing...");default:return"Many users are typing..."}}(e.typingUsers);return re("div",{className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-component-wrapper"},re(F,{isOpen:s,hideModal:function(){return c(!1)},usersOnline:e.usersOnline,replId:e.replId,onUserClick:function(){return l({type:"MP2_VISITED_PROFILE",wid:e.wid,replId:e.replId,from:"UserListModal"})}}),re("div",{className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-header"},re(K,{usersOnline:e.usersOnline,showModal:function(){return c(!0)},replId:e.replId,wid:e.wid}),re("div",{className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" feedback-link"},re("a",{href:"https://repl.it/feedback/p/multiplayer-v1-feedback",target:"_blank",className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])},"feedback")),re("div",{onClick:function(){return e.togglePosition()},className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" side-switcher"},re(C.WallArrow,{strokeWidth:1})),re("div",{onClick:function(){l({type:"CLOSE_CHAT_CLICKED",wid:e.wid,replId:e.replId}),e.closeChat()},className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" close-chat"},re(C.Minimize,{strokeWidth:1}))),re(oe,{messages:e.messages},re("div",{className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-messages-wrapper"},re(ie,{position:e.position}),e.messages.map((function(t,n){var r=e.messages[n-1]||{username:""},a=e.usersOnline.find((function(e){return e.username===t.username}));return re($,{key:"".concat(t.username,"+").concat(t.text,"+").concat(n),username:t.username,color:a?a.color:"#a7a9ac",message:t,isFirstMessage:r.username!==t.username||r.type!==t.type,isOnline:!!a})})))),re("div",{className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-typing-indicator"},d),re("div",{className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-input-wrapper"},re("input",{placeholder:"Start typing here...",ref:u,onChange:function(t){var n=t.currentTarget.value;a(n),""===n?e.setTypingStatus(!1):e.setTypingStatus(!0)},onKeyDown:function(t){13===t.keyCode&&r.trim().length&&(e.sendMessage(r),a(""),e.setTypingStatus(!1))},value:r,className:E.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])})),re(E.a,{id:"4224147230",dynamic:[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]},[".chat-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;border-bottom:1px solid #61429a;height:93px;padding:".concat(ne.b.chatHeaderPadding[e.position],";}"),".chat-header.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{cursor:pointer;}",".chat-typing-indicator.__jsx-style-dynamic-selector{padding:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;font-size:12px;border-bottom:1px solid #61429a;}",".chat-messages-wrapper.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:0 20px;}",".chat-component-wrapper.__jsx-style-dynamic-selector{color:var(--color-foreground-1);height:80vh;max-height:400px;width:250px;background-color:var(--color-background-1);border:2px solid #61429a;border-radius:".concat(ne.b.borderRadius[e.position],";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-").concat(e.position,":none;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;width:calc(100% + 2px) !important;border:none !important;background:transparent !important;border-radius:0 0 ".concat(ne.a-2,"px ").concat(ne.a-2,"px;padding:var(--spacing-2) var(--spacing-1);color:inherit;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:focus{border:0 none;outline:0;}",".feedback-link.__jsx-style-dynamic-selector{position:absolute;bottom:0;right:0;padding:5px;font-size:14px;}",".close-chat.__jsx-style-dynamic-selector,.side-switcher.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;".concat(e.position,":6px;margin-top:2px;width:18px;height:18px;border-radius:3px;cursor:pointer;color:#fff;background:rgba(121,96,169);opacity:0.8;}"),".side-switcher.__jsx-style-dynamic-selector{".concat(e.position,":30px;").concat("left"===e.position?"transform: scaleX(-1);":""," width:26px;padding:2px 6px;}"),".close-chat.__jsx-style-dynamic-selector{padding:2px 4px;}",".close-chat.__jsx-style-dynamic-selector:hover,.side-switcher.__jsx-style-dynamic-selector:hover{opacity:1;}","@media (max-width:500px){.chat-header.__jsx-style-dynamic-selector{padding:".concat(ne.b.chatHeaderPadding.left,";}.chat-component-wrapper.__jsx-style-dynamic-selector{border-radius:").concat(ne.b.borderRadius.left,";border-left:none !important;border-right:2px solid #61429a;}.side-switcher.__jsx-style-dynamic-selector{display:none;}.feedback-link.__jsx-style-dynamic-selector{right:0;left:auto;}.close-chat.__jsx-style-dynamic-selector{left:6px;right:auto;}}")]))},ce=n("9PDL"),le=O.createElement;function ue(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=function(e){var t=e.wid,n=e.pud,r=Object(S.e)(),i=Object(S.f)((function(e){return Object(T.a)(e,t,n,"chat")})),s=i.messages,l=i.loading,d=i.typingUsers,p=i.usersOnline,f=i.repl,m=f.id,b=Object(S.f)((function(e){return{user:e.user.userInfo}})).user,g=O.useState(!1),h=Object(k.a)(g,2),x=h[0],w=h[1],y=O.useState("right"),j=Object(k.a)(y,2),_=j[0],I=j[1],R="left"===_?"72px":"var(--padding-size-large)",A=O.useState(!1),P=Object(k.a)(A,2),L=P[0],D=P[1],M=O.useRef(!1);O.useEffect((function(){M.current?D(!x):M.current=!0}),[s.length]);var F=O.useMemo((function(){if(!Object(ce.a)(b,"flag-collab-mentions"))return s;var e={replUrl:f.url,users:p.map((function(e){return e.username}))};return s.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ue(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},t,{parsedMessage:"message"===t.type?Object(q.b)(t.text,e):void 0})}))}),[s,p,b]),U=function(){w((function(e){return!e})),D(!1)};return l?null:le("div",{style:e.style,onClick:U,className:E.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" floating-chat-wrapper"},le("div",{className:E.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" "+(N()("floating-icon-wrapper",{hidden:x})||"")},M.current&&le(J,{expanded:x,messages:F,position:_,usersOnline:p,toggleChat:U}),le("div",{className:E.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" chat-icon-wrapper"},le(C.Chat,null)),L&&le("div",{className:E.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" unread-icon"})),le("div",{onClick:function(e){return e.stopPropagation()},className:E.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" "+(N()("chat-wrapper",{expanded:x})||"")},le(se,{typingUsers:d,messages:F,sendMessage:function(e){r({type:"SEND_CHAT_MESSAGE",wid:t,username:b.username,text:e})},position:_,setTypingStatus:function(e){r({type:"SEND_USER_TYPING",wid:t,username:b.username,typing:e})},togglePosition:function(){r({type:"MP2_CHAT_CHANGED_SIDES",wid:t,replId:m,newSide:ae[_]}),I(ae[_])},replId:m,usersOnline:p,closeChat:U,wid:t})),le(E.a,{id:"1452244742",dynamic:[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]},[".chat-wrapper.__jsx-style-dynamic-selector{position:absolute;".concat(_,":-250px;opacity:0;bottom:").concat(R,";z-index:11;cursor:auto;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(x?"ease-in":"ease-out",";transition-timing-function:").concat(x?"ease-in":"ease-out",";}"),".chat-icon-wrapper.__jsx-style-dynamic-selector{width:32px;height:32px;padding:5px;color:#fff;}",".floating-icon-wrapper.__jsx-style-dynamic-selector{height:36px;width:50px;border-radius:".concat(ne.b.borderRadius[_],";position:absolute;").concat(_,":0px;bottom:").concat(R,";z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;background:linear-gradient(to right,#61419a,#52469c);opacity:1;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(x?"ease-out":"ease-in",";transition-timing-function:").concat(x?"ease-out":"ease-in",";}"),".unread-icon.__jsx-style-dynamic-selector{position:absolute;top:5px;".concat(ae[_],":12px;background:red;width:8px;height:8px;border-radius:4px;z-index:11;}"),".close.__jsx-style-dynamic-selector{padding:5px;}",".expanded.__jsx-style-dynamic-selector{".concat(_,":0px;opacity:1;}"),".hidden.__jsx-style-dynamic-selector{opacity:0;".concat(_,":-50px;}"),"@media screen and (max-width:500px){.floating-icon-wrapper.__jsx-style-dynamic-selector{left:0 !important;right:auto !important;bottom:24px;border-radius:".concat(ne.b.borderRadius.left,";}.unread-icon.__jsx-style-dynamic-selector{right:12px;left:auto;}.chat-wrapper.__jsx-style-dynamic-selector{left:-250px;right:auto;bottom:24px;}.expanded.__jsx-style-dynamic-selector{left:0px;right:auto;}}")]))},pe=n("Qbrf"),fe=n("lixr"),me=n("uMB5"),be=n("sMSR");function ge(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ge(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function ve(e){var t=e.wid,n=e.pud;return function(e,r){if(r().user&&r().user.userInfo){var a=r().workspace[t].layout;if(!y.g(a,n)){e({type:"START_CHAT",wid:t});var i=y.h(a,n,"inside",["floating"]),o=i.path,s=i.to;e(Object(x.cb)({wid:t,path:o,to:s,property:null}))}}}}function xe(e,t,n){switch(n.type){case"LOADING_GOVAL_COMPLETE":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].layout;r().user&&r().user.userInfo&&y.g(a,n)&&e({type:"START_CHAT",wid:t})}}({wid:e,pud:t});case"CHAT_STARTED":return function(e){var t=e.wid;return function(e,n){var r=n().user.userInfo;if(Object(ce.a)(r,"flag-collab-notifications"))return e({type:"REQUEST_NOTIFICATION_PERMS",wid:t})}}({wid:e,pud:t});case"USER_JOIN":return function(e){var t=e.wid,n=e.pud,r=e.joinedUsername;return function(e,a){var i=a(),o=i.user&&i.user.userInfo,s=i.workspace[t].plugins[n].state.repl,c=s.id,l=s.title;o&&r!==o.username&&(e(ve({wid:t,pud:n})),Object(ce.a)(o,"flag-collab-notifications")&&Object(be.a)({title:"",body:"".concat(r," joined ").concat(l),tag:"".concat(c,"-").concat(r,"-joined"),iconByUsername:r,cacheDuration:9e5}))}}({wid:e,pud:t,joinedUsername:n.user.name});case"LOAD_CHAT_INTO_LAYOUT":return ve({wid:e,pud:t});case"RCV_CHAT_MESSAGE":return function(e){var t=e.wid,n=e.pud,r=e.action;return function(e,a){var i=a(),o=i.user&&i.user.userInfo,s=i.workspace[t].plugins[n].state.repl;Object(ce.a)(o,"flag-collab-notifications")&&r.username!==o.username&&(Object(be.a)({title:r.username,body:r.text,iconByUsername:r.username,tag:"".concat(s.id,"-").concat(r.text),onClick:function(){return Object(w.track)(w.events.MP2_CHAT_NOTIFICATION_CLICKED)}}),Object(w.track)(w.events.MP2_CHAT_NOTIFICATION_CREATED))}}({wid:e,pud:t,action:n});default:return null}}n.d(t,"reducer",(function(){return we})),n.d(t,"receiver",(function(){return xe})),n.d(t,"Component",(function(){return de}));var we=Object(pe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,messages:[],typingUsers:[],usersOnline:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GOVAL_STARTED":return he({},e,{loading:!0});case"CHAT_STARTED":return he({},e,{loading:!1});case"SEND_CHAT_MESSAGE":case"RCV_CHAT_MESSAGE":return he({},e,{messages:[].concat(Object(h.a)(e.messages),[{username:t.username,type:"message",text:t.text}])});case"RCV_USER_TYPING":var n=new g.a(e.typingUsers);return t.isTyping?n.add(t.username):n.has(t.username)&&n.delete(t.username),he({},e,{typingUsers:Object(h.a)(n)});case"CHAT_SCROLLBACK":return he({},e,{messages:t.messages.map((function(e){return{username:e.username,type:"message",text:e.text}}))});case"USER_JOIN":var r=e.usersOnline.find((function(e){return e.id===t.user.id}));if(!r||r.sessionCount>1)return e;var a=e.usersOnline.length+1;return Object(w.track)(w.events.MP2_USER_JOINED,{count:a}),he({},e,{messages:[].concat(Object(h.a)(e.messages),[{username:t.user.name,type:"join",text:""}])});case"USER_LEAVE":return e.usersOnline.some((function(e){return e.id===t.user.id}))?e:he({},e,{typingUsers:e.typingUsers.filter((function(e){return e!==t.user.name})),messages:[].concat(Object(h.a)(e.messages),[{username:t.user.name,type:"leave",text:""}])});default:return e}},repl:fe.b,usersOnline:me.a})},"K/u7":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),a=n("aKzv"),i=n("Lmng");function o(){var e=Object(r.useContext)(i.a).dragDropManager;return Object(a.a)(null!=e,"Expected drag drop context"),e}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var r=n("WFqU"),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},LtZI:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n("MX0m")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=c(n("TSYQ"));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.isOn,n=e.onIcon,r=e.offIcon,s=e.onChange,c=Math.random().toString(36).split(".")[1],u=l(i.useState("toggle-".concat(c)),1)[0];return i.createElement("label",{htmlFor:u,className:"jsx-272783818 "+((0,o.default)("toggle-label",{isOn:t})||"")},i.createElement("input",{checked:t,onChange:s,id:u,type:"checkbox",className:"jsx-272783818 toggle-checkbox"}),i.createElement("span",{className:"jsx-272783818 toggle-button"},t&&n?n:r||null),i.createElement(a.default,{id:"272783818"},[".toggle-checkbox.jsx-272783818{height:0;width:0;visibility:hidden;}",".toggle-label.jsx-272783818{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;width:40px;height:24px;background:var(--color-control-2);border:0.5px solid var(--color-border);border-radius:100px;position:relative;-webkit-transition:background-color 0.2s;transition:background-color 0.2s;}",".toggle-button.jsx-272783818{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;content:'';position:absolute;left:1px;width:22px;height:22px;border-radius:45px;-webkit-transition:0.2s;transition:0.2s;background:var(--color-white);box-shadow:var(--shadow-1);color:var(--color-foreground-2);}",".toggle-label.isOn.jsx-272783818{background-color:var(--color-primary-1);border-color:var(--color-primary-1);}",".toggle-checkbox.jsx-272783818:checked+.toggle-button.jsx-272783818{left:calc(100% - 1px);-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);color:var(--color-primary-1);}",".toggle-label.jsx-272783818:active .toggle-button.jsx-272783818{box-shadow:var(--shadow-3);}"]))};t.default=d},"M+Cr":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("kOwS"),a=n("q1tI"),i=n("0F/J"),o=a.createElement;function s(e){var t=e.runState,n=e.onClick,a=e.lite,s=function(e){switch(e){case"loading":return{label:"loading",iconStyle:{svgName:"Loading",height:15,width:20,offset:5}};case"idle":return{label:"run",type:"run",iconStyle:{svgName:"Run",width:12.5,height:13,offset:3}};case"running":return{label:"stop",iconStyle:{svgName:"Stop",width:11.5,height:13,offset:3}};case"stopping":return{label:"stopping",iconStyle:{svgName:"Loading",height:15,width:20,offset:5}}}}(t);return o(i.a,Object(r.a)({lite:a,onClick:n,key:s.label},s))}},MGJp:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var r=n("ln6h"),a=n.n(r),i=n("6BQ9"),o=n.n(i),s=/^\d+$/,c=function(e){return 0===e.length||e.startsWith("/")},l=function(e){return e.startsWith("./")?e.slice(2):e},u=function(e){if(e)return s.test(e)?o()(e,10):void 0},d=function(e){return e.split(":").length-1};function p(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",!1);case 2:return r.next=4,a.a.awrap(e.request({exec:{args:["test","-f",t]}}));case 4:return n=r.sent,r.abrupt("return",Boolean(n.ok));case 6:case"end":return r.stop()}}))}function f(e,t){var n,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(p(e,t));case 2:if(!o.sent){o.next=4;break}return o.abrupt("return",{path:t});case 4:if(0!==d(t)){o.next=6;break}return o.abrupt("return",{});case 6:return n=t.split(":"),r=u(n.pop()),t=n.join(":"),o.next=11,a.a.awrap(p(e,t));case 11:if(!o.sent){o.next=13;break}return o.abrupt("return",{path:t,line:r});case 13:if(0!==d(t)){o.next=15;break}return o.abrupt("return",{});case 15:return i=r,r=u(n.pop()),t=n.join(":"),o.next=20,a.a.awrap(p(e,t));case 20:if(!o.sent){o.next=22;break}return o.abrupt("return",{path:t,line:r,col:i});case 22:return o.abrupt("return",{});case 23:case"end":return o.stop()}}))}function m(){return window.location.hash.length>1}function b(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=window.location.hash.slice(1);try{t=window.decodeURI(t)}catch(a){}if(n=l(t),!c(n)){r.next=5;break}return r.abrupt("return",{});case 5:return r.abrupt("return",f(e,n));case 6:case"end":return r.stop()}}))}},NYME:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n("tidx"),c=n("8Vt8"),l=n("irrw"),u=n.n(l),d=n("gF3W"),p=n("dwxc"),f=n.n(p),m=n("7FmB"),b=n.n(m),g=n("sMwv"),h=n("IPFe"),v=n.n(h),x=o.createElement;function w(e){var t=e.replId,n=e.isOpen,a=e.isLoggedIn,o=e.onRequestClose,l=Object(g.a)(),p=Object(r.a)(l,2),m=p[0],h=p[1].loading;return x(c.a,{isOpen:n,onRequestClose:o},a?x("div",{className:"jsx-2701354865 content"},x(d.VStack,{align:"center",spacing:4},x(d.VStack,{align:"center",spacing:1},x(u.a,{align:"center",level:1},"Fork & edit this repl"),x(f.a,{align:"center",size:"large",foreground:2},"You can edit this repl by creating your own copy of it")),x(b.a,{color:"primary",size:"large",filled:!0,Icon:v.a,disabled:h,onClick:function(){h||m(t,{trackingData:{context:"forkModal"}})}},h?"Forking...":"Fork")),x(i.a,{id:"2701354865"},[".content.jsx-2701354865{padding:var(--spacing-4);}"])):x(s.a,{title:"Sign up or log in to fork this repl",onSuccess:function(e){e&&m(t,{trackingData:{context:"forkModal",authType:a?"login":"signup"}})}}))}},NveQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("doui"),g=n("vYYK"),h=n("NuhN");function v(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):c.a?o()(e,c()(n)):v(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"":{path:"",loaded:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTORY_UNLOAD":var n=Object(h.d)(e,t.path);if(!n.length&&null==e[t.path])return e;var r=x({},e);return n.length&&n.forEach((function(e){r[e]={path:e,loaded:!1}})),r[t.path]={path:t.path,loaded:!1},r;case"LOAD_DIRECTORY":if(!e[t.path])throw new Error("Cannot load a directory that does not exist");return e;case"CREATE_CLIENT_DIRECTORY":return x({},e,Object(g.a)({},t.path,e[t.path]||x({loaded:!1,path:t.path},e[t.path])));case"DIRECTORY_LOADED":return x({},e,Object(g.a)({},t.path,{path:t.path,loaded:!0}));case"DELETE_FILE":var a=Object(h.d)(e,t.path);if(!a.length&&null==e[t.path])return e;var i=x({},e);return a.length&&a.forEach((function(e){delete i[e]})),delete i[t.path],i;case"MOVE_FILE":var o=Object(h.f)(e,t.path,t.to);if(!o.length)return e;var s=x({},e);return o.forEach((function(t){var n=Object(b.a)(t,2),r=n[0],a=n[1];delete s[r],s[a]=x({},e[r],{path:a})})),s;default:return e}}},NykK:function(e,t,n){var r=n("nmnc"),a=n("AP2z"),i=n("KfNM"),o="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:c&&c in Object(e)?a(e):i(e)}},"OE/M":function(e,t,n){var r=n("0T/a"),a=n("Ef/q");r(r.G+r.F*(parseFloat!=a),{parseFloat:a})},PMgc:function(e,t,n){"use strict";function r(e){var t={};return e.lite&&(t.lite=e.lite),e.classroom_template&&(t.classroom_template=e.classroom_template),e.outputonly&&(t.outputonly=e.outputonly),e.fileName&&(t.fileName=e.fileName),e.debug&&(t.debug=e.debug),e.inspector&&(t.inspector=e.inspector),e.fallback&&(t.fallback=e.fallback),e.vcr&&(t.vcr=e.vcr),t}n.d(t,"a",(function(){return r}))},PPjH:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"function"===typeof e}function i(){}function o(e){if(!function(e){return"object"===r(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}))},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},QZfq:function(e,t,n){"use strict";var r=n("q1tI"),a=n("khz9"),i=n("aKzv"),o=n("2mql"),s=n.n(o),c=n("Lmng"),l=n("PPjH");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var f=function(){var e=function(){function e(t){u(this,e),this.isDisposed=!1,this.action=Object(l.a)(t)?t:l.c}return p(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&Object(l.a)(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();return e.empty={dispose:l.c},e}(),m=function(){function e(){u(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return p(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),b=function(){function e(){u(this,e),this.isDisposed=!1}return p(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}(),g=n("dKk1");function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){var t=e.DecoratedComponent,n=e.createHandler,o=e.createMonitor,l=e.createConnector,u=e.registerHandler,d=e.containerDisplayName,p=e.getType,h=e.collect,x=e.options.arePropsEqual,j=void 0===x?a.a:x,E=t,O=t.displayName||t.name||"Component",_=function(){var e=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(_,e);var t,s,d,x=k(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=x.call(this,e)).decoratedRef=r.createRef(),t.handleChange=function(){var e=t.getCurrentState();Object(a.a)(e,t.state)||t.setState(e)},t.disposable=new b,t.receiveProps(e),t.dispose(),t}return t=_,(s=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return Object(i.a)(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!j(e,this.props)||!Object(a.a)(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new b,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){j(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(p(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=v(u(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var a=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new m(new f(a),new f(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?h(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return r.createElement(c.a.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),r.createElement(E,Object.assign({},e.props,e.getCurrentState(),{ref:Object(g.c)(E)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(Object(i.a)(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",O,O),void 0!==e&&(this.manager=e,this.handlerMonitor=o(e),this.handlerConnector=l(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&w(t.prototype,s),d&&w(t,d),_}(r.Component);return e.DecoratedComponent=t,e.displayName="".concat(d,"(").concat(O,")"),e}();return s()(_,t)}n.d(t,"a",(function(){return O}))},"Qv0/":function(e,t,n){"use strict";n.r(t),n.d(t,"createLanguageClient",(function(){return M})),n.d(t,"overrideLogger",(function(){return F})),n.d(t,"reciever",(function(){return G})),n.d(t,"reducer",(function(){return B}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("ln6h"),h=n.n(g),v=n("eVuF"),x=n.n(v),w=n("FzLU"),y=n("3TIX"),k=n("GnjG"),j=n("0gYX"),E=n.n(j),O=n("0Ct5"),_=n("tjxJ"),N=n("zoC5"),S=n("Qbrf"),C=n("lixr"),T=n("N9ih"),I=n("zgDP");function R(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):R(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var P="LSP_CONNECTION_STARTED",L="LSP_CONNECTION_ENDED",D="REGISTER_LSP_READER_HANDLE";function M(e,t){var r,a,i,o,s;return h.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,h.a.awrap(Promise.all([n.e(10),n.e(12),n.e(15),n.e(31)]).then(n.t.bind(null,"nwKM",7)));case 2:return r=c.sent,a=r.MonacoLanguageClient,i=r.createConnection,o=r.CloseAction,s=r.ErrorAction,c.abrupt("return",new a({name:"repl.it language client",clientOptions:{documentSelector:[{pattern:"**/*.".concat(t)}],errorHandler:{error:function(){return s.Continue},closed:function(){return o.DoNotRestart}}},connectionProvider:{get:function(t,n){return x.a.resolve(i(e,t,n))}}}));case 8:case"end":return c.stop()}}))}function F(e){e.error=function(){},e.info=function(){},e.warn=function(){},e.log=function(){}}function U(e){var t=e.wid,r=e.pud;return function(e,a){var i,o,s,c,l,u,d,p,f,m,b,g,v,x,k,j,N,S,C,T,R,A,L,U;return h.a.async((function(H){for(;;)switch(H.prev=H.next){case 0:if(i=a().workspace[t].plugins[r].state,o=i.editorHandle,s=i.langServerReady,c=i.lspConnectionStarted,l=i.preferences,u=i.repl,d=i.workingDirectory,l.codeIntelligence&&s&&o&&!c){H.next=3;break}return H.abrupt("return");case 3:if(!window.navigator.userAgent.match(/Trident\/7\./)){H.next=5;break}return H.abrupt("return");case 5:return H.next=7,h.a.awrap(Promise.all([n.e(10),n.e(12),n.e(15)]).then(n.t.bind(null,"C+6V",7)));case 7:return p=H.sent,f=p.createMessageConnection,m=p.NullLogger,H.next=12,h.a.awrap(Promise.all([n.e(10),n.e(12),n.e(15),n.e(31)]).then(n.t.bind(null,"nwKM",7)));case 12:if(b=H.sent,g=b.MonacoServices,v=b.MonacoLanguages,e({type:P,wid:t}),x=w.a.get(o)){H.next=19;break}throw new Error("No editor found during LSP init");case 19:return k=u.id,j=u.language,N=u.slug,v.prototype.registerCodeLensProvider=void 0,g.install(x,{rootUri:"file://".concat(d)}),S=new O.a((function(n){e({type:y.F,content:n,wid:t})})),C=new _.a,T=f(C,S,m),e({type:D,wid:t,readerHandle:w.a.getHandle(C)}),R=E.a.get(u.language),A=R.ext,H.next=29,h.a.awrap(M(T,A));case 29:F(L=H.sent),U=L.start(),T.onClose((function(){return U.dispose()})),Object(I.track)(I.events.LSP_CONNECTION_STARTED,{replId:k,language:j,slug:N,isService:!1});case 34:case"end":return H.stop()}}))}}function H(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state,i=a.readerHandle,o=a.repl,s=w.a.get(i),c=o.id,l=o.language,u=o.slug;Object(I.track)(I.events.LSP_CONNECTION_ENDED,{replId:c,language:l,slug:u,isService:!1,messageReaderExists:Boolean(s)}),s&&(s.fireClose(),e({type:D,wid:t,readerHandle:null})),e({type:L,wid:t})}}function G(e,t,n){return"LOADING_GOVAL_STARTED"===n.type?H({wid:e,pud:t}):n.type===y.q?function(n,r){var a=r().workspace[e].plugins[t].state,i=a.repl,o=a.disconnects,s=i.id,c=i.language,l=i.slug;Object(I.track)(I.events.LSP_SERVER_DIED,{replId:s,language:c,slug:l,disconnects:o,isService:!1}),n(H({wid:e,pud:t})),n(U({wid:e,pud:t}))}:"UPDATE_WORKING_DIRECTORY"===n.type?Object(k.a)(H({wid:e,pud:t}),U({wid:e,pud:t})):"LOADING_GOVAL_COMPLETE"===n.type||n.type===y.B?U({wid:e,pud:t}):n.type===y.y?function(e){var t=e.wid,n=e.pud,r=e.content;return function(e,a){var i=a().workspace[t].plugins[n].state,o=i.readerHandle,s=i.repl,c=s.id,l=s.language,u=s.slug,d=w.a.get(o);if(d){var p=d.readMessage(r);p||(Object(I.track)(I.events.LSP_MESSAGE_READ_FAILED,{replId:c,language:l,slug:u,success:p,isService:!1}),e({type:y.q,wid:t}))}}}({wid:e,pud:t,content:n.content}):n.type===y.M&&void 0!==n.updates.codeIntelligence?function(e){var t=e.wid,n=e.pud,r=e.codeIntelligence;return function(e,a){var i=a().workspace[t].plugins[n].state.lspConnectionStarted;r||!i?r&&!i&&e(U({wid:t,pud:n})):e(H({wid:t,pud:n}))}}({wid:e,pud:t,codeIntelligence:n.updates.codeIntelligence}):null}Promise.all([n.e(10),n.e(12),n.e(15),n.e(31)]).then(n.t.bind(null,"nwKM",7)).then((function(e){return e})),Promise.all([n.e(10),n.e(12),n.e(15)]).then(n.t.bind(null,"C+6V",7)).then((function(e){return e}));var B=Object(S.a)({primary:function(e,t){switch(t.type){case y.o:return A({},e,{},t.initialState);case P:return A({},e,{lspConnectionStarted:!0});case L:return A({},e,{lspConnectionStarted:!1});case"LOADING_GOVAL_COMPLETE":return A({},e,{langServerReady:!0});case"LOADING_GOVAL_STARTED":return A({},e,{langServerReady:!1});case y.q:return A({},e,{disconnects:(e.disconnects||0)+1,langServerReady:!1});case D:return A({},e,{readerHandle:t.readerHandle});case y.B:return A({},e,{editorHandle:t.editorHandle});default:return e}},preferences:N.b,repl:C.b,workingDirectory:T.b})},RQA8:function(e,t,n){"use strict";var r=n("2mtm"),a=n("khz9"),i=n("q1tI");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){var s=c(function(e,t,n){var s=o(Object(i.useState)((function(){return t(e)})),2),c=s[0],l=s[1],u=Object(i.useCallback)((function(){var r=t(e);Object(a.a)(c,r)||(l(r),n&&n())}),[c,e,n]);return Object(r.a)(u,[]),[c,u]}(e,t,n),2),l=s[0],u=s[1];return Object(r.a)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(u,{handlerIds:[t]})}),[e,u]),l}n.d(t,"a",(function(){return u}))},RrDl:function(e,t,n){"use strict";n.r(t);var r=n("3TIX"),a=n("UO7Q");function i(e){var t=e.wid,n=e.pud;return function(e,i){var o=i().workspace[t].layout,s=a.j(o,n),c=s.path,l=s.to;e(Object(r.cb)({wid:t,path:c,to:l,property:void 0}))}}var o=n("MX0m"),s=n.n(o),c=n("q1tI"),l=n("9vYF"),u=n("4JO1"),d=n("tZOq"),p=n("/MKj"),f=c.createElement;function m(e){return f("div",{onClick:function(){var t=document.createElement("div");t.innerHTML=e.code;var n=t.textContent||t.innerText||"";e.onSelectExample(n)},className:"jsx-1234292386 example"},f("div",{className:"jsx-1234292386 example-name"},e.name),f("code",{dangerouslySetInnerHTML:{__html:e.code},className:"jsx-1234292386"}),f(s.a,{id:"1234292386"},[".example.jsx-1234292386{padding:15px;cursor:pointer;border-radius:5px;min-width:250px;max-width:450px;}",".example.jsx-1234292386:hover{background:lightgray;}",".example-name.jsx-1234292386{font-size:20px;}","code.jsx-1234292386{display:block;white-space:pre-wrap;overflow-wrap:break-word;line-height:22px;padding:20px 0;}","@media screen and (min-width:800px){.example.jsx-1234292386{min-width:350px;}code.jsx-1234292386{padding:20px;}}"]))}var b=n("7lhO"),g=n("VcNk"),h=c.createElement;function v(e){var t=e.wid,n=e.pud,r=e.style,a=Object(b.a)(),o=Object(g.a)(),c=Object(d.Ab)({variables:{replId:a}}),f=c.data,v=c.loading,w=c.error,y=Object(p.e)(),k=function(e){y(function(e){var t=e.wid,n=e.code,r=e.activeFile;return function(e){e({wid:t,type:"OT_FILE_OP",op:[n],path:r,changeSource:"examples"})}}({wid:t,code:e,activeFile:o})),y(i({wid:t,pud:n}))},j="Repl"===(null===f||void 0===f?void 0:f.repl.__typename)?f.repl.lang:void 0;if(v)return h(u.a,null);var E=null;if(j){if(j&&!j.examples)E=h(x,null,"Sorry this language doesnt have any examples. We will add some in the future.");else if(j.examples){var O=j.examples;E=h("div",{style:r,className:"jsx-653915204 workspace-examples"},h("div",{className:"jsx-653915204"},O.slice(0,(O.length+1)/2).map((function(e){return h(m,{onSelectExample:k,name:e.name,code:e.code,key:e.name})}))),h("div",{className:"jsx-653915204"},O.slice((O.length+1)/2).map((function(e){return h(m,{onSelectExample:k,name:e.name,code:e.code,key:e.name})}))),h(s.a,{id:"1885751759"},[".workspace-examples.jsx-653915204{padding:40px 20px;}","@media screen and (min-width:800px){.workspace-examples.jsx-653915204{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:40px;}}"]),h(s.a,{id:"2242734050"},[".hljs{display:block;overflow-x:auto;padding:0.5em;background:white;color:black;}",".hljs-comment,.hljs-quote,.hljs-variable{color:#4c886b;}",".hljs-keyword,.hljs-selector-tag,.hljs-built_in,.hljs-name,.hljs-tag{color:#00f;}",".hljs-string,.hljs-title,.hljs-section,.hljs-attribute,.hljs-literal,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-addition{color:#036a07;}",".hljs-deletion,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-meta{color:#2b91af;}",".hljs-doctag{color:#808080;}",".hljs-attr{color:#f00;}",".hljs-symbol,.hljs-bullet,.hljs-link{color:#00b0e8;}",".hljs-emphasis{font-style:italic;}",".hljs-strong{font-weight:bold;}",".hljs-number{color:#0000cd;}"]))}}else E=h(x,null,"Language not found");return w&&(E=h(x,null,w.message)),h(l.default,{onRequestClose:function(){y(i({wid:t,pud:n}))}},E)}var x=function(e){var t=e.children;return h("div",{className:"jsx-1499834569"},t,h(s.a,{id:"1499834569"},["div.jsx-1499834569{padding:40px;}"]))};function w(e,t,n){switch(n.type){case r.J:return function(e){var t=e.wid,n=e.pud;return function(e,i){var o=i().workspace[t].layout,s=a.h(o,n,"inside",a.d(),{once:!0}),c=s.path,l=s.to;e(Object(r.cb)({wid:t,path:c,to:l,property:void 0}))}}({wid:e,pud:t});default:return null}}n.d(t,"reciever",(function(){return w})),n.d(t,"Component",(function(){return v}))},U40g:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return D})),n.d(t,"reducer",(function(){return H})),n.d(t,"receiver",(function(){return P}));var r=n("XXOK"),a=n.n(r),i=n("ln6h"),o=n.n(i),s=n("pLtp"),c=n.n(s),l=n("jfjY"),u=n("nOHt"),d=n.n(u),p=n("EVOq"),f=n("h7rM"),m=n("S6NQ"),b=n("NveQ"),g=n("EMhG"),h=n("Qbrf"),v=n("MGJp"),x=n("dI/k"),w=n("1lQF"),y=n("7lhO"),k=n("+Y0W"),j=n("Hxkj"),E=n("nmgF"),O=n("tZOq"),_=n("/MKj"),N="deeplink",S=function(e){return function(t){return"DIRECTORY_LOADED"===t.type&&t.path===e}};function C(e){var t=e.wid,n=e.pud,r=e.action,a=e.replId;return function(e,i){var s,l,u,d,p,m,b;return o.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(""===r.path){g.next=2;break}return g.abrupt("return");case 2:if(!i().workspace[t].activeFile){g.next=5;break}return g.abrupt("return");case 5:return g.next=7,o.a.awrap(E.a.query({query:O.m,variables:{replId:a}}));case 7:if(s=g.sent,l=s.data,u="Repl"===l.repl.__typename?l.repl.language:"",d=Object(f.a)(i(),t,n,N),p=d.files,0!==(m=c()(p)).length){g.next=15;break}return e(Object(k.a)({wid:t})),g.abrupt("return");case 15:(b=Object(j.a)(m,u))&&e({type:"OPEN_FILE",wid:t,path:b});case 17:case"end":return g.stop()}}))}}function T(e){var t=e.wid,n=e.pud,r=e.path,i=e.wait;return function(e,s){var c,l,u,d,p,m,b,g,h,v,w,y;return o.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:c=Object(x.d)(r),l=c.split("/"),u="",d=!0,p=!1,m=void 0,k.prev=6,b=a()(l);case 8:if(d=(g=b.next()).done){k.next=21;break}if(h=g.value,v=Object(f.a)(s(),t,n,N),w=v.dirs,null===(y=w[u+=h])||void 0===y?void 0:y.loaded){k.next=17;break}return e({type:"LOAD_DIRECTORY",wid:t,path:u}),k.next=17,o.a.awrap(i(S(u)));case 17:u+="/";case 18:d=!0,k.next=8;break;case 21:k.next=27;break;case 23:k.prev=23,k.t0=k.catch(6),p=!0,m=k.t0;case 27:k.prev=27,k.prev=28,d||null==b.return||b.return();case 30:if(k.prev=30,!p){k.next=33;break}throw m;case 33:return k.finish(30);case 34:return k.finish(27);case 35:e({type:"SET_ACTIVE_FILE_TREE_NODE",wid:t,path:r}),e({type:"SET_EXPANDED_FILE_TREE_NODE",wid:t,path:c,isExpanded:!0});case 37:case"end":return k.stop()}}),null,null,[[6,23,27,35],[28,,30,34]])}}function I(e){var t=e.wid,n=e.pud,r=e.path,a=e.line,i=e.col,s=e.wait,c=e.action,u=e.replId;return function(e,p){var m,b,g,h,v,w;return o.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(r){y.next=3;break}return e(C({wid:t,pud:n,action:c,replId:u})),y.abrupt("return");case 3:if(m=Object(f.a)(p(),t,n,N),b=m.aceEditSessionCreated,g=m.dirs,p().workspace[t].activeFile===r){y.next=13;break}if(v=Object(x.d)(r),!r.includes("/")||(null===(h=g[v])||void 0===h?void 0:h.loaded)){y.next=10;break}return y.next=10,o.a.awrap(e(T({wid:t,pud:n,path:r,wait:s})));case 10:return e({type:"OPEN_FILE",path:r,wid:t}),y.next=13,o.a.awrap(s((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===r})));case 13:if(!a){y.next=20;break}if(w=d.a.query,!(w.mobile||!w.lite&&Object(l.isMobile)())||b){y.next=19;break}return y.next=19,o.a.awrap(s((function(e){return"ACE_EDIT_SESSION_CREATED"===e.type&&e.path===r})));case 19:e({type:"SELECT_EDITOR_POSITION",path:r,wid:t,position:{lineNumber:a,column:(i||0)+1}});case 20:case"end":return y.stop()}}))}}function R(e){var t=e.wid,n=e.pud,r=e.wait,a=e.action,i=e.replId;return function(e){var s,c,l,u,d,f,m,b;return o.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if("OPEN_DEEP_LINK"!==a.type){g.next=5;break}s=a.path,c=a.line,l=a.col,e(I({wid:t,pud:n,path:s,line:c,col:l,wait:r,action:a,replId:i})),g.next=16;break;case 5:if(!Object(v.b)()){g.next=16;break}return g.next=8,o.a.awrap(e(Object(p.a)({wid:t,service:"exec",wait:r})));case 8:return u=g.sent,g.next=11,o.a.awrap(Object(v.a)(u));case 11:d=g.sent,f=d.path,m=d.line,b=d.col,e(I({wid:t,pud:n,path:f,line:m,col:b,wait:r,action:a,replId:i}));case 16:case"end":return g.stop()}}))}}var A=Object(w.a)(["DIRECTORY_LOADED","WORKSPACE_MOUNTED","WORKSPACE_WILL_UNMOUNT","ACE_EDIT_SESSION_CREATED","OPEN_DEEP_LINK","OPEN_FILE"]),P=A.receiver,L=A.useReceiver;function D(){var e=Object(y.a)(),t=Object(_.e)();return L((function(n){var r=n.wid,a=n.pud,i=n.action,s=n.wait;switch(i.type){case"DIRECTORY_LOADED":t(R({wid:r,pud:a,wait:s,action:i,replId:e}));break;case"WORKSPACE_MOUNTED":t(function(e){var t=e.wid,n=e.pud,r=e.wait,a=e.replId,i=e.action;return function(e,o){var s=function(){Object(f.a)(o(),t,n,N).isSettingHash?U(t,n,e,{isSettingHash:!1}):e(R({wid:t,pud:n,wait:r,action:i,replId:a}))};U(t,n,e,{handleHashChange:s}),window.addEventListener("hashchange",s)}}({wid:r,pud:a,wait:s,action:i,replId:e}));break;case"WORKSPACE_WILL_UNMOUNT":t(function(e,t){return function(n,r){var a=Object(f.a)(r(),e,t,N).handleHashChange;a&&window.removeEventListener("hashchange",a)}}(r,a));break;case"ACE_EDIT_SESSION_CREATED":t(function(e,t){return function(n){U(e,t,n,{aceEditSessionCreated:!0})}}(r,a));break;case"OPEN_DEEP_LINK":t(R({wid:r,pud:a,wait:s,action:i,replId:e}));break;case"OPEN_FILE":t(function(e,t,n,r){return function(a){var i,s,c;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,o.a.awrap(a(Object(p.a)({wid:e,service:"exec",wait:r})));case 2:return i=l.sent,l.next=5,o.a.awrap(Object(v.a)(i));case 5:s=l.sent,s.path!==n&&(U(e,t,a,{isSettingHash:!0}),window.location.hash.length>0?window.location.hash="#".concat(n):(c=d.a.asPath.includes("#")?d.a.asPath.slice(0,d.a.asPath.indexOf("#")):d.a.asPath,d.a.replace({pathname:d.a.pathname,query:d.a.query},"".concat(c,"#").concat(n),{shallow:!0})));case 8:case"end":return l.stop()}}))}}(r,a,i.path||"",s))}return null})),null}var M=Object(g.a)((function(){return{isSettingHash:!1,handleHashChange:void 0,aceEditSessionCreated:!1}})),F=M.reducer,U=M.setState,H=Object(h.a)({primary:F,files:m.a,dirs:b.a})},UMvL:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("0iUn"),a=n("sLSF"),i=n("MI3g"),o=n("a7VT"),s=n("Tit0"),c=n("MX0m"),l=n.n(c),u=n("q1tI"),d=n("TSYQ"),p=n.n(d),f=n("A3V5"),m=n.n(f),b=u.createElement,g=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={showSection:n.props.expanded},n.toggleSection=function(){if(n.props.manageOwnState){var e=!n.state.showSection;return n.setState({showSection:e}),void n.props.onChange(e)}n.props.onChange()},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.expandable,n=e.title,r=e.staticContent,a=e.children,i=e.expanded,o=e.manageOwnState,s=this.state.showSection,c=o?s:i;return b("div",{className:"jsx-2326302603 expandableSection-container"},b(l.a,{id:"1587951201"},[".expandableSection-container.jsx-2326302603{position:relative;}",".expandableSection-sectionTitle.jsx-2326302603{background-color:var(--color-background-3);color:var(--color-foreground-1);}",".expandableSection-sectionTitle.jsx-2326302603:hover{color:var(--color-white);}"]),b(l.a,{id:"1742150307"},[".expandableSection-container.jsx-2326302603{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;}",".expandableSection-sectionTitle.jsx-2326302603{font-size:15px;font-weight:400;margin:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-height:35px;}",".expandableSection-sectionTitle.jsx-2326302603 svg{margin-right:5px;}",".expandableSection-childrenWrapper.jsx-2326302603{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;overflow-wrap:break-word;-webkit-flex:1;-ms-flex:1;flex:1;}"]),this.props.scopedStyles,b("div",{style:t?{cursor:"pointer"}:{},onClick:t?this.toggleSection:void 0,className:"jsx-2326302603 "+(p()("expandableSection-sectionTitle",this.props.scopedClassName)||"")},t&&b(m.a,{size:this.props.arrowSize,color:this.props.fillArrow?"currentColor":"transparent",direction:c?"bottom":"right",borderWidth:this.props.arrowBorderWidth,borderColor:"currentColor",style:{marginLeft:"".concat(c?"0":"3","px"),marginRight:"".concat(c?"10.5":"14","px")}}),n),r,b("div",{className:"jsx-2326302603 "+(p()("expandableSection-childrenWrapper",this.props.scopedClassName)||"")},c&&a))}}]),t}(u.Component);g.defaultProps={expandable:!0,expanded:!0,onChange:function(){},scopedStyles:null,scopedClassName:"",arrowBorderWidth:1,arrowSize:5,manageOwnState:!0}},VhAj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("dI/k"),a=n("0gYX"),i=n.n(a),o=function(e,t){if(Object(r.h)(e))return null;if(s(e))return!0;var n=i.a.get(t);return!(!n.hasFormat&&!n.hasLanguageServer||Object(r.a)(e)!==n.ext)},s=function(e){var t=Object(r.a)(e);return!!["json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc","html","js","jsx","es6","ts","tsx"].includes(t)}},W8YL:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"reducer",(function(){return dt})),n.d(r,"reciever",(function(){return pt}));var a={};n.r(a),n.d(a,"Component",(function(){return Rt})),n.d(a,"receiver",(function(){return Tt}));var i={};n.r(i),n.d(i,"reciever",(function(){return In})),n.d(i,"reducer",(function(){return Rn}));var o={};n.r(o),n.d(o,"reducer",(function(){return Ln})),n.d(o,"reciever",(function(){return Dn}));var s={};n.r(s),n.d(s,"reducer",(function(){return Un})),n.d(s,"receiver",(function(){return Hn}));var c={};n.r(c),n.d(c,"receiver",(function(){return Vn})),n.d(c,"reducer",(function(){return qn}));var l={};n.r(l),n.d(l,"reducer",(function(){return ar})),n.d(l,"Component",(function(){return ir}));var u=n("hfKm"),d=n.n(u),p=n("2Eek"),f=n.n(p),m=n("XoMD"),b=n.n(m),g=n("Jo+v"),h=n.n(g),v=n("4mXO"),x=n.n(v),w=n("dfwq"),y=n("vYYK"),k=n("ln6h"),j=n.n(k),E=n("pLtp"),O=n.n(E),_=n("34QA"),N=n("0gYX"),S=n.n(N),C=n("3TIX"),T=n("Qbrf"),I=n("GnjG"),R=n("FzLU"),A=n("YexM"),P=n("S6NQ"),L=n("h2o0"),D=n("lixr"),M=n("2wwy"),F=n.n(M),U=n("XXOK"),H=n.n(U),G=n("9Jkg"),B=n.n(G),z=n("eVuF"),K=n.n(z),V=n("g7Gn"),q=n("5/z4"),W=n("ArsQ"),X=n("9PDL"),Y=n("o40J"),Q=n("h7rM"),J=n("nOHt"),Z=n.n(J);function $(e){var t=e.wid,n=e.cmd;return function(e,r){if(!Object(X.a)(r().user.userInfo,"flag-multiplayer-services"))switch(n.body){case"chatMessage":if(null==n.chatMessage)return;return void e({type:"RCV_CHAT_MESSAGE",wid:t,username:n.chatMessage.username,text:n.chatMessage.text});case"chatTyping":if(null==n.chatTyping)return;return void e({type:"RCV_USER_TYPING",wid:t,username:n.chatTyping.username,isTyping:n.chatTyping.typing});case"chatScrollback":if(null==n.chatScrollback)return;return void e({type:"CHAT_SCROLLBACK",wid:t,messages:n.chatScrollback.scrollback});default:V.c(new Error("Unknown chat command ".concat(n.body,". Expected file or error")))}}}var ee=n("gfZM");function te(e){var t=e.wid,n=e.pud,r=e.code,a=e.clean,i=e.wait;return function(e,o){var s,c,l,u,d,p,f,m,b,g,h;return j.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(s=Object(Q.a)(o(),t,n,"goval"),c=s.repl,l=s.dirs,"goval"===S.a.get(c.language).engine){v.next=3;break}return v.abrupt("return");case 3:if(u=function(){return Object(Q.a)(o(),t,n,"goval").files},d=null,r){v.next=16;break}if(l[""]&&l[""].loaded){v.next=9;break}return v.next=9,j.a.awrap(i((function(e){var t=e.type,n=e.path;return"DIRECTORY_LOADED"===t&&""===n})));case 9:if(p=u(),f=O()(p)){v.next=13;break}return v.abrupt("return");case 13:d=f.find((function(e){return e===S.a.getMainFileName(c.language)}))||f[0],(m=p[d])&&m.loaded?r=ee.a.from(m.content).toString():e({type:"LOAD_FILE",wid:t,path:d});case 16:if(b=e(Ze({wid:t,pud:n,name:"evaler",service:"eval"})),a&&b.send({clear:{}}),r){v.next=29;break}if(d){v.next=21;break}throw new Error("Expected to have main path");case 21:if((g=u()[d])&&g.loaded){v.next=25;break}return v.next=25,j.a.awrap(i((function(e){var t=e.type,n=e.path;return("FILE_CACHE_HIT"===t||"FILE_LOADED"===t)&&n===d})));case 25:if((h=u()[d])&&h.loaded){v.next=28;break}throw new Error("Main file should be loaded by now");case 28:r=ee.a.from(h.content).toString();case 29:e({type:Me,wid:t}),b.send({eval:r});case 31:case"end":return v.stop()}}))}}function ne(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r.body,a.next="output"===a.t0?3:"error"===a.t0?5:"result"===a.t0?8:"eval"===a.t0?11:"hint"===a.t0?13:"input"===a.t0?17:19;break;case 3:return e(Object(C.X)({wid:t,message:r.output,type:"",raw:void 0})),a.abrupt("return");case 5:return e(Object(C.X)({wid:t,message:r.error,type:"error",raw:void 0})),e({type:Fe,wid:t,pud:n}),a.abrupt("return");case 8:return e(Object(C.X)({wid:t,message:r.result,type:"result",raw:void 0})),e({type:Fe,wid:t,pud:n}),a.abrupt("return");case 11:return e({type:Me,wid:t}),a.abrupt("return");case 13:if(r.hint&&r.hint.text){a.next=15;break}return a.abrupt("return");case 15:return e(Object(C.X)({wid:t,message:"\x1b[0m\x1b[33m".concat(r.hint.text,"\x1b[0m\r\n"),type:"",raw:!0})),a.abrupt("return");case 17:return e(Object(C.X)({wid:t,message:r.output,type:"",raw:void 0})),a.abrupt("return");case 19:V.c(new Error("Unknown eval command ".concat(r.body,". Expected output, error, state or result")));case 20:case"end":return a.stop()}}))}}function re(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e,a){switch(r.body){case"output":if(null==r.output)return;e({type:"RCV_EXEC_COMMAND",output:r.output,wid:t});break;case"state":var i=a().workspace[t].plugins[n].state;r.state===q.api.State.Stopped?(i.isExecRunning&&(e({type:"EXIT_EXEC_COMMAND",output:i.execOutputBuffer,wid:t}),e({type:"CLEAR_EXEC_BUFFER",wid:t,pud:n})),e({type:"UPDATE_EXEC_RUNSTATE",state:!1,wid:t,pud:n})):r.state===q.api.State.Running&&e({type:"UPDATE_EXEC_RUNSTATE",state:!0,wid:t,pud:n});break;case"ok":case"error":return;default:V.c(new Error("Unknown exec command ".concat(r.body,". ")+"Expected state, ok, error, or output."))}}}function ae(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").formatterHandle,i=a&&R.a.safeGet(a);return null===i&&(i=e(Je({wid:t,pud:n,service:"format"})),e({type:"SET_FORMATTER_HANDLE",handle:R.a.getHandle(i),wid:t,pud:n})),i}}function ie(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e,a){switch(r.body){case"file":if(!r.file||!r.file.path||!r.file.content)return;var i=ee.a.from(r.file.content).toString(),o=Object(Q.a)(a(),t,n,"goval").files[r.file.path];if(!o||!o.loaded)return;var s=ee.a.from(o.content).toString().length;return void e({type:"OT_FILE_OP",wid:t,path:r.file.path,op:[{d:s},i],changeSource:"goval"});case"error":return void e(Object(W.b)({content:"Failed to format file machine",type:"error",time:2e3}));default:V.c(new Error("Unknown format command ".concat(r.body,". Expected file or error")))}}}var oe=n("dI/k");function se(e){var t=e.language,n=e.files;return n.includes(".replit")?{name:"shellrunner",service:"shellrun"}:S.a.usesInterpreter(t)?{name:"interper",service:"interp2"}:function(e,t){return!0===S.a.usesRunProject(e)&&(!1===S.a.usesEval(e)||t.filter((function(t){return Object(oe.a)(t)===S.a.get(e).ext})).length>1)}(t,n)?{name:"shellrunner",service:"shellrun"}:{name:"evaler",service:"eval"}}function ce(e,t){return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new K.a((function(n){e.on("command",(function r(a){t(a)&&(e.off("command",r),n(a))}))})));case 1:case"end":return n.stop()}}))}function le(e){var t=e.wid,n=e.pud;return function(e){var r;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=e(Ze({wid:t,pud:n,name:"interper",service:"interp2"}))).send({runMain:{}}),a.next=4,j.a.awrap(ce(r,(function(e){return"state"===e.body})));case 4:case"end":return a.stop()}}))}}function ue(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){switch(r.body){case"output":return void e(Object(C.X)({wid:t,message:r.output,type:"interp",raw:!0}));case"error":return void e(Object(C.X)({wid:t,message:r.error,type:"error",raw:!1}));case"state":return void(r.state===q.api.State.Stopped?e({type:He,wid:t,pud:n}):e({type:Ue,wid:t}));case"hint":if(!r.hint||!r.hint.text)return;return void e(Object(C.X)({wid:t,message:"\x1b[0m\x1b[33m".concat(r.hint.text,"\x1b[0m\r\n"),type:"",raw:!0}));default:V.c(new Error("Unknown interp command ".concat(r.body,". Expected output, error, or state")))}}}function de(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").lsperHandle,i=a&&R.a.safeGet(a);return null===i&&(i=e(Je({wid:t,pud:n,service:"lsp"})),e({type:"SET_LSPER_HANDLE",handle:R.a.getHandle(i),wid:t,pud:n})),i}}function pe(e){var t=e.wid,n=e.cmd;return function(e){switch(n.body){case"output":return void e({type:C.y,content:n.output,wid:t});case"state":return void(n.state===q.api.State.Stopped&&e({type:C.q,wid:t}));default:V.c(new Error("Unknown lsp command ".concat(n.body,". Expected output or state")))}}}function fe(e){var t=e.wid,n=e.cmd;return function(e){switch(n.body){case"output":return void e(Object(C.X)({wid:t,message:n.output,type:"",raw:!1}));case"error":return void e(Object(C.X)({wid:t,message:"\n\nRepl.it: package installation failed!\n\n",type:"error",raw:!1}));case"ok":return;case"state":return n.state===q.api.State.Running?(e({type:ze,wid:t}),e(Object(W.b)({content:"Installing packages",type:"notice",time:3e3})),void e(Object(C.X)({wid:t,message:"\n\nRepl.it: Installing fresh packages\n\n",type:"",raw:!1}))):void e({type:Ke,wid:t});default:V.c(new Error("Unknown packager command ".concat(n.body,". Expected output, error, ok, or state")))}}}function me(e){var t=e.wid,n=e.pud;return function(e){var r;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e(Ze({wid:t,pud:n,name:"packager",service:"packager2"})),a.abrupt("return",r.request({ensurePackages:{install:!0}}));case 2:case"end":return a.stop()}}))}}var be=n("zgDP");function ge(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):ge(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}function ve(e){var t=e.wid,n=e.pud,r=e.request;return function(e){var a;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e(Ze({wid:t,pud:n,name:"packager",service:"packager3"})),i.abrupt("return",a.request(r));case 2:case"end":return i.stop()}}))}}function xe(e){var t=e.wid,n=e.pud,r=e.request;return function(e,a){var i,o,s,c;return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(Q.a)(a(),t,n,"goval"),o=i.clientHandle,s=R.a.safeGet(o),c=s.openChannel({service:"packager3"}),e.abrupt("return",c.request(r).finally((function(){c.close()})));case 4:case"end":return e.stop()}}))}}function we(e){var t=e.wid,n=e.cmd;return function(e,r){if(!Object(X.a)(r().user.userInfo,"flag-packager-service"))switch(n.body){case"state":return n.state===q.api.State.Running?(e({type:ze,wid:t}),void e(Object(C.X)({wid:t,message:"\n\nRepl.it: Updating package configuration\n\n",type:"",raw:!1}))):void e({type:Ke,wid:t});case"error":return void e(Object(C.X)({wid:t,message:"\n\nRepl.it: Package operation failed.\n\n",type:"error",raw:!1}));case"output":return void e(Object(C.X)({wid:t,message:n.output,type:"",raw:!1}));case"ok":case"packageSearchResp":case"packageInfoResp":case"packageListSpecfileResp":return;default:V.c(new Error("Unknown packager3 command ".concat(n.body,". ")+"Expected state, ok, error, output or packageSearchResp/packageInfoResp"))}}}function ye(e){var t=e.wid,n=e.pud;return function(e){var r;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.awrap(e(ve({wid:t,pud:n,request:{packageInstall:{}}})));case 2:if(r=a.sent,Object(be.track)(be.events.PACKAGES_INSTALLED,{isService:!1,success:Boolean(r.ok)&&!r.channelClosed}),!r.channelClosed){a.next=6;break}return a.abrupt("return",q.api.Command.fromObject({error:"channel closed"}));case 6:return r.ok&&e({type:"PERSIST_FILE",wid:t}),a.abrupt("return",r);case 8:case"end":return a.stop()}}))}}function ke(e){var t=e.wid,n=e.cmd;return function(e,r){if(!Object(X.a)(r().user.userInfo,"flag-multiplayer-services"))switch(n.body){case"roster":return void e({type:"USERS_ROSTER",wid:t,users:n.roster.user});case"join":return void e({type:"USER_JOIN",wid:t,user:n.join});case"part":return void e({type:"USER_LEAVE",wid:t,user:n.part});default:V.c(new Error("Unknown presence command ".concat(n.body,". Expected roster, join, or part.")))}}}function je(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o;return j.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=Object(Q.a)(r(),t,n,"goval"),i=a.govalRunState,o=e(Ze({wid:t,pud:n,name:"shellrunner",service:"shellrun"})),!i.shellrunner){s.next=6;break}return o.send({clear:{}}),s.next=6,j.a.awrap(ce(o,(function(e){return"state"===e.body})));case 6:return o.send({runMain:{}}),s.next=9,j.a.awrap(ce(o,(function(e){return"state"===e.body})));case 9:case"end":return s.stop()}}))}}function Ee(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){switch(r.body){case"input":return void e(Object(C.X)({wid:t,message:r.input,type:"output",raw:!0}));case"output":return void e(Object(C.X)({wid:t,message:r.output,type:"output",raw:!0}));case"state":return void(r.state===q.api.State.Stopped?e({type:Be,wid:t,pud:n}):(e({type:"CLEAR_CONSOLE",wid:t,pud:n}),e({type:Ge,wid:t})));default:V.c(new Error("Unknown run command ".concat(r.body,". Expected output or state")))}}}function Oe(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").shellerHandle,i=a&&R.a.safeGet(a);return null===i&&(i=e(Je({wid:t,pud:n,service:"shell"})),e({type:"SET_SHELLER_HANDLE",handle:R.a.getHandle(i),wid:t,pud:n})),i}}function _e(e){var t=e.wid,n=e.cmd;return function(e){switch(n.body){case"output":return void e(Object(C.X)({wid:t,message:n.output,type:"shell",raw:!0}));case"state":return void(n.state===q.api.State.Stopped&&e(Object(C.X)({wid:t,message:"\n\nRepl.it: shell died, restarting...\n\n",type:"shell",raw:!1})));default:V.c(new Error("Unknown shell command ".concat(n.body,". Expected output, or state")))}}}var Ne=n("0iUn"),Se=function(){},Ce=function e(t){var n=this,r=t.client,a=t.code,i=t.onMessage;Object(Ne.a)(this,e),Object(y.a)(this,"channel",void 0),Object(y.a)(this,"code",void 0),Object(y.a)(this,"stack",void 0),Object(y.a)(this,"check",void 0),Object(y.a)(this,"onMessage",void 0),Object(y.a)(this,"stopped",void 0),Object(y.a)(this,"start",(function(){n.handleCommands(),n.channel.send({debuggerStart:n.code}),n.sendStep()})),Object(y.a)(this,"handleCommands",(function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.channel.on("command",(function(e){n.stopped||("debuggerStatus"===e.body&&e.debuggerStatus&&(n.stack=e.debuggerStatus.stack,n.check(e.debuggerStatus)),n.onMessage(e))}));case 1:case"end":return e.stop()}}))})),Object(y.a)(this,"sendStep",(function(){n.channel.send({debuggerStep:{}})})),Object(y.a)(this,"stepInto",(function(){n.check=Se,n.sendStep()})),Object(y.a)(this,"stepOver",(function(){if(0===n.stack.length)return n.sendStep();var e=n.stack.length;n.check=function(t){t.stack.length===e||t.stack.length<e||n.sendStep()},n.sendStep()})),Object(y.a)(this,"stepOut",(function(){var e=n.stack.length;n.check=function(t){t.stack.length<e||n.sendStep()},n.sendStep()})),Object(y.a)(this,"resume",(function(){n.check=n.sendStep,n.sendStep()})),Object(y.a)(this,"stop",(function(){n.stopped||(n.stopped=!0,n.channel.closed||n.channel.close())})),this.channel=r.openChannel({service:"eval"}),this.stack=[],this.check=Se,this.code=a,this.onMessage=i,this.stopped=!1};function Te(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o;return j.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:a=Object(Q.a)(r(),t,n,"goval"),i=a.debuggerHandle,o=a.govalRunState,i&&(R.a.safeGet(i).stop(),e({type:Le,wid:t,debuggerHandle:null})),o.debugger&&e({type:C.h,wid:t});case 3:case"end":return s.stop()}}))}}function Ie(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r.body,a.next="output"===a.t0?3:"error"===a.t0?5:"result"===a.t0?7:"debuggerStatus"===a.t0?9:14;break;case 3:return e(Object(C.X)({wid:t,message:r.output,type:"",raw:!1})),a.abrupt("return");case 5:return e(Object(C.X)({wid:t,message:r.error,type:"error",raw:!1})),a.abrupt("return");case 7:return e(Object(C.X)({wid:t,message:r.result,type:"result",raw:!1})),a.abrupt("return");case 9:if(!r.debuggerStatus.done){a.next=12;break}return e(Te({wid:t,pud:n})),a.abrupt("return");case 12:return e({type:C.i,wid:t,stack:r.debuggerStatus.stack.map((function(e){return{functionName:e.function,lineno:e.line}}))}),a.abrupt("break",14);case 14:case"end":return a.stop()}}))}}function Re(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):Re(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}var Pe="REGISTER_GOVAL_CHANNEL_HANDLE",Le="REGISTER_DEBUGGER_HANDLE",De="REGISTER_CLEAR_NETWORK_LISTENERS_HANDLE",Me="EVALER_STARTED",Fe="EVALER_ENDED",Ue="INTERPER_STARTED",He="INTERPER_ENDED",Ge="SHELLRUNNER_STARTED",Be="SHELLRUNNER_ENDED",ze="PACKAGER_STARTED",Ke="PACKAGER_ENDED",Ve="OPTIMISTIC_RUN_STARTED",qe="OPTIMISTIC_RUN_ENDED";function We(e){var t=e.wid,n=e.pud,r=e.prefetchedConnectionMetadata;return function(e,a){var i,o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,E;return j.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(i=Object(Q.a)(a(),t,n,"goval"),o=i.clientHandle,s=i.repl,c=i.files,l=i.workspaceMounted,i.didDispatchLoadingStarted||e({type:"LOADING_GOVAL_STARTED",wid:t}),l){N.next=4;break}return N.abrupt("return");case 4:if(e(Qe({wid:t,pud:n})),u=R.a.safeGet(o),d=null,p=function(t){1===t&&(d=e(Object(W.b)({content:"Failed to connect, retrying",type:"error",time:null})))},u.getChannel(0).on("command",(function(n){switch(n.body){case"bootStatus":if(!n.bootStatus)return;return n.bootStatus.stage||(n.bootStatus.stage=q.api.BootStatus.Stage.HANDSHAKE),void e(Ae({type:"UPDATE_ENGINE_LOAD_STATUS",wid:t},n.bootStatus));case"portOpen":if(!n.portOpen)throw new Error("portOpen only handles portOpen commands");var r=n.portOpen,a=r.forwarded,i=r.port;if(!a)return;if(5901===i)return;return void e({type:"PORT_OPEN",wid:t,port:i});case"toast":if(!n.toast)return;var o=n.toast.text;if(o&&o.startsWith("PANIC:"))return V.m((function(e){e.setTag("source","goval"),/tried to attach(.*)multiple times/.test(o)?V.c(new Error("tried to attach to ot multiple times")):(o&&e.setExtra("message",o),V.c(new Error(o?"goval panic":"goval panic with no message")))})),void e(Object(W.b)({content:"We ran into an internal error, reloading your connection.",type:"error",time:5e3}));e(Object(W.b)({content:o||"The server tried to say something but had no words",type:"error",time:1e4}))}})),f=Object(Q.a)(a(),t,n,"goval"),m=f.gurl,b=Object(Y.b)(m),g=Boolean(a().user.userInfo.isLoggedIn),h=function(){var e=Object(Q.a)(a(),t,n,"goval").clientHandle;return R.a.safeGet(e)!==u},!Object(X.a)(a().user.userInfo,"flag-noconnect-unfocused")){N.next=17;break}return N.next=17,j.a.awrap(rt());case 17:return N.next=19,j.a.awrap(Object(Y.a)({client:u,repl:s,shouldAbort:h,onRetry:p,overrideClusterMetadata:b,prefetchedConnectionMetadata:r,isLoggedIn:g}));case 19:if(!h()){N.next=21;break}return N.abrupt("return");case 21:e(Object(W.a)(d)),e(Object(W.b)({content:"Connected!",time:1500,type:"confirm"})),Math.random()>.99&&u.startPing(),"goval"===S.a.get(s.language).engine&&(e(Ze(Ae({wid:t,pud:n},se({language:s.language,files:O()(c)})))),S.a.supportsPackager3(s.language)?e(Ze({wid:t,pud:n,name:"packager",service:"packager3"})):S.a.supportsPackager2(s.language)&&e(Ze({wid:t,pud:n,name:"packager",service:"packager2"}))),v=a().user.userInfo,Object(X.a)(v,"flag-multiplayer-services")||e(Ze({wid:t,pud:n,service:"presence",name:"presencer"})),e(Ye({wid:t,pud:n})),e({type:"LOADING_GOVAL_COMPLETE",wid:t}),x=u.getToken(),w=JSON.parse(window.atob(window.atob(x).split(":")[0])),y=w.user,k=w.path,E="wss://".concat(k,"--").concat(y,".repl.co"),e({type:"SET_VNC_URL",wid:t,vncUrl:E}),window.lastGovalTokenMeta=JSON.parse(window.atob(window.atob(x).split(":")[0])),e({wid:t,type:"GOVAL_TOKEN",token:x}),e(nt({wid:t,pud:n})),u.on("close",(function(r){var a=r.closeReason;window.disconnectedTaint=!0,a===_.Client.ClientCloseReason.Disconnected&&(window.unexpecteddisconnectTaint=!0,e(Xe({wid:t,pud:n})),e(We({wid:t,pud:n})))}));case 38:case"end":return N.stop()}}))}}function Xe(e){var t=e.wid,n=e.pud,r=e.keepNetworkHandler,a=void 0!==r&&r;return function(e,r){var i=Object(Q.a)(r(),t,n,"goval"),o=i.clientHandle,s=i.clearNetworkListenersHandle,c=i.didDispatchLoadingStarted;if(e({type:"RESET_GOVAL",wid:t,pud:n}),e(tt({wid:t,pud:n})),c||e({type:"LOADING_GOVAL_STARTED",wid:t}),null!=o){var l=R.a.get(o);null!=l&&(l.close(),!a&&s&&R.a.safeGet(s)())}}}function Ye(e){var t=e.wid,n=e.pud;return function(e){var r=null,a=function(){o(),V.a({category:"redux",message:"onlineHandler fired. starting connection"}),e(We({wid:t,pud:n})),null!=r&&(e(Object(W.a)(r)),r=null)},i=function(){r=e(Object(W.b)({content:"Offline: trying to connect",type:"error",time:null})),V.a({category:"redux",message:"offlineHandler fired. closing connection"}),e(Xe({wid:t,pud:n,keepNetworkHandler:!0}))};window.addEventListener("online",a),window.addEventListener("offline",i);var o=function(){window.removeEventListener("online",a),window.removeEventListener("offline",i)};e({type:De,wid:t,clearNetworkListenersHandle:R.a.getHandle(o)})}}function Qe(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").clientHandle;if(a){var i=R.a.get(a);if(i){var o=!0;if(i.setDebugFunc((function(a){switch(a.type){case"breadcrumb":return void V.a({category:"crosis",message:a.message,data:a.data});case"ping":var i=be.events.GOVAL2_PING;return o&&(i=be.events.GOVAL2_FIRST_PING,o=!1),void Object(be.track)(i,{latency:a.latency});case"log":if(!Object(Q.a)(r(),t,n,"goval").adminLogs)return;e({type:"CROSIS_ADMIN_LOG",wid:t,dir:a.log.direction,cmd:a.log.cmd,timestamp:window.performance.now()})}})),Object(Q.a)(r(),t,n,"goval").adminLogs&&(window.crosisclient=i),Z.a.query.vcr){var s,c=i.getChannel(0);c.on("command",(function(e){"VCRLog"===e.body&&s&&e.VCRLog&&s(e.VCRLog)})),c.send({startVCR:{}});var l=function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return c.send({readVCR:{}}),e.abrupt("return",new K.a((function(e){return s=e})));case 2:case"end":return e.stop()}}))};window.vcr={read:l,download:function(){var e,t,n,r;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.awrap(l());case 2:if(e=a.sent,(t=e.logfile)&&t.content&&t.path){a.next=6;break}return a.abrupt("return");case 6:n=B()({timestamp:"0",direction:"IN",command:{auth:{token:i.getToken()}}}),(r=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURI(n+"\n"+new TextDecoder("utf-8").decode(t.content))),r.setAttribute("download",t.path),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 13:case"end":return a.stop()}}))}}}}}}}function Je(e){var t=e.wid,n=e.pud,r=e.service;return function(e,a){var i=Object(Q.a)(a(),t,n,"goval").clientHandle,o=R.a.safeGet(i).openChannel({service:r}),s=$e(r);return o.on("command",(function(r){"toast"===r.body&&r.toast?e(Object(W.b)({content:r.toast.text||"The server tried to say something but had no words",type:"error",time:1e4})):e(s({wid:t,pud:n,cmd:r}))})),o}}function Ze(e){var t=e.wid,n=e.pud,r=e.name,a=e.service;return function(e,i){var o=Object(Q.a)(i(),t,n,"goval").channels[a];return null==o?e(function(e){var t=e.wid,n=e.pud,r=e.name,a=e.service;return function(e,i){var o=Object(Q.a)(i(),t,n,"goval").clientHandle,s=R.a.safeGet(o).openChannel({name:r,service:a});void 0!==r&&e({type:Pe,wid:t,channelHandle:R.a.getHandle(s),service:a});var c=$e(a);return s.on("command",(function(r){"toast"===r.body&&r.toast?e(Object(W.b)({content:r.toast.text||"The server tried to say something but had no words",type:"error",time:1e4})):e(c({wid:t,pud:n,cmd:r}))})),s}}({wid:t,pud:n,name:r,service:a})):R.a.safeGet(o)}}var $e=function(e){switch(e){case"eval":return ne;case"format":return ie;case"interp2":return ue;case"lsp":return pe;case"shellrun":return Ee;case"shell":return _e;case"packager2":return fe;case"packager3":return we;case"chat":return $;case"presence":return ke;case"exec":return re;default:throw new Error("Can't handle command. Unknown service: ".concat(e))}};function et(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s;return j.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=Object(Q.a)(a(),t,n,"goval"),o=i.filestate,!F()(o).find((function(e){return e===L.a.Dirty||e===L.a.Syncing}))){c.next=6;break}return s=r((function(){return!F()(Object(Q.a)(a(),t,n,"goval").filestate).find((function(e){return e===L.a.Dirty||e===L.a.Syncing}))})),e({type:"FLUSH_FILES",wid:t}),c.next=6,j.a.awrap(s);case 6:case"end":return c.stop()}}))}}function tt(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval"),i=a.govalRunState,o=a.runstate,s=F()(i).includes(!0);"idle"===o&&s?e({type:"EVAL_STARTED",wid:t}):"idle"===o||s||e({type:"EVAL_ENDED",wid:t})}}function nt(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval"),i=a.channelRequests,o=a.clientHandle,s=R.a.safeGet(o);s.isConnected()&&i.forEach((function(n){var r=n.service,a=n.name,i=n.requestId,o=s.openChannel({name:a,service:r});e({type:"RESPOND_CHANNEL",wid:t,channelHandle:R.a.getHandle(o),requestId:i})}))}}function rt(){if(document.hidden)return new K.a((function(e){document.addEventListener("visibilitychange",(function t(){document.hidden||(document.removeEventListener("visibilitychange",t),e())}))}))}function at(e){var t=e.wid,n=e.pud,r=e.kind;return function(e,a){if("shell"===r)return e(Oe({wid:t,pud:n}));var i=Object(Q.a)(a(),t,n,"goval"),o=i.repl,s=i.files,c=se({language:o.language,files:O()(s)}),l=c.name,u=c.service;return e(Ze({wid:t,pud:n,name:l,service:u}))}}function it(e){var t=e.wid,n=e.pud,r=e.input,a=e.kind;return function(e,i){var o=Object(Q.a)(i(),t,n,"goval").debuggerHandle;o?R.a.safeGet(o).channel.send({input:r}):e(at({wid:t,pud:n,kind:a})).send({input:r})}}var ot=n("NveQ"),st=n("OQjE");function ct(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):ct(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}function ut(){return{clientHandle:R.a.getHandle(new _.Client),didDispatchLoadingStarted:!1,workspaceMounted:!1,filerHandle:null,shellerHandle:null,lsperHandle:null,formatterHandle:null,execerHandle:null,channels:{},clearNetworkListenersHandle:null,debuggerHandle:null,govalRunState:{interper:!1,evaler:!1,debugger:!1,shellrunner:!1,packager:!1,optimisticState:!1},isExecRunning:!1,execOutputBuffer:"",adminLogs:!1,gurl:"wss://eval.repl.it",channelRequests:[]}}var dt=Object(T.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.o:return lt({},e,{},t.initialState);case"GOVAL_CONNECT":return lt({},ut(),{workspaceMounted:!0,gurl:e.gurl,adminLogs:e.adminLogs});case"RESET_GOVAL":return lt({},ut(),{workspaceMounted:e.workspaceMounted,gurl:e.gurl,adminLogs:e.adminLogs,channelRequests:e.channelRequests});case"LOADING_GOVAL_STARTED":return lt({},e,{didDispatchLoadingStarted:!0});case"LOADING_GOVAL_COMPLETED":return lt({},e,{didDispatchLoadingStarted:!1});case"REQUEST_CHANNEL":return lt({},e,{channelRequests:[].concat(Object(w.a)(e.channelRequests),[{service:t.service,name:t.name,requestId:t.requestId}])});case"RESPOND_CHANNEL":return lt({},e,{channelRequests:e.channelRequests.filter((function(e){return e.requestId!==t.requestId}))});case C.P:return lt({},e,{workspaceMounted:!1});case De:return lt({},e,{clearNetworkListenersHandle:t.clearNetworkListenersHandle});case Pe:return lt({},e,{channels:lt({},e.channels,Object(y.a)({},t.service,t.channelHandle))});case Le:return lt({},e,{debuggerHandle:t.debuggerHandle});case"SET_CUSTOM_GURL":return lt({},e,{gurl:t.gurl});case"RCV_EXEC_COMMAND":return lt({},e,{execOutputBuffer:e.execOutputBuffer+t.output});case"UPDATE_EXEC_RUNSTATE":return lt({},e,{isExecRunning:t.state});case"CLEAR_EXEC_BUFFER":return lt({},e,{execOutputBuffer:""});case Me:return lt({},e,{govalRunState:lt({},e.govalRunState,{evaler:!0})});case Fe:return lt({},e,{govalRunState:lt({},e.govalRunState,{evaler:!1})});case Ue:return lt({},e,{govalRunState:lt({},e.govalRunState,{interper:!0})});case He:return lt({},e,{govalRunState:lt({},e.govalRunState,{interper:!1})});case Ge:return lt({},e,{govalRunState:lt({},e.govalRunState,{shellrunner:!0})});case Be:return lt({},e,{govalRunState:lt({},e.govalRunState,{shellrunner:!1})});case ze:return lt({},e,{govalRunState:lt({},e.govalRunState,{packager:!0})});case Ke:return lt({},e,{govalRunState:lt({},e.govalRunState,{packager:!1})});case C.j:return lt({},e,{govalRunState:lt({},e.govalRunState,{debugger:!0})});case C.h:return lt({},e,{govalRunState:lt({},e.govalRunState,{debugger:!1})});case Ve:return lt({},e,{govalRunState:lt({},e.govalRunState,{optimisticState:!0})});case qe:return lt({},e,{govalRunState:lt({},e.govalRunState,{optimisticState:!1})});case"SET_FILER_HANDLE":return lt({},e,{filerHandle:t.handle});case"SET_SHELLER_HANDLE":return lt({},e,{shellerHandle:t.handle});case"SET_LSPER_HANDLE":return lt({},e,{lsperHandle:t.handle});case"SET_FORMATTER_HANDLE":return lt({},e,{formatterHandle:t.handle});case"SET_EXECER_HANDLE":return lt({},e,{execerHandle:t.handle});case"START_CROSIS_ADMIN_LOGS":return lt({},e,{adminLogs:!0});default:return e}},repl:D.b,files:P.a,filestate:L.b,dirs:ot.a,runstate:st.a}),pt=Object(A.a)((function(e,t,n,r){switch(n.type){case C.P:return Xe({wid:e,pud:t});case"GOVAL_CONNECT":case"USE_CUSTOM_TOKEN":case"SET_CUSTOM_GURL":return Object(I.a)(Xe({wid:e,pud:t}),We({wid:e,pud:t,prefetchedConnectionMetadata:n.customConnectionMetadata}));case"REPL_UPDATED":return function(r){n.updates&&0!==O()(n.updates).length&&(n.updates.id||n.updates.title||n.updates.isOwner||n.updates.slug||n.updates.userId||n.updates.language)&&(r(Xe({wid:e,pud:t})),r(We({wid:e,pud:t})))};case"UPLOAD_FILE":case"DELETE_FILE":case"MOVE_FILE":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval"),i=a.channels,o=a.clientHandle,s=a.repl,c=a.files,l=a.govalRunState;if("goval"===S.a.get(s.language).engine){var u=se({language:s.language,files:O()(c)}),d=u.service,p=u.name,f=[{service:"shellrun",wellknown:"shellrunner",stopActionType:Be},{service:"interp2",wellknown:"interper",stopActionType:He},{service:"eval",wellknown:"evaler",stopActionType:Fe}].filter((function(e){return e.service!==d})),m=!0,b=!1,g=void 0;try{for(var h,v=H()(f);!(m=(h=v.next()).done);m=!0){var x=h.value,w=i[x.service];if(null!=w){var y=R.a.safeGet(w);y.closed||(l[x.wellknown]&&(y.send({clear:{}}),e({type:x.stopActionType,wid:t})),y.close(q.api.CloseChannel.Action.DISCONNECT),e({type:Pe,wid:t,channelHandle:null,service:x.service}))}}}catch(k){b=!0,g=k}finally{try{m||null==v.return||v.return()}finally{if(b)throw g}}R.a.safeGet(o).isConnected()&&null==i[d]&&e(Ze({wid:t,pud:n,name:p,service:d}))}}}({wid:e,pud:t});case C.C:return function(e){var t=e.wid,n=e.pud,r=e.kind,a=e.rows,i=e.cols;return function(e){e(at({wid:t,pud:n,kind:r})).send({resizeTerm:{cols:i,rows:a}})}}({wid:e,pud:t,kind:n.kind,rows:n.rows,cols:n.cols});case"RUN_REPL":return function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c,l,u,d,p,f;return j.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(i=window.performance.now(),o=Object(Q.a)(a(),t,n,"goval"),s=o.repl,c=o.files,"goval"===S.a.get(s.language).engine){m.next=4;break}return m.abrupt("return");case 4:return l=se({language:s.language,files:O()(c)}),"eval"!==(u=l.service)&&"shellrun"!==u||e({type:"CLEAR_CONSOLE",wid:t,pud:n}),e({type:"EVAL_SETUP",wid:t}),e({type:Ve,wid:t}),d=function(){return!Object(Q.a)(a(),t,n,"goval").govalRunState.optimisticState},m.next=11,j.a.awrap(e(et({wid:t,pud:n,wait:r})));case 11:if(!d()){m.next=13;break}return m.abrupt("return");case 13:if(p=window.performance.now(),f={},!S.a.supportsPackager3(s.language)){m.next=27;break}if(Object(X.a)(a().user.userInfo,"flag-packager-service")){m.next=22;break}return m.next=19,j.a.awrap(e(ye({wid:t,pud:n})));case 19:f=m.sent,m.next=25;break;case 22:return e({type:"PACKAGER_ENSURE",wid:t}),m.next=25,j.a.awrap(r((function(e){return"PACKAGER_ENSURE_COMPLETE"===e.type})));case 25:m.next=31;break;case 27:if(!S.a.supportsPackager2(s.language)){m.next=31;break}return m.next=30,j.a.awrap(e(me({wid:t,pud:n})));case 30:f=m.sent;case 31:if((f.ok||f.error)&&Object(be.track)(be.events.PERF_REPL_START_RUN_PACKAGER_TIME,{time:window.performance.now()-p,language:s.language}),!d()){m.next=34;break}return m.abrupt("return");case 34:if(!f.error){m.next=37;break}return e({type:qe,wid:t}),m.abrupt("return");case 37:m.t0=u,m.next="eval"===m.t0?40:"interp2"===m.t0?43:"shellrun"===m.t0?46:49;break;case 40:return m.next=42,j.a.awrap(e(te({wid:t,pud:n,clean:!0,wait:r})));case 42:return m.abrupt("break",49);case 43:return m.next=45,j.a.awrap(e(le({wid:t,pud:n})));case 45:return m.abrupt("break",49);case 46:return m.next=48,j.a.awrap(e(je({wid:t,pud:n})));case 48:return m.abrupt("break",49);case 49:e({type:qe,wid:t}),Object(be.track)(be.events.PERF_REPL_START_RUN_TIME,{time:window.performance.now()-i,language:s.language});case 51:case"end":return m.stop()}}))}}({wid:e,pud:t,wait:r});case C.l:return te({wid:e,pud:t,code:n.code,clean:n.clean,wait:r});case C.K:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s;return j.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=Object(Q.a)(r(),t,n,"goval"),i=a.debuggerHandle,o=a.repl,s=a.govalRunState,"goval"===S.a.get(o.language).engine){c.next=3;break}return c.abrupt("return");case 3:if(!i){c.next=6;break}return e(Te({wid:t,pud:n})),c.abrupt("return");case 6:s.packager&&e(Object(C.X)({wid:t,message:"\n\nRepl.it: Packaging cannot be stopped, please wait...\n\n",type:"error",raw:!1})),e({type:qe,wid:t}),["evaler","shellrunner","interper"].forEach((function(r){var a;s[r]&&e(Ze(Ae({wid:t,pud:n},"interper"===(a=r)?{name:"interper",service:"interp2"}:"shellrunner"===a?{name:"shellrunner",service:"shellrun"}:{name:"evaler",service:"eval"}))).send({clear:{}})})),s.evaler&&e({type:Fe,wid:t});case 11:case"end":return c.stop()}}))}}({wid:e,pud:t});case C.g:return function(e){var t=e.wid,n=e.pud,r=e.code,a=e.wait;return function(e,i){var o,s,c,l,u,d;return j.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return o=Object(Q.a)(i(),t,n,"goval"),s=o.clientHandle,c=o.repl,e({type:"EVAL_SETUP",wid:t}),e({type:C.j,wid:t}),l=new Ce({client:R.a.safeGet(s),code:r,onMessage:function(r){return e(Ie({wid:t,pud:n,cmd:r}))}}),e({type:Le,wid:t,debuggerHandle:R.a.getHandle(l)}),p.next=7,j.a.awrap(e(et({wid:t,pud:n,wait:a})));case 7:if(u=function(){return!Object(Q.a)(i(),t,n,"goval").govalRunState.optimisticState},d={},!S.a.supportsPackager3(c.language)){p.next=21;break}if(Object(X.a)(i().user.userInfo,"flag-packager-service")){p.next=16;break}return p.next=13,j.a.awrap(e(ye({wid:t,pud:n})));case 13:d=p.sent,p.next=19;break;case 16:return e({type:"PACKAGER_ENSURE",wid:t}),p.next=19,j.a.awrap(a((function(e){return"PACKAGER_ENSURE_COMPLETE"===e.type})));case 19:p.next=25;break;case 21:if(!S.a.supportsPackager2(c.language)){p.next=25;break}return p.next=24,j.a.awrap(e(me({wid:t,pud:n})));case 24:d=p.sent;case 25:if(!d.error&&!u()){p.next=28;break}return e(Te({wid:t,pud:n})),p.abrupt("return");case 28:l.start();case 29:case"end":return p.stop()}}))}}({wid:e,pud:t,code:n.code,wait:r});case C.c:case C.f:case C.d:case C.e:return function(e){var t=e.wid,n=e.pud,r=e.action;return function(e,a){var i,o,s;return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(Q.a)(a(),t,n,"goval"),o=i.debuggerHandle,s=R.a.safeGet(o),e.t0=r,e.next=e.t0===C.c?5:e.t0===C.d?6:e.t0===C.e?7:e.t0===C.f?8:9;break;case 5:return e.abrupt("return",s.resume());case 6:return e.abrupt("return",s.stepInto());case 7:return e.abrupt("return",s.stepOut());case 8:return e.abrupt("return",s.stepOver());case 9:case"end":return e.stop()}}))}}({wid:e,pud:t,action:n.type});case C.F:return function(e){var t=e.wid,n=e.pud,r=e.input;return function(e){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e(de({wid:t,pud:n})).send({input:r});case 2:case"end":return a.stop()}}))}}({wid:e,pud:t,input:n.content});case C.b:return function(r,a){var i,o;return j.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(i=Object(Q.a)(a(),e,t,"goval"),o=i.repl,"goval"===S.a.get(o.language).engine||"shell"===n.kind){s.next=3;break}return s.abrupt("return");case 3:r(it({wid:e,pud:t,input:n.input,kind:n.kind}));case 4:case"end":return s.stop()}}))};case"OPEN_SHELL":return Oe({wid:e,pud:t});case C.k:return function(e){var t=e.wid,n=e.pud,r=e.filePath;return function(e,a){var i,o,s,c,l;return j.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(i=Object(Q.a)(a(),t,n,"goval"),o=i.files,s=e(ae({wid:t,pud:n})),(c=o[r])&&c.loaded){u.next=5;break}throw new Error("Cannot format file before loading it");case 5:l=ee.a.from(c.content).toBuffer(),s.send({file:{path:r,type:q.api.File.Type.REGULAR,content:l}});case 7:case"end":return u.stop()}}))}}({wid:e,pud:t,filePath:n.filePath});case C.p:return function(n){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.awrap(n(et({wid:e,pud:t,wait:r})));case 2:return a.abrupt("return",me({wid:e,pud:t}));case 3:case"end":return a.stop()}}))};case"ADD_PACKAGES":return function(e){var t=e.wid,n=e.pud,r=e.names.map((function(e){return{name:e}}));return function(e){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.awrap(e(ve({wid:t,pud:n,request:{packageAdd:{pkgs:r}}})));case 2:if(!a.sent.channelClosed){a.next=5;break}return a.abrupt("return");case 5:e({type:"LIST_SPECFILE_PACKAGES",wid:t});case 6:case"end":return a.stop()}}))}}({wid:e,pud:t,names:n.names});case"REMOVE_PACKAGES":return function(e){var t=e.wid,n=e.pud,r=e.names.map((function(e){return{name:e}}));return function(e){return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.awrap(e(ve({wid:t,pud:n,request:{packageRemove:{pkgs:r}}})));case 2:if(!a.sent.channelClosed){a.next=5;break}return a.abrupt("return");case 5:e({type:"LIST_SPECFILE_PACKAGES",wid:t});case 6:case"end":return a.stop()}}))}}({wid:e,pud:t,names:n.names});case"LIST_SPECFILE_PACKAGES":return function(e){var t=e.wid,n=e.pud;return function(e){var r,a;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,j.a.awrap(e(xe({wid:t,pud:n,request:{packageListSpecfile:{}}})));case 2:if(!(r=i.sent).channelClosed){i.next=5;break}return i.abrupt("return");case 5:a={type:"LIST_SPECFILE_RESPONSE",response:[],error:null,wid:t},i.t0=r.body,i.next="error"===i.t0?9:"packageListSpecfileResp"===i.t0?11:13;break;case 9:return e(he({},a,{error:"list specfile failed: ".concat(r.error)})),i.abrupt("return");case 11:return r.packageListSpecfileResp&&r.packageListSpecfileResp.pkgs?e(he({},a,{response:r.packageListSpecfileResp.pkgs})):e(he({},a,{error:"list specfile returned an empty response"})),i.abrupt("return");case 13:V.c(new Error("Unknown packager3 listSpecFile command ".concat(r.body,". ")+"Expected error or packageListSpecfileResp"));case 14:case"end":return i.stop()}}))}}({wid:e,pud:t});case"SEARCH_PACKAGES":return function(e){var t=e.wid,n=e.pud,r=e.query;return function(e){var a;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,j.a.awrap(e(xe({wid:t,pud:n,request:{packageSearch:{query:r}}})));case 2:if(!(a=i.sent).channelClosed){i.next=5;break}return i.abrupt("return");case 5:"packageSearchResp"===a.body&&a.packageSearchResp?e({type:"PACKAGE_SEARCH_RESPONSE",response:a.packageSearchResp.results,wid:t}):V.c(new Error("Unknown packager3 command ".concat(a.body,". ")+"Expected packageSearchResp"));case 6:case"end":return i.stop()}}))}}({wid:e,pud:t,query:n.query});case"FETCH_PACKAGE_INFO":return function(e){var t=e.wid,n=e.pud,r=e.name;return function(e){var a;return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,j.a.awrap(e(xe({wid:t,pud:n,request:{packageInfo:{pkg:{name:r}}}})));case 2:if(!(a=i.sent).channelClosed){i.next=5;break}return i.abrupt("return");case 5:"packageInfoResp"===a.body&&a.packageInfoResp?e({type:"PACKAGE_INFO_RESPONSE",response:a.packageInfoResp.pkg,wid:t}):V.c(new Error("Unknown packager3 command ".concat(a.body,". ")+"Expected packageInfoResp"));case 6:case"end":return i.stop()}}))}}({wid:e,pud:t,name:n.name});case"REQUEST_CHANNEL":return nt({wid:e,pud:t});case Me:case Fe:case Ue:case He:case Ge:case Be:case C.j:case C.h:case ze:case Ke:case Ve:case qe:return tt({wid:e,pud:t});case"START_CHAT":return function(e){var t=e.wid,n=e.pud;return function(e,r){if(Object(X.a)(r().user.userInfo,"flag-multiplayer-services"))e({type:"CHAT_STARTED",wid:t});else{var a=e(Ze({wid:t,pud:n,name:"chatter",service:"chat"})),i=r().user.userInfo;Object(X.a)(i,"flag-multiplayer-services")||e(Ze({wid:t,pud:n,name:"presencer",service:"presence"})),a.isOpen?e({type:"CHAT_STARTED",wid:t}):a.once("open",(function(){e({type:"CHAT_STARTED",wid:t})}))}}}({wid:e,pud:t});case"SEND_CHAT_MESSAGE":return function(e){var t=e.wid,n=e.pud,r=e.username,a=e.text;return function(e){e(Ze({wid:t,pud:n,name:"chatter",service:"chat"})).send({chatMessage:{username:r,text:a}})}}({wid:e,pud:t,username:n.username,text:n.text});case"SEND_USER_TYPING":return function(e){var t=e.wid,n=e.pud,r=e.username,a=e.typing;return function(e){e(Ze({wid:t,pud:n,name:"chatter",service:"chat"})).send({chatTyping:{username:r,typing:a}})}}({wid:e,pud:t,username:n.username,typing:n.typing});case"SEND_EXEC_COMMAND":return function(e){var t=e.wid,n=e.pud,r=e.args;return function(e,a){var i=Object(Q.a)(a(),t,n,"goval").execerHandle,o=i&&R.a.safeGet(i);return null===o&&(o=e(Je({wid:t,pud:n,service:"exec"})),e({type:"SET_EXECER_HANDLE",handle:R.a.getHandle(o),wid:t,pud:n})),o.send({exec:{args:r}}),o}}({wid:e,pud:t,args:n.args});case"ENABLE_TEST_MODE":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s,c,l;return j.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(a=Object(Q.a)(r(),t,n,"goval"),i=a.repl,o=a.files,"goval"===S.a.get(i.language).engine){u.next=3;break}return u.abrupt("return");case 3:s=se({language:i.language,files:O()(o)}),c=s.service,u.t0=c,u.next="shellrun"===u.t0?7:"interp2"===u.t0?9:"eval"===u.t0?11:13;break;case 7:return l=e(Ze({wid:t,pud:n,name:"shellrunner",service:"shellrun"})),u.abrupt("break",14);case 9:return l=e(Ze({wid:t,pud:n,name:"interper",service:"interp2"})),u.abrupt("break",14);case 11:return l=e(Ze({wid:t,pud:n,name:"evaler",service:"eval"})),u.abrupt("break",14);case 13:return u.abrupt("return");case 14:l.send({PTYConfig:{pipeMode:!0}});case 15:case"end":return u.stop()}}))}}({wid:e,pud:t});case"DISABLE_PIPE_MODE":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s,c,l;return j.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(a=Object(Q.a)(r(),t,n,"goval"),i=a.repl,o=a.files,"goval"===S.a.get(i.language).engine){u.next=3;break}return u.abrupt("return");case 3:s=se({language:i.language,files:O()(o)}),c=s.service,u.t0=c,u.next="shellrun"===u.t0?7:"interp2"===u.t0?9:"eval"===u.t0?11:13;break;case 7:return l=e(Ze({wid:t,pud:n,name:"shellrunner",service:"shellrun"})),u.abrupt("break",14);case 9:return l=e(Ze({wid:t,pud:n,name:"interper",service:"interp2"})),u.abrupt("break",14);case 11:return l=e(Ze({wid:t,pud:n,name:"evaler",service:"eval"})),u.abrupt("break",14);case 13:return u.abrupt("return");case 14:l.send({PTYConfig:{pipeMode:!1}});case 15:case"end":return u.stop()}}))}}({wid:e,pud:t});default:return null}})),ft=n("Qv0/"),mt=n("gPGO"),bt=n("doui"),gt=n("q1tI"),ht=n.n(gt),vt=n("sLSF"),xt=function(){function e(){Object(Ne.a)(this,e)}return Object(vt.a)(e,null,[{key:"get",value:function(e){var t,n;try{t=window.sessionStorage.getItem(e)}catch(r){return null}if(null==t)return null;try{n=JSON.parse(t)}catch(r){return null}return n}},{key:"set",value:function(e,t){try{window.sessionStorage.setItem(e,B()(t))}catch(n){}}}]),e}(),wt=n("tZOq"),yt=n("nmgF"),kt=n("1lQF"),jt=n("5QjX"),Et=n("/MKj"),Ot=n("7lhO");function _t(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Nt="session_id_achv_track";function St(e,t,n){switch(e.type){case"TRACK_WS_EVENT":var r=be.track;e.trackOnce&&(r=be.trackOnce),r(be.events[e.eventKey],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):_t(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}({wid:t,language:n},e.properties));break;case"WORKSPACE_MOUNTED":Object(be.track)(be.events.WS_WORKSPACE_MOUNTED,{wid:t,language:n});break;case"LOADING_ENGINE_COMPLETE":var a,i=R.a.get(e.engineHandle);if(!i)break;a=i.goval?"goval":"replbox",Object(be.track)(be.events.WS_ENGINE_LOADED,{wid:t,language:n,engineType:a});break;case"RUN_REPL":S.a.supportsFiles(n)?Object(be.track)(be.events.PROJECT_RAN,{wid:t,language:n}):Object(be.track)(be.events.CODE_RAN,{wid:t,language:n});break;case"CONSOLE_INPUT":"\r"===e.input&&Object(be.track)(be.events.CONSOLE_EVALED,{wid:t,language:n});break;case"STOP_EVAL":Object(be.track)(be.events.WS_EVAL_STOPPED,{wid:t,language:n});break;case"CREATE_FILE":Object(be.track)(be.events.PROJECT_MODE_FILE_CREATED,{wid:t,language:n});break;case"OPEN_FILE":e.newTab&&Object(be.track)(be.events.FILE_HEADER_TAB_OPENED,{wid:t,language:n,newTab:e.newTab}),e.tabIndex&&Object(be.track)(be.events.FILE_HEADER_TAB_REPLACED,{wid:t,language:n,tabIndex:e.tabIndex});break;case"MOVE_FILE":Object(be.track)(be.events.WS_FILE_RENAMED,{wid:t,language:n});break;case"DELETE_FILE":Object(be.track)(be.events.WS_FILE_DELETED,{wid:t,language:n});break;case"CLOSE_HEADER_TAB":Object(be.track)(be.events.FILE_HEADER_TAB_CLOSED,{wid:t,language:n});break;case"SET_SPLIT_POSITION":Object(be.track)(be.events.WS_LAYOUT_CHANGED,{wid:t,language:n});break;case"FORMAT_FILE":Object(be.track)(be.events.PRETTIERED,{wid:t,language:n});break;case"DEBUG_CODE":Object(be.track)(be.events.DEBUGGED,{wid:t,language:n});break;case"SHOW_LIBRARY_SEARCH":Object(be.track)(be.events.LIBRARIES_SEARCHED,{wid:t,language:n});break;case"SET_EXPANDED_FILE_TREE_NODE":Object(be.track)(be.events.WS_EXPANDED_FILE_TREE_NODE,{wid:t,language:n});break;case"SET_ACTIVE_FILE_TREE_NODE":Object(be.track)(be.events.WS_ACTIVATED_FILE_TREE_NODE,{wid:t,language:n});break;case"SET_IS_CREATING_FILE_TREE_NODE":Object(be.track)(be.events.WS_CREATED_FILE_TREE_NODE,{wid:t,language:n});break;case"CLOSE_CHAT_CLICKED":Object(be.track)(be.events.MP2_MINIMIZED_CHAT,{wid:t,language:n,replId:e.replId});break;case"OPENED_MP_ROSTER":Object(be.track)(be.events.MP2_VIEWED_ROSTER,{wid:t,language:n,replId:e.replId});break;case"MP2_VISITED_PROFILE":Object(be.track)(be.events.MP2_VISITED_PROFILE,{wid:t,language:n,replId:e.replId,from:e.from});break;case"MP2_OPENED_INVITE_MODAL":Object(be.track)(be.events.MP2_OPENED_INVITE_MODAL,{wid:t,language:n,replId:e.replId});break;case"SEND_CHAT_MESSAGE":Object(be.track)(be.events.MP2_CHAT_MESSAGE_SENT,{wid:t,language:n,replId:e.replId,username:e.username});break;case"MP2_CHAT_CHANGED_SIDES":Object(be.track)(be.events.MP2_CHAT_CHANGED_SIDES,{wid:t,language:n,replId:e.replId,newSide:e.newSide});break;case"SET_GIT_SIDEBAR_VISIBILITY":e.isSidebarVisible&&Object(be.track)(be.events.GIT_CLIENT_SIDEBAR_OPENED,{language:n,wid:t});break;case"HELP_OPENED":Object(be.track)(be.events.HELP_OPENED,{language:n,wid:t})}}var Ct=Object(kt.a)(),Tt=Ct.receiver,It=Ct.useReceiver;function Rt(){var e=Object(Ot.a)(),t=gt.useState(null),n=Object(bt.a)(t,2),r=n[0],a=n[1],i=Object(jt.a)("flag-achievements-v0"),o=Object(Et.f)((function(e){return e.user.userInfo}));return It((function(t){var n=t.action,s=t.wid;if("WS_TYPED"===n.eventKey&&i){var c=(new Date).toJSON().substring(0,10),l="".concat(o.id,"_").concat(c);xt.get(Nt)!==l&&(xt.set(Nt,l),function(e){j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(yt.a.mutate({mutation:wt.P,variables:{userId:e.id,event:"WS_TYPED"}}));case 2:case"end":return t.stop()}}))}(o))}switch(n.type){case"TIME_TO_CODE_ID":a(n.timeToCodeId);break;case"FILE_LOADED":r&&Object(be.trackOnce)(be.events.TIME_TO_CODE_ENDED,{ttcid:r});break;default:(function(e){var t,n;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(yt.a.query({query:wt.f,variables:{replId:e}}));case 2:return t=r.sent,n=t.data,r.abrupt("return","Repl"===n.repl.__typename?n.repl.language:"");case 5:case"end":return r.stop()}}))})(e).then((function(e){St(n,s,e)}))}return null})),null}var At=n("7r0u"),Pt=n("Rexj"),Lt=n("9/5/"),Dt=n.n(Lt),Mt=n("NuhN"),Ft=n("Hrer"),Ut=n("Cg2A"),Ht=n.n(Ut),Gt=n("MI3g"),Bt=n("a7VT"),zt=n("AT/M"),Kt=n("Tit0"),Vt=n("+qE3"),qt=n("cC09"),Wt=n("cHV+"),Xt=(n("Yk1I"),n("Z5Wq")),Yt=n("p0XB"),Qt=n.n(Yt),Jt=function(e){return e.length>0&&"number"===typeof e[e.length-1]&&e.pop(),e},Zt=function(e){if(!Qt()(e))throw Error("Op must be an array of components");for(var t=null,n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"object":if(!("number"===typeof r.d&&r.d>0))throw Error("Object components must be deletes of size > 0");break;case"string":if(!(r.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(r>0))throw Error("Skip components must be >0");if("number"===typeof t)throw Error("Adjacent skip components should be combined")}t=r}if("number"===typeof t)throw Error("Op has a trailing skip")},$t=function(e){return"number"===typeof e?e:"string"===typeof e?e.length:e.d};function en(e,t){Zt(e),Zt(t);for(var n,r,a=[],i=(n=a,function(e){e&&0!==e.d&&(0===n.length?n.push(e):typeof e===typeof n[n.length-1]?"object"===typeof e?n[n.length-1].d+=e.d:n[n.length-1]+=e:n.push(e))}),o=function(e){var t=0,n=0;return[function(r,a){if(t===e.length)return-1===r?null:r;var i,o=e[t];return"number"===typeof o?-1===r||o-n<=r?(i=o-n,++t,n=0,i):(n+=r,r):"string"===typeof o?-1===r||"i"===a||o.length-n<=r?(i=o.slice(n),++t,n=0,i):(i=o.slice(n,n+r),n+=r,i):-1===r||"d"===a||o.d-n<=r?(i={d:o.d-n},++t,n=0,i):(n+=r,{d:r})},function(){return e[t]}]}(e)[0],s=0;s<t.length;s++){var c=t[s],l=void 0,u=void 0;switch(typeof c){case"number":for(l=c;l>0;)(u=o(l,"d"))&&i(u),"object"!==typeof u&&(l-=$t(u));break;case"string":i(c);break;case"object":for(l=c.d;l>0;)switch(typeof(u=o(l,"d"))){case"number":i({d:u}),l-=u;break;case"string":l-=u.length;break;case"object":u&&i(u)}}}for(;r=o(-1);)i(r);return Jt(a)}function tn(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):tn(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}var rn=function(e){function t(e,n){var r;return Object(Ne.a)(this,t),r=Object(Gt.a)(this,Object(Bt.a)(t).call(this)),Object(y.a)(Object(zt.a)(r),"linkedFile",void 0),Object(y.a)(Object(zt.a)(r),"channel",void 0),Object(y.a)(Object(zt.a)(r),"pending",void 0),Object(y.a)(Object(zt.a)(r),"inflight",void 0),Object(y.a)(Object(zt.a)(r),"inflightOpsPromise",void 0),Object(y.a)(Object(zt.a)(r),"version",void 0),Object(y.a)(Object(zt.a)(r),"otContents",void 0),Object(y.a)(Object(zt.a)(r),"pendingCursors",void 0),Object(y.a)(Object(zt.a)(r),"flushedCursorIds",void 0),Object(y.a)(Object(zt.a)(r),"user",void 0),Object(y.a)(Object(zt.a)(r),"debounceSend",void 0),Object(y.a)(Object(zt.a)(r),"debounceCommit",void 0),Object(y.a)(Object(zt.a)(r),"isCommitting",void 0),Object(y.a)(Object(zt.a)(r),"resolveStatusOp",void 0),Object(y.a)(Object(zt.a)(r),"isReconnecting",void 0),Object(y.a)(Object(zt.a)(r),"uncommittedOps",void 0),Object(y.a)(Object(zt.a)(r),"hasUncommittedMultiplayerOps",void 0),Object(y.a)(Object(zt.a)(r),"committedVersion",void 0),Object(y.a)(Object(zt.a)(r),"committedContent",void 0),Object(y.a)(Object(zt.a)(r),"bufferedReconnectingOps",void 0),Object(y.a)(Object(zt.a)(r),"didEditOffline",void 0),Object(y.a)(Object(zt.a)(r),"reconnectTrackedData",void 0),Object(y.a)(Object(zt.a)(r),"timeDisconnected",void 0),Object(y.a)(Object(zt.a)(r),"connect",(function(e){if(r.channel)throw new Error("Trying to reconnect while we already have a channel");r.channel=e,r.channel.on("command",(function(e){switch(e.body){case"ot":if(!e.ot||null==e.ot.ops||null==e.ot.spookyVersion||null==e.ot.crc32)return void r.emit("error",new Error("OT Error: missing data in ot packet"),e.ot||{});var t={crc32:e.ot.crc32,ops:an(e.ot.ops),version:e.ot.spookyVersion};return r.handlePacket(t,{overrideReconnectringBuffer:!1});case"otstatus":return r.handleStatus(e.otstatus);case"error":if(e.ref)return;return r.emit("error",new Error("Unkown protocol error OT channel"),{originalError:e.error||"Server error"});case"otNewCursor":return r.handleNewCursor(e.otNewCursor);case"otDeleteCursor":return r.handleDeleteCursor(e.otDeleteCursor)}})),r.channel.on("close",(function(){r.close()})),r.channel.on("error",(function(e){return r.emit("error",new Error("OT Error: channel error"),{originalError:e.message})}))})),Object(y.a)(Object(zt.a)(r),"onChange",(function(e){if(!r.channel&&!r.isReconnecting)throw new Error("Trying to send changes before ever coming online");r.isReconnecting&&(r.didEditOffline=!0);var t="";try{t=r.getLocalContent()}catch(m){return void r.emit("error",new Error("OT Error: unable to get local content"),{originalError:m})}var n=[],a=0,i=!0,o=!1,s=void 0;try{for(var c,l=H()(e);!(i=(c=l.next()).done);i=!0){var u=c.value;switch(typeof u){case"number":a+=u;break;case"string":var d=Object(Xt.strPosToUni)(t,a);n=d>0?Wt.type.compose(n,[d,u]):Wt.type.compose(n,[u]),a+=u.length;break;case"object":var p=Object(Xt.strPosToUni)(t,a),f=Object(Xt.strPosToUni)(t,a+u.d)-p;n=p>0?Wt.type.compose(n,[p,{d:f}]):Wt.type.compose(n,[{d:f}]);break;default:return void r.emit("error",new Error("OT Error: unknown op type"))}}}catch(b){o=!0,s=b}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}r.pending=Wt.type.compose(r.pending,n),0!==r.pending.length?r.emit("fileDirty"):r.isCommitting&&r.emit("commitStart");try{r.getLocalContent()}catch(m){r.emit("error",new Error("OT Error: unable to get local content"),{originalError:m})}r.debounceSend()})),Object(y.a)(Object(zt.a)(r),"updateCursors",(function(e){r.pendingCursors=e,r.debounceSend()})),Object(y.a)(Object(zt.a)(r),"isClean",(function(){return r.committedVersion===r.version&&0===r.inflight.length&&0===r.pending.length})),Object(y.a)(Object(zt.a)(r),"sendOps",(function(){if(r.channel&&!r.isReconnecting&&!(r.inflight.length>0)){if(0!==r.pending.length){var e=r.pending.map((function(e){return"object"===typeof e?{delete:e.d}:"number"===typeof e?{skip:e}:{insert:e}}));r.inflight=r.pending,r.pending=[],r.inflightOpsPromise=r.channel.request({ot:{spookyVersion:r.version,ops:e}}),r.inflightOpsPromise.then((function(t){t.error&&r.emit("error",new Error("OT Error: error accepting packet"),{originalError:t.error,ops:e})}))}if(0!==r.pendingCursors.length){var t=!0,n=!1,a=void 0;try{for(var i,o=H()(r.flushedCursorIds);!(t=(i=o.next()).done);t=!0){var s=i.value;r.channel.send({otDeleteCursor:{id:s}})}}catch(b){n=!0,a=b}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}r.flushedCursorIds=[];var c=!0,l=!1,u=void 0;try{for(var d,p=H()(r.pendingCursors);!(c=(d=p.next()).done);c=!0){var f=d.value,m=Number(Math.random().toString().split(".")[1]).toString(36);r.flushedCursorIds.push(m),r.channel.send({otNewCursor:nn({id:m,user:r.user},f)})}}catch(b){l=!0,u=b}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}r.pendingCursors=[]}}})),Object(y.a)(Object(zt.a)(r),"handlePacket",(function(e,t){var n=e.ops,a=e.version,i=e.crc32,o=t.overrideReconnectringBuffer;if(r.resolveStatusOp)return r.resolveStatusOp({ops:n,version:a}),void(r.resolveStatusOp=null);if(!r.isReconnecting||o)if(-1!==r.version)if(r.version++,a===r.version){var s="";try{s=Wt.type.apply(r.otContents,n)}catch(j){return void r.emit("error",new Error("OT Error: unable to apply updated content"),{originalError:j,incomingOps:n})}var c=qt.str(s)>>>0;if(c===i){if(r.uncommittedOps.push({version:a,crc32:i,ops:n}),B()(n)===B()(r.inflight))return r.debounceCommit(),r.inflight=[],r.inflightOpsPromise=null,r.otContents=s,r.debounceSend(),void r.debounceSend.flush();r.isCommitting||r.emit("fileDirty"),r.debounceCommit(),r.hasUncommittedMultiplayerOps=!0;var l="";try{l=r.getLocalContent()}catch(j){return void r.emit("error",new Error("OT Error: unable to get local content"),{originalError:j})}if(r.inflight.length){var u=Wt.type.transform(r.inflight,n,"right");n=Wt.type.transform(n,r.inflight,"left"),r.inflight=u}if(r.pending.length){var d=Wt.type.transform(r.pending,n,"right");n=Wt.type.transform(n,r.pending,"left"),r.pending=d}var p=[],f=0,m=!0,b=!1,g=void 0;try{for(var h,v=H()(n);!(m=(h=v.next()).done);m=!0){var x=h.value;switch(typeof x){case"number":f+=x;break;case"string":var w=Object(Xt.uniToStrPos)(l,f);p=en(p,w>0?[w,x]:[x]),f+=Object(Xt.strPosToUni)(x);break;case"object":var y=Object(Xt.uniToStrPos)(l,f),k=Object(Xt.uniToStrPos)(l,f+x.d)-y;p=en(p,y>0?[y,{d:k}]:[{d:k}]);break;default:return void r.emit("error",new Error("OT Error: unknown op type"))}}}catch(E){b=!0,g=E}finally{try{m||null==v.return||v.return()}finally{if(b)throw g}}r.otContents=s,r.emit("op",p)}else r.emit("error",new Error("OT Error: crc32 mismatch"),{server:i,client:c,incomingOps:n})}else r.emit("error",new Error("OT Error: invalid server version"),{expectedVersion:r.version,receievedVersion:a,incomingOps:n});else r.emit("error",new Error("Got packet while version is still -1, expected version to be set in handleStatus"));else r.bufferedReconnectingOps.push({crc32:i,ops:n,version:a})})),Object(y.a)(Object(zt.a)(r),"handleNewCursor",(function(e){r.emit("cursor",e)})),Object(y.a)(Object(zt.a)(r),"handleDeleteCursor",(function(e){var t=e.id;r.emit("removeCursor",t)})),Object(y.a)(Object(zt.a)(r),"handleStatus",(function(e){var t,n,a,i,o,s;return j.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.channel){c.next=2;break}return c.abrupt("return");case 2:if(!e.linkedFile){c.next=23;break}if(null!=e.contents){c.next=6;break}return r.emit("error",new Error("expected status contents,  got null or undefined")),c.abrupt("return");case 6:if(null!=e.cursors){c.next=9;break}return r.emit("error",new Error("expected status cursors, got null or undefined")),c.abrupt("return");case 9:if(null!=e.version){c.next=12;break}return r.emit("error",new Error("expected status version, got null or undefined")),c.abrupt("return");case 12:if(!r.isReconnecting){c.next=15;break}return r.handleReconnect(e.contents,e.version),c.abrupt("return");case 15:return r.otContents=e.contents,r.version=e.version,r.emit("firstConnect"),r.emit("op",[r.otContents]),e.cursors.forEach(r.handleNewCursor),r.emit("fileDirty"),r.debounceCommit(),c.abrupt("return");case 23:return t=new K.a((function(e){return r.resolveStatusOp=e})),c.next=26,j.a.awrap(r.channel.request({otLinkFile:{file:{path:r.linkedFile},highConsistency:Boolean(window["flag-ot-high-consitency"]),useModTime:!0}}));case 26:if(!(n=c.sent).channelClosed){c.next=29;break}return c.abrupt("return");case 29:if(!n.error){c.next=32;break}return r.emit("error",new Error("link file error "+n.error)),c.abrupt("return");case 32:return c.next=34,j.a.awrap(t);case 34:if(a=c.sent,i=a.ops,o=a.version,!(i.length>1)){c.next=40;break}return r.emit("error",new Error("Expected a single status op")),c.abrupt("return");case 40:if("string"===typeof(s=i[0]||"")){c.next=44;break}return r.emit("error",new Error("Expected a status op to be an insert or empty")),c.abrupt("return");case 44:if(!r.isReconnecting){c.next=47;break}return r.handleReconnect(s,o),c.abrupt("return");case 47:r.otContents=s,r.version=o,r.committedVersion=o,r.committedContent=r.otContents,r.emit("firstConnect"),r.emit("op",i);case 53:case"end":return c.stop()}}))})),Object(y.a)(Object(zt.a)(r),"handleReconnect",(function(e,t){var n,a,i,o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,E,O,_,N,S,C,T,I,R,A,P,L,D,M,F,U,G,B,z,K,V,q,W,X,Y,Q,J,Z,$;return j.a.async((function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(r.timeDisconnected){ee.next=2;break}throw new Error("wat");case 2:if(n=Ht()()-r.timeDisconnected,a=function(a){r.reconnectTrackedData=nn({},a,{serverVersion:t,ourVersion:r.version,ourCommittedVersion:r.committedVersion,areContentsEqual:r.otContents===e,areCommittedContentsEqual:r.committedContent===e,didReceiveOpsWhileReconnecting:Boolean(r.bufferedReconnectingOps),didEditOffline:r.didEditOffline,hasPendingOps:Boolean(r.pending.length),disconnectDuration:n})},i=function(){r.isReconnecting=!1,r.bufferedReconnectingOps=[],r.didEditOffline=!1,r.timeDisconnected=null,r.debounceSend(),r.debounceCommit(),r.emit("reconnected")},!r.inflight.length){ee.next=26;break}if(t!==r.version||r.otContents!==e){ee.next=14;break}return a({case:"has_inflight_happy_path_ops_unreached",prompted:!1}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.pending=Wt.type.compose(r.inflight,r.pending),r.inflight=[],r.inflightOpsPromise=null,i(),ee.abrupt("return");case 14:o=!1,s=r.otContents;try{s=Wt.type.apply(e,r.inflight)}catch(te){o=!0}if(o||r.version+1!==t||s!==e){ee.next=22;break}return a({case:"has_inflight_happy_path_ops_reached",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 22:return a({case:"has_inflight",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 26:if(!r.hasUncommittedMultiplayerOps){ee.next=31;break}return a({case:"multiplayer",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 31:if(r.version!==t){ee.next=41;break}if(e!==r.otContents){ee.next=37;break}return a({case:"happy_path",prompted:!1}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),i(),ee.abrupt("return");case 37:return a({case:"same_version_different_content",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 41:if(r.committedVersion!==t){ee.next=104;break}for(c=e,ee.prev=43,l=!0,u=!1,d=void 0,ee.prev=47,p=H()(r.uncommittedOps);!(l=(f=p.next()).done);l=!0)m=f.value.ops,c=Wt.type.apply(c,m);ee.next=55;break;case 51:ee.prev=51,ee.t0=ee.catch(47),u=!0,d=ee.t0;case 55:ee.prev=55,ee.prev=56,l||null==p.return||p.return();case 58:if(ee.prev=58,!u){ee.next=61;break}throw d;case 61:return ee.finish(58);case 62:return ee.finish(55);case 63:ee.next=71;break;case 65:return ee.prev=65,ee.t1=ee.catch(43),a({case:"same_committed_version_unable_to_apply_ops",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 71:if(c!==r.otContents){ee.next=100;break}for(a({case:"happy_path_uncommitted",prompted:!1}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),b=[],g=!0,h=!1,v=void 0,ee.prev=78,x=H()(r.uncommittedOps);!(g=(w=x.next()).done);g=!0)y=w.value.ops,b=Wt.type.compose(b,y);ee.next=86;break;case 82:ee.prev=82,ee.t2=ee.catch(78),h=!0,v=ee.t2;case 86:ee.prev=86,ee.prev=87,g||null==x.return||x.return();case 89:if(ee.prev=89,!h){ee.next=92;break}throw v;case 92:return ee.finish(89);case 93:return ee.finish(86);case 94:return r.pending=Wt.type.compose(b,r.pending),r.uncommittedOps=[],r.version=t,r.otContents=e,i(),ee.abrupt("return");case 100:return a({case:"same_committed_version_different_content_fixed",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 104:if(!(r.version<t)){ee.next=211;break}return ee.next=107,j.a.awrap(r.fetchOps(r.version+1,t));case 107:for(k=ee.sent,E=!1,O=r.otContents,ee.prev=110,_=!0,N=!1,S=void 0,ee.prev=114,C=H()(k);!(_=(T=C.next()).done);_=!0)I=T.value.ops,O=Wt.type.apply(O,I);ee.next=122;break;case 118:ee.prev=118,ee.t3=ee.catch(114),N=!0,S=ee.t3;case 122:ee.prev=122,ee.prev=123,_||null==C.return||C.return();case 125:if(ee.prev=125,!N){ee.next=128;break}throw S;case 128:return ee.finish(125);case 129:return ee.finish(122);case 130:ee.next=135;break;case 132:ee.prev=132,ee.t4=ee.catch(110),E=!0;case 135:if(E||O!==e){ee.next=178;break}for(a({case:"happy_path_server_ahead",prompted:!1}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),R=!0,A=!1,P=void 0,ee.prev=141,L=H()(k);!(R=(D=L.next()).done);R=!0)M=D.value,r.handlePacket(M,{overrideReconnectringBuffer:!0});ee.next=149;break;case 145:ee.prev=145,ee.t5=ee.catch(141),A=!0,P=ee.t5;case 149:ee.prev=149,ee.prev=150,R||null==L.return||L.return();case 152:if(ee.prev=152,!A){ee.next=155;break}throw P;case 155:return ee.finish(152);case 156:return ee.finish(149);case 157:for(F=!0,U=!1,G=void 0,ee.prev=160,B=H()(r.bufferedReconnectingOps);!(F=(z=B.next()).done);F=!0)K=z.value,r.handlePacket(K,{overrideReconnectringBuffer:!0});ee.next=168;break;case 164:ee.prev=164,ee.t6=ee.catch(160),U=!0,G=ee.t6;case 168:ee.prev=168,ee.prev=169,F||null==B.return||B.return();case 171:if(ee.prev=171,!U){ee.next=174;break}throw G;case 174:return ee.finish(171);case 175:return ee.finish(168);case 176:return i(),ee.abrupt("return");case 178:return ee.next=180,j.a.awrap(r.fetchOps(r.committedVersion+1,t));case 180:for(V=ee.sent,q=!1,W=r.committedContent,ee.prev=183,X=!0,Y=!1,Q=void 0,ee.prev=187,J=H()(V);!(X=(Z=J.next()).done);X=!0)$=Z.value.ops,W=Wt.type.apply(W,$);ee.next=195;break;case 191:ee.prev=191,ee.t7=ee.catch(187),Y=!0,Q=ee.t7;case 195:ee.prev=195,ee.prev=196,X||null==J.return||J.return();case 198:if(ee.prev=198,!Y){ee.next=201;break}throw Q;case 201:return ee.finish(198);case 202:return ee.finish(195);case 203:ee.next=208;break;case 205:ee.prev=205,ee.t8=ee.catch(183),q=!0;case 208:return q||W!==e||(a({case:"happy_path_uncommitted_server_ahead",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData)),r.emit("promptUserReconnect"),ee.abrupt("return");case 211:a({case:"other",prompted:!0}),Object(be.track)(be.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect");case 214:case"end":return ee.stop()}}),null,null,[[43,65],[47,51,55,63],[56,,58,62],[78,82,86,94],[87,,89,93],[110,132],[114,118,122,130],[123,,125,129],[141,145,149,157],[150,,152,156],[160,164,168,176],[169,,171,175],[183,205],[187,191,195,203],[196,,198,202]])})),Object(y.a)(Object(zt.a)(r),"getLocalContent",(function(){var e=Object(zt.a)(r),t=e.inflight,n=e.otContents,a=e.pending,i=n;return t.length&&(i=Wt.type.apply(i,t)),a.length&&(i=Wt.type.apply(i,a)),i})),Object(y.a)(Object(zt.a)(r),"fetchOps",(function(e,t){var n;return j.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.channel){a.next=2;break}throw new Error("No cahnnel, cannot fetch");case 2:return a.next=4,j.a.awrap(r.channel.request({otFetchRequest:{versionFrom:e,versionTo:t}}));case 4:if(!(n=a.sent).channelClosed){a.next=7;break}throw new Error("Channel closed while requesting");case 7:if(!n.error){a.next=9;break}throw new Error("Fetch ops returned an error"+n.error);case 9:if(n.otFetchResponse){a.next=11;break}throw new Error("Expected otFetchResponse");case 11:if(n.otFetchResponse.packets){a.next=13;break}throw new Error("Expected otFetchResponse.packets");case 13:return a.abrupt("return",n.otFetchResponse.packets.map((function(e){var t=e.crc32,n=e.ops,r=e.version;if(null==t)throw new Error("Expected crc32 in packet");if(null==n)throw new Error("Expected ops in packet");if(null==r)throw new Error("Expected version in packet");return{crc32:t,version:r,ops:an(n)}})));case 14:case"end":return a.stop()}}))})),r.linkedFile=e,r.channel=null,r.inflight=[],r.inflightOpsPromise=null,r.uncommittedOps=[],r.hasUncommittedMultiplayerOps=!1,r.committedVersion=-1,r.isReconnecting=!1,r.bufferedReconnectingOps=[],r.didEditOffline=!1,r.pending=[],r.version=-1,r.otContents="",r.committedContent="",r.flushedCursorIds=[],r.pendingCursors=[],r.user=n,r.debounceSend=Dt()((function(){return r.sendOps()}),20,{maxWait:60}),r.debounceCommit=Dt()((function(){return r.commitToDisk()}),1e3,{maxWait:3e3}),r.resolveStatusOp=null,r.isCommitting=!1,r.timeDisconnected=null,r}return Object(Kt.a)(t,e),Object(vt.a)(t,[{key:"commitToDisk",value:function(){var e,t,n;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.channel){r.next=2;break}throw new Error("Tryna commit while offline");case 2:if(!this.isReconnecting){r.next=4;break}throw new Error("Committing while reconnecting");case 4:if(!this.isClean()){r.next=6;break}return r.abrupt("return");case 6:if(!this.isCommitting){r.next=9;break}return this.debounceCommit(),r.abrupt("return");case 9:if(this.isCommitting=!0,!this.inflightOpsPromise){r.next=17;break}return r.next=13,j.a.awrap(this.inflightOpsPromise);case 13:if(!r.sent.channelClosed){r.next=17;break}return this.isCommitting=!1,r.abrupt("return");case 17:if(!(this.pending.length>0)){r.next=30;break}if(this.debounceSend(),this.debounceSend.flush(),this.inflightOpsPromise){r.next=24;break}return this.isCommitting=!1,this.emit("error",new Error("expected inflight promise")),r.abrupt("return");case 24:return r.next=26,j.a.awrap(this.inflightOpsPromise);case 26:if(!r.sent.channelClosed){r.next=30;break}return this.isCommitting=!1,r.abrupt("return");case 30:return this.emit("commitStart"),e=this.version,t=this.otContents,r.next=35,j.a.awrap(this.channel.request({flush:{}}));case 35:if(!(n=r.sent).channelClosed){r.next=39;break}return this.isCommitting=!1,r.abrupt("return");case 39:if("ok"===n.body){r.next=43;break}return this.isCommitting=!1,this.emit("error",new Error("OT Error: unable to flush"),{originalError:n.error||n.toString()}),r.abrupt("return");case 43:return this.uncommittedOps=[],this.hasUncommittedMultiplayerOps=!1,this.committedVersion=e,this.committedContent=t,this.isClean()&&this.emit("commitClean"),this.isCommitting=!1,r.abrupt("return",n);case 50:case"end":return r.stop()}}),null,this)}},{key:"close",value:function(){this.isReconnecting=!0,this.debounceSend.cancel(),this.debounceCommit.cancel(),this.timeDisconnected||(this.timeDisconnected=Ht()()),this.channel&&(this.channel.closed?this.channel=null:(this.channel.close(),this.channel=null))}}]),t}(Vt.EventEmitter);function an(e){return e.map((function(e){if("delete"in e&&e.delete)return{d:e.delete};if("skip"in e&&e.skip)return e.skip;if("insert"in e&&"string"===typeof e.insert)return e.insert;throw new Error("Unexpected op type")}))}var on=n("N9ih"),sn=n("EVOq"),cn=n("EMhG"),ln=n("XE6U");function un(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):un(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}var pn=Object(cn.a)((function(){return{loadingFiles:[],otClients:{},pendingOps:[],inflightOp:null,filer:null,fsevents:null,lastSnapshotTimestamp:0,engineLoaded:!1}})),fn=pn.reducer,mn=pn.setState,bn=function(e,t){return!!e.startsWith("node_modules")||!!S.a.isLangFileBinary(t,e)};function gn(e,t,n,r){return function(a,i){var o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,E,O,_,N,S,C,T,I;return j.a.async((function(R){for(;;)switch(R.prev=R.next){case 0:if(!Object(Q.a)(i(),e,t,"containerfs3").dirs[r].loaded){R.next=4;break}return a(En(e,t,n)),R.abrupt("return");case 4:return a(Tn(e,t,""===r?".":"./".concat(r),n)),R.next=8,j.a.awrap(a(vn(e,t,n)));case 8:return s=R.sent,R.next=11,j.a.awrap(s.request({readdir:{path:"./".concat(r)}}));case 11:if(!(c=R.sent).channelClosed){R.next=14;break}return R.abrupt("return");case 14:if(!c.error){R.next=16;break}return R.abrupt("return");case 16:if((l=null===(o=c.files)||void 0===o?void 0:o.files)&&0!==l.length){R.next=21;break}return a({type:"DIRECTORY_LOADED",wid:e,path:r}),a(En(e,t,n)),R.abrupt("return");case 21:u=Object(Q.a)(i(),e,t,"containerfs3"),d=u.dirs,p=u.files,f=u.repl,m=!0,b=!1,g=void 0,R.prev=25,h=H()(l);case 27:if(m=(v=h.next()).done){R.next=41;break}if(x=v.value,w=x.path,y=x.type,w){R.next=32;break}return R.abrupt("continue",38);case 32:if(k="".concat(Object(Mt.a)(r)).concat(w),!d[k]&&!p[k]){R.next=35;break}return R.abrupt("continue",38);case 35:if(!bn(w,f.language)){R.next=37;break}return R.abrupt("continue",38);case 37:a({type:y===q.api.File.Type.DIRECTORY?"CREATE_CLIENT_DIRECTORY":"CREATE_FILE",wid:e,path:k});case 38:m=!0,R.next=27;break;case 41:R.next=47;break;case 43:R.prev=43,R.t0=R.catch(25),b=!0,g=R.t0;case 47:R.prev=47,R.prev=48,m||null==h.return||h.return();case 50:if(R.prev=50,!b){R.next=53;break}throw g;case 53:return R.finish(50);case 54:return R.finish(47);case 55:E=Object(Mt.b)(dn({},p,{},d),r).map(oe.b),O=l.map((function(e){return e.path})),_=!0,N=!1,S=void 0,R.prev=60,C=H()(E);case 62:if(_=(T=C.next()).done){R.next=70;break}if(I=T.value,!O.includes(I)){R.next=66;break}return R.abrupt("continue",67);case 66:a({type:"DELETE_FILE",wid:e,path:"".concat(Object(Mt.a)(r)).concat(I),changeSource:"containerfs"});case 67:_=!0,R.next=62;break;case 70:R.next=76;break;case 72:R.prev=72,R.t1=R.catch(60),N=!0,S=R.t1;case 76:R.prev=76,R.prev=77,_||null==C.return||C.return();case 79:if(R.prev=79,!N){R.next=82;break}throw S;case 82:return R.finish(79);case 83:return R.finish(76);case 84:a({type:"DIRECTORY_LOADED",wid:e,path:r}),a(En(e,t,n));case 86:case"end":return R.stop()}}),null,null,[[25,43,47,55],[48,,50,54],[60,72,76,84],[77,,79,83]])}}function hn(e,t,n){return function(r,a){var i,o,s,c,l;return j.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(i=Object(Q.a)(a(),e,t,"containerfs3"),!(o=i.fsevents)){u.next=3;break}return u.abrupt("return",o);case 3:return s=r(Object(sn.a)({wid:e,service:"fsevents",wait:n})),mn(e,t,r,{fsevents:s}),u.next=7,j.a.awrap(s);case 7:return c=u.sent,mn(e,t,r,{fsevents:c}),l=function(){return mn(e,t,r,{fsevents:null})},c.once("close",l),c.once("error",l),c.on("command",(function(n){Cn(e,t,r,a,n)})),u.abrupt("return",c);case 14:case"end":return u.stop()}}))}}function vn(e,t,n){return function(r,a){var i,o,s,c,l,u,d,p,f;return j.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(i=Object(Q.a)(a(),e,t,"containerfs3"),o=i.filer,s=i.repl,!o){m.next=3;break}return m.abrupt("return",o);case 3:return c=function(){},l=new K.a((function(e){return c=e})),mn(e,t,r,{filer:l}),m.next=8,j.a.awrap(r(Object(sn.a)({wid:e,service:s.isOwner?"gcsfiles":"file",wait:n})));case 8:if(u=m.sent,d=function(){return mn(e,t,r,{filer:null})},u.once("close",d),p=null,!s.isOwner){m.next=16;break}return m.next=15,j.a.awrap(r(Object(sn.a)({wid:e,service:"snapshot",wait:n})));case 15:p=m.sent;case 16:return f=Dt()((function(){var n,i,o;return j.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(mn(e,t,r,{lastSnapshotTimestamp:window.performance.now()}),n=!1,!p){s.next=5;break}return s.next=5,j.a.awrap(p.request({fsSnapshot:{}}).then((function(a){a.ok||(n=!0,a.channelClosed||(p&&p.send({fsSnapshot:{}}),r({type:"BSOD",wid:e,crasherPud:t,originalError:a.error}),V.m((function(e){e.setTag("source","containerfs3"),e.setTag("errorType",a.error),V.c(new Error("snapshot error: "+a.error))}))))})));case 5:if(!n){s.next=8;break}return f(),s.abrupt("return");case 8:for(i=Object(Q.a)(a(),e,t,"containerfs3"),o=i.fsclean.waiting;o-- >0;)r({type:"FILE_PERSISTED",wid:e});case 10:case"end":return s.stop()}}))}),5e3,{maxWait:1e4}),mn(e,t,r,{debouncePersist:f,filer:u}),c(u),m.abrupt("return",u);case 20:case"end":return m.stop()}}))}}function xn(e){var t=e.wid,n=e.pud,r=e.path,a=e.wait;return function(e,i){var o,s,c,l,u,d;return j.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(!(o=function(){return Object(Q.a)(i(),t,n,"containerfs3")})().loadingFiles.includes(r)&&!o().otClients[r]){p.next=4;break}return e(En(t,n,a)),p.abrupt("return");case 4:return mn(t,n,e,{loadingFiles:[].concat(Object(w.a)(o().loadingFiles),[r])}),p.next=7,j.a.awrap(e(vn(t,n,a)));case 7:if(s=p.sent,!Object(oe.h)(r)){p.next=25;break}return p.next=11,j.a.awrap(s.request({read:{path:r,type:q.api.File.Type.REGULAR}}));case 11:if(c=p.sent,mn(t,n,e,{loadingFiles:o().loadingFiles.filter((function(e){return e!==r}))}),!c.channelClosed){p.next=15;break}return p.abrupt("return");case 15:if(!c.error){p.next=19;break}throw e({type:"FILE_ERROR",wid:t,path:r,error:c.error}),e({type:"BSOD",wid:t,crasherPud:n,originalError:c.error}),new ln.a("unable to load file").setExtra("error",c.error);case 19:if(c.file&&c.file.content){p.next=21;break}throw new Error("Expected file or error");case 21:return o().filestate[r]===L.a.Syncing?e({type:"FILE_CLEAN",wid:t,path:r}):o().filestate[r]===L.a.Loading&&e({type:"FILE_LOADED",wid:t,path:r,file:{path:r,content:ee.a.from(c.file.content),loaded:!0}}),e(Tn(t,n,r,a)),e(En(t,n,a)),p.abrupt("return");case 25:return p.next=27,j.a.awrap(e(Object(sn.a)({wid:t,service:"ot",name:"ot:"+r,wait:a})));case 27:l=p.sent,u=i().user.userInfo,_n(l,e,t),(d=new rn(r,{name:u.username,id:u.id})).connect(l),d.on("reconnected",(function(){0})),d.on("fileDirty",(function(){e({type:"FILE_DIRTY",wid:t,path:r})})),d.on("commitClean",(function(){e({type:"PERSIST_FILE",wid:t}),e({type:"FILE_CLEAN",wid:t,path:r})})),d.on("commitStart",(function(){o().filestate[r]!==L.a.Syncing&&e({type:"FILE_SYNCING",wid:t,path:r})})),d.once("error",(function(a,o){d.close();var s=Object(Q.a)(i(),t,n,"containerfs3"),c=s.otClients,l=s.workingDirectory,u=s.files,p=dn({},o);if(c[r]){var f=dn({},c);if(delete f[r],mn(t,n,e,{otClients:f}),(p=dn({},p,{},JSON.parse(B()(c[r])))).filePath=r,window.monaco){var m=window.monaco.Uri.from({scheme:"file",path:"".concat(l,"/").concat(r)}),b=window.monaco.editor.getModel(m);p.monacoContent=b?B()(b.getValue()):"model not found"}else p.monacoContent="monaco not loaded"}u[r]&&e({type:"FILE_UNLOAD",wid:t,path:r}),V.m((function(r){r.setExtras(p),r.setTag("source","ot");var i=V.c(a);e({type:"BSOD",wid:t,sentryEventId:i,crasherPud:n,originalError:a})}))})),d.on("cursor",(function(n){e({wid:t,type:"ADD_FILE_CURSOR",cursor:n,path:r})})),d.on("removeCursor",(function(n){e({wid:t,type:"REMOVE_FILE_CURSOR",id:n,path:r})})),d.on("op",(function(n){e({wid:t,type:"OT_FILE_OP",path:r,changeSource:"containerfs",op:n})})),d.on("promptUserReconnect",(function(){e({wid:t,type:"PROMPT_FILE_RECONNECT_FALLBACK_CHOICE",path:r})})),d.once("firstConnect",(function(){mn(t,n,e,{loadingFiles:o().loadingFiles.filter((function(e){return e!==r}))}),mn(t,n,e,{otClients:dn({},o().otClients,Object(y.a)({},r,d))}),e({type:"FILE_LOADED",wid:t,path:r,file:{path:r,content:ee.a.from(""),loaded:!0}}),e(En(t,n,a))}));case 42:case"end":return p.stop()}}))}}function wn(e,t,n,r){return function(a){var i,o,s,c;return j.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return i=n.path,o=n.content,l.next=3,j.a.awrap(a(vn(e,t,r)));case 3:return s=l.sent,l.next=6,j.a.awrap(s.request({write:{path:i,content:ee.a.from(o).toBuffer()}}));case 6:if(!(c=l.sent).channelClosed){l.next=9;break}return l.abrupt("return");case 9:if(c.ok){l.next=12;break}throw a({type:"FILE_ERROR",wid:e,path:i,error:c.error}),new Error("file upload error "+c.error);case 12:a({type:"PERSIST_FILE",wid:e}),a(xn({wid:e,pud:t,path:i,wait:r}));case 14:case"end":return l.stop()}}))}}function yn(e){var t=e.wid,n=e.pud,r=e.action,a=e.wait;return function(e,i){var o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,E,_,N,S,C;return j.a.async((function(T){for(;;)switch(T.prev=T.next){case 0:o=r.path,s=r.to,l=(c=function(){return Object(Q.a)(i(),t,n,"containerfs3")})(),u=l.otClients,d=O()(u).includes(o)?[o]:Object(Mt.d)(u,o),p=[],f=!0,m=!1,b=void 0,T.prev=8,g=function(){var n,r=v.value,a=u[r];return a.isClean()?"continue":(null===(n=a.channel)||void 0===n?void 0:n.isOpen)?(a.debounceCommit(),a.debounceCommit.flush(),void p.push(new K.a((function(n,r){var i=!1,c=setTimeout((function(){i=!0;var n="Failed to flush otClient for ".concat(a.linkedFile," in time while moving from ").concat(o," to ").concat(s);e({type:"FILE_ERROR",wid:t,path:a.linkedFile,error:n}),r(n)}),5e3);a.once("commitClean",(function(){i||(a.close(),clearTimeout(c),n())}))})))):(V.c(new Error("Found an unclean otClient with no open channel while moving")),"continue")},h=H()(d);case 11:if(f=(v=h.next()).done){T.next=18;break}if("continue"!==g()){T.next=15;break}return T.abrupt("continue",15);case 15:f=!0,T.next=11;break;case 18:T.next=24;break;case 20:T.prev=20,T.t0=T.catch(8),m=!0,b=T.t0;case 24:T.prev=24,T.prev=25,f||null==h.return||h.return();case 27:if(T.prev=27,!m){T.next=30;break}throw b;case 30:return T.finish(27);case 31:return T.finish(24);case 32:return T.next=34,j.a.awrap(K.a.all(p));case 34:for(x=dn({},u),w=!0,y=!1,k=void 0,T.prev=38,E=H()(d);!(w=(_=E.next()).done);w=!0)N=_.value,u[N].close(),delete x[N];T.next=46;break;case 42:T.prev=42,T.t1=T.catch(38),y=!0,k=T.t1;case 46:T.prev=46,T.prev=47,w||null==E.return||E.return();case 49:if(T.prev=49,!y){T.next=52;break}throw k;case 52:return T.finish(49);case 53:return T.finish(46);case 54:return mn(t,n,e,{otClients:x}),T.next=57,j.a.awrap(e(vn(t,n,a)));case 57:return S=T.sent,T.next=60,j.a.awrap(S.request({move:{oldPath:o,newPath:s}}));case 60:if(!(C=T.sent).channelClosed){T.next=63;break}return T.abrupt("return");case 63:if(C.ok){T.next=67;break}throw(O()(c().files).includes(s)?[s]:Object(Mt.d)(c().files,s)).forEach((function(n){e({type:"FILE_ERROR",wid:t,path:n,error:C.error})})),new Error("unable to move file: "+C.error);case 67:e({type:"PERSIST_FILE",wid:t}),e(En(t,n,a));case 69:case"end":return T.stop()}}),null,null,[[8,20,24,32],[25,,27,31],[38,42,46,54],[47,,49,53]])}}function kn(e,t,n,r){return function(a,i){var o,s,c,l,u,d;return j.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(o=n.path,s=Object(Q.a)(i(),e,t,"containerfs3"),c=s.loadingFiles,l=function(e){return Object(Mt.c)(o,e)||e===o},!c.some(l)){p.next=5;break}throw new Error("TODO(turbio): handle deleting a file while load in progress");case 5:return p.next=7,j.a.awrap(a(vn(e,t,r)));case 7:return u=p.sent,p.next=10,j.a.awrap(u.request({remove:{path:o}}));case 10:if(!(d=p.sent).channelClosed){p.next=13;break}return p.abrupt("return");case 13:if(d.ok){p.next=17;break}if("persist delete failed: 404 Not Found"!==d.error){p.next=16;break}return p.abrupt("return");case 16:a({type:"FILE_ERROR",wid:e,path:o,error:d.error});case 17:a({type:"PERSIST_FILE",wid:e}),a(En(e,t,r));case 19:case"end":return p.stop()}}))}}function jn(e,t,n,r){return function(a){var i,o;return j.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,j.a.awrap(a(vn(e,t,r)));case 2:return i=s.sent,s.next=5,j.a.awrap(i.request({mkdir:{path:n.path}}));case 5:if(!(o=s.sent).channelClosed){s.next=8;break}return s.abrupt("return");case 8:if(!o.error){s.next=10;break}throw new Error("unable to mkdir: "+o.error);case 10:a({type:"PERSIST_FILE",wid:e}),a(En(e,t,r));case 12:case"end":return s.stop()}}))}}function En(e,t,n){return function(r){mn(e,t,r,{inflightOp:null}),r(On(e,t,n))}}function On(e,t,n){return function(r,a){var i,o,s,c;return j.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(i=Object(Q.a)(a(),e,t,"containerfs3")).inflightOp&&0!==i.pendingOps.length&&i.engineLoaded){l.next=3;break}return l.abrupt("return");case 3:if(o=Object(w.a)(i.pendingOps),s=o.shift()){l.next=7;break}throw new Error("poped an op but it was nil???");case 7:mn(e,t,r,{pendingOps:o,inflightOp:s}),l.t0=s.type,l.next="LOAD_DIRECTORY"===l.t0?11:"CREATE_DIRECTORY"===l.t0?13:"LOAD_FILE"===l.t0?15:"UPLOAD_FILE"===l.t0?17:"MOVE_FILE"===l.t0?19:"DELETE_FILE"===l.t0?21:23;break;case 11:return c=gn(e,t,n,s.path),l.abrupt("break",24);case 13:return c=jn(e,t,s,n),l.abrupt("break",24);case 15:return c=xn({wid:e,pud:t,path:s.path,wait:n}),l.abrupt("break",24);case 17:return c=wn(e,t,s,n),l.abrupt("break",24);case 19:return c=yn({wid:e,pud:t,action:s,wait:n}),l.abrupt("break",24);case 21:return c=kn(e,t,s,n),l.abrupt("break",24);case 23:throw new Error("unexpected OP ".concat(s.type," ").concat(B()(s)));case 24:return l.prev=24,l.next=27,j.a.awrap(r(c));case 27:l.next=32;break;case 29:l.prev=29,l.t1=l.catch(24),V.m((function(n){n.setExtra("containerfsState",Object(Q.a)(a(),e,t,"containerfs3")),n.setTags({pluginType:"containerfs3",workspaceError:"true"});var i=V.c(l.t1);r({type:"BSOD",wid:e,sentryEventId:i,crasherPud:t,originalError:l.t1})}));case 32:case"end":return l.stop()}}),null,null,[[24,29]])}}function _n(e,t,n){e.on("command",(function(e){if(e.error){var r=e.error.toLowerCase();(r.includes("disk quota exceeded")||r.includes("EDQUOT"))&&(t({type:"TRACK_WS_EVENT",eventKey:"DISK_QUOTA_EXCEEDED",wid:n}),t({type:"PROMPT_HACKER_UPGRADE",wid:n,title:"Space jam",trackingCtx:"workspace-disk-quota",message:"\ud83e\udd26 You've run out of free disk space",closable:!1}))}}))}function Nn(e,t,n){return function(r,a){var i,o,s,c,l,u,d,p,f,m,b;return j.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:for(i=Object(Q.a)(a(),e,t,"containerfs3"),o=i.pendingOps,s=i.otClients,c=O()(s).includes(n)?[n]:Object(Mt.d)(s,n),l=dn({},s),u=!0,d=!1,p=void 0,g.prev=6,f=H()(c);!(u=(m=f.next()).done);u=!0)b=m.value,s[b]&&(s[b].close(),delete l[b]);g.next=14;break;case 10:g.prev=10,g.t0=g.catch(6),d=!0,p=g.t0;case 14:g.prev=14,g.prev=15,u||null==f.return||f.return();case 17:if(g.prev=17,!d){g.next=20;break}throw p;case 20:return g.finish(17);case 21:return g.finish(14);case 22:mn(e,t,r,{pendingOps:o.filter((function(e){return e.path!==n&&!Object(Mt.c)(n,e.path)})),otClients:l});case 23:case"end":return g.stop()}}),null,null,[[6,10,14,22],[15,,17,21]])}}function Sn(e,t,n,r){return function(a,i){var o=Object(Q.a)(i(),e,t,"containerfs3"),s=n.path;if(s.startsWith("/")&&V.m((function(e){e.setExtra("path",s),e.setExtra("actiontype",n.type),"changeSource"in n&&e.setExtra("changeSource",n.changeSource),V.c(new Error("Absolute path caught"))})),o.repl.isOwner||"LOAD_FILE"===n.type||"LOAD_DIRECTORY"===n.type){if("UPLOAD_FILE"===n.type)a({type:"CREATE_FILE",wid:e,path:s}),a({type:"FILE_LOADING",wid:e,path:s});else if("LOAD_FILE"===n.type){if(o.otClients[s])return a({type:"FILE_CACHE_HIT",wid:e,path:s,file:{loaded:!0,path:s,content:ee.a.from(o.otClients[s].otContents)}}),void a(On(e,t,r));var c=o.files[s];if(c&&c.loaded)return a({type:"FILE_CACHE_HIT",wid:e,path:s,file:c}),void a(On(e,t,r));o.files[s]?o.filestate[s]!==L.a.Loading&&a({type:"FILE_LOADING",wid:e,path:s}):(a({type:"CREATE_FILE",wid:e,path:s,changeSource:"containerfs"}),a({type:"FILE_LOADING",wid:e,path:s}))}else"CREATE_DIRECTORY"===n.type&&a({type:"CREATE_CLIENT_DIRECTORY",wid:e,path:s});mn(e,t,a,{pendingOps:[].concat(Object(w.a)(o.pendingOps),[n])}),a(On(e,t,r))}}}function Cn(e,t,n,r,a){var i=Object(Q.a)(r(),e,t,"containerfs3"),o=i.otClients,s=i.files,c=i.repl,l=i.dirs;if(a.fileEvent){window.inotifiedTaint=!0;var u=a.fileEvent,d=u.file,p=u.dest,f=u.op;if(d){var m=d.path,b=d.type;if(null!=m&&null!=f&&(c.isOwner&&n({type:"PERSIST_FILE",wid:e}),!bn(m,c.language)))switch(f){case q.api.FileEvent.Op.Create:if(!s[m]&&!l[m])return void n({type:b===q.api.File.Type.DIRECTORY?"CREATE_CLIENT_DIRECTORY":"CREATE_FILE",wid:e,path:m,changeSource:"containerfs"});if(o[m])return;return void n({type:b===q.api.File.Type.DIRECTORY?"DIRECTORY_UNLOAD":"FILE_UNLOAD",wid:e,path:m,changeSource:"containerfs"});case q.api.FileEvent.Op.Modify:if(d.type===q.api.File.Type.DIRECTORY)return;if(!s[m])return void n({type:"CREATE_FILE",wid:e,path:m,changeSource:"containerfs"});if(o[m])return;return void n({type:"FILE_UNLOAD",wid:e,path:m,changeSource:"containerfs"});case q.api.FileEvent.Op.Move:if(null==p||null==p.path)throw new Error("Got move op, but dest was null or undefined");return s[m]&&l[m]?void n({type:"MOVE_FILE",wid:e,path:m,to:p.path,changeSource:"containerfs"}):void n({type:b===q.api.File.Type.DIRECTORY?"CREATE_CLIENT_DIRECTORY":"CREATE_FILE",wid:e,path:p.path,changeSource:"containerfs"});case q.api.FileEvent.Op.Remove:if(!s[m]&&!l[m])return;return void n({type:"DELETE_FILE",wid:e,path:m,changeSource:"containerfs"})}}}}function Tn(e,t,n,r){return function(a){return j.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.startsWith("/")){i.next=3;break}return V.m((function(e){e.setExtras({path:n}),V.c(new Error("Cannot subscribe to file starting with /"))})),i.abrupt("return");case 3:return i.next=5,j.a.awrap(a(hn(e,t,r)));case 5:i.sent.send({subscribeFile:{files:[{path:n}]}});case 7:case"end":return i.stop()}}))}}var In=Object(A.a)((function(e,t,n,r){return function(a,i){switch(n.type){case"OT_FILE_OP":if("containerfs"===n.changeSource)return;var o=Object(Q.a)(i(),e,t,"containerfs3"),s=o.otClients,c=o.repl;if(!s[n.path])throw new Error("Got OT_FILE_OP without an otClient");if(!c.isOwner)return;return s[n.path].onChange(n.op),void a({type:"FILE_OP_DONE",wid:e,path:n.path});case"CREATE_DIRECTORY":case"LOAD_FILE":case"UPLOAD_FILE":case"LOAD_DIRECTORY":if("containerfs"===n.changeSource)return;return a(Sn(e,t,n,r));case"DELETE_FILE":if(a(Nn(e,t,n.path)),"containerfs"===n.changeSource)return;return a(Sn(e,t,n,r));case"MOVE_FILE":if("containerfs"===n.changeSource){var l,u=Object(Q.a)(i(),e,t,"containerfs3").filestate;a(Nn(e,t,n.path)),l=O()(u).includes(n.to)?[n.to]:Object(Mt.d)(u,n.to);var d=!0,p=!1,f=void 0;try{for(var m,b=H()(l);!(d=(m=b.next()).done);d=!0){var g=m.value;a({type:"FILE_UNLOAD",wid:e,path:g})}}catch(X){p=!0,f=X}finally{try{d||null==b.return||b.return()}finally{if(p)throw f}}return}return a(function(e,t,n,r){return function(a,i){var o=Object(Q.a)(i(),e,t,"containerfs3"),s=o.files,c=o.pendingOps,l=o.otClients,u=n.path,d=n.to;if(O()(l).includes(n.path))l[n.path].removeAllListeners();else{var p=!0,f=!1,m=void 0;try{for(var b,g=H()(Object(Mt.d)(l,n.path));!(p=(b=g.next()).done);p=!0){l[b.value].removeAllListeners()}}catch(X){f=!0,m=X}finally{try{p||null==g.return||g.return()}finally{if(f)throw m}}}var h=dn({},n),v=c.reduce((function(e,t){return u===t.path?"MOVE_FILE"===t.type?(h.path=t.path,e):[].concat(Object(w.a)(e),[dn({},t,{path:n.to})]):Object(Mt.c)(u,t.path)?[].concat(Object(w.a)(e),[dn({},t,{path:Object(Mt.e)(u,n.to,t.path)})]):e}),[]);v.push(h),mn(e,t,a,{pendingOps:v}),(O()(s).includes(d)?[d]:Object(Mt.d)(s,d)).forEach((function(t){a({type:"FILE_UNLOAD",wid:e,path:t})})),a(On(e,t,r))}}(e,t,n,r));case"PERSIST_FILE":return a(vn(e,t,r)).then((function(){var r=Object(Q.a)(i(),e,t,"containerfs3"),a=r.debouncePersist,o=r.fsclean,s=r.lastSnapshotTimestamp;if(!a)throw new Error("trying to PersistMirror without debouncer");var c=a.flush;a(),(n.flush||1===o.waiting&&window.performance.now()-s>5e3)&&c()}));case"FILE_UNLOAD":var h=Object(Q.a)(i(),e,t,"containerfs3").otClients;h[n.path]&&h[n.path].close();break;case"LOADING_GOVAL_COMPLETE":mn(e,t,a,{engineLoaded:!0});var v=Object(Q.a)(i(),e,t,"containerfs3").otClients;a({type:"LOAD_DIRECTORY",wid:e,path:""});var x=F()(v)[0];if(!x)return;return void a(Object(sn.a)({wid:e,service:"ot",name:"ot:"+x.linkedFile,wait:r})).then((function(e){x.connect(e)}));case"LOADING_GOVAL_STARTED":var k=Object(Q.a)(i(),e,t,"containerfs3"),E=k.otClients,_=k.files,N=k.debouncePersist,S=k.dirs,C={totalFiles:0,totalFilesLikelyLostData:0,totalFilesConfirmedLostData:0},T=i().workspace[e].activeFile;for(var I in E){var R=E[I];R&&(T!==I&&(C.totalFiles++,R.uncommittedOps.length&&C.totalFilesLikelyLostData++,(R.pending.length||R.inflight.length)&&C.totalFilesConfirmedLostData++),R.close())}Object(be.track)(be.events.FILE_RECONNECT_IGNORED,C);var A=T&&E[T];mn(e,t,a,{loadingFiles:[],otClients:T&&A?Object(y.a)({},T,E[T]):{},pendingOps:[],inflightOp:null,engineLoaded:!1});for(var P=0,L=F()(_);P<L.length;P++){var D=L[P];D&&D.loaded&&(A&&T===D.path||a({type:"FILE_UNLOAD",wid:e,path:D.path}))}for(var M=0,U=F()(S);M<U.length;M++){var G=U[M];G&&G.loaded&&a({type:"DIRECTORY_UNLOAD",wid:e,path:G.path})}if(N)(0,N.cancel)();break;case"FLUSH_FILES":return a(function(e,t){return function(n,r){var a,i,o,s,c;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:for(a=Object(Q.a)(r(),e,t,"containerfs3"),i=a.otClients,o=0,s=F()(i);o<s.length;o++)(c=s[o]).debounceCommit(),c.debounceCommit.flush();case 2:case"end":return n.stop()}}))}}(e,t));case"UPDATE_FILE_CURSORS":var B=Object(Q.a)(i(),e,t,"containerfs3").otClients;if(!B[n.path])return;B[n.path].updateCursors(n.selections);break;case"DOWNLOAD_FILE_CONTENT_REQUEST":return a(vn(e,t,r)).then((function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({read:{path:n.path,type:q.api.File.Type.REGULAR}}));case 1:case"end":return t.stop()}}))})).then((function(t){a({type:"DOWNLOAD_FILE_CONTENT_SUCCESS",wid:e,path:n.path,content:ee.a.from(t.file&&t.file.content?t.file.content:"")})})).catch((function(t){a({type:"DOWNLOAD_FILE_CONTENT_FAILURE",wid:e,path:n.path,error:t})}));case"FILE_RECONNECT_FALLBACK_CHOSEN":var z=n.choice,K=n.path,V=Object(Q.a)(i(),e,t,"containerfs3").otClients;V[K].close();var W=dn({},V);return delete W[K],mn(e,t,a,{otClients:W}),"remote"===z?(Object(be.track)(be.events.FILE_RECONNECT_FALLBACK_CHOSEN,dn({choice:"remote"},V[K].reconnectTrackedData,{didReceiveOpsWhilePrompting:Boolean(V[K].bufferedReconnectingOps)})),void a({wid:e,type:"FILE_UNLOAD",path:K})):(Object(be.track)(be.events.FILE_RECONNECT_FALLBACK_CHOSEN,dn({choice:"local"},V[K].reconnectTrackedData,{didReceiveOpsWhilePrompting:Boolean(V[K].bufferedReconnectingOps)})),a({wid:e,type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Please wait while we save your file"}),a(vn(e,t,r)).then((function(n){var r,o,s,c;return j.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(r=Object(Q.a)(i(),e,t,"containerfs3"),o=r.files,null===(s=o[K])||void 0===s?void 0:s.loaded){l.next=4;break}throw new Error("Oh no, user chose local content but file was missing");case 4:return l.next=6,j.a.awrap(n.request({write:{path:K,content:ee.a.from(s.content).toBuffer()}}));case 6:if(!(c=l.sent).channelClosed){l.next=9;break}throw new Error("Channel closed while overwriting");case 9:if(c.ok){l.next=12;break}throw a({type:"FILE_ERROR",wid:e,path:K,error:c.error}),new Error("file overwrite error "+c.error);case 12:a({type:"PERSIST_FILE",wid:e}),a({wid:e,type:"FILE_UNLOAD",path:K}),a({wid:e,type:"UNLOCK_WORKSPACE"});case 15:case"end":return l.stop()}}))})))}}})),Rn=Object(T.a)({primary:fn,repl:D.b,files:P.a,fsclean:Ft.a,filestate:L.b,workingDirectory:on.b,dirs:ot.a});function An(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):An(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loadingReplbox:!1,loadingGoval:!1,loadingEngine:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.o:return Pn({},e,{},t.initialState);case C.t:return Pn({},e,{loadingEngine:!1});case C.u:return Pn({},e,{loadingEngine:!0});case"LOADING_REPLBOX_STARTED":return Pn({},e,{loadingReplbox:!0});case"LOADING_REPLBOX_ENDED":return Pn({},e,{loadingReplbox:!1});case"LOADING_GOVAL_STARTED":return Pn({},e,{loadingGoval:!0});case"LOADING_GOVAL_COMPLETE":return Pn({},e,{loadingGoval:!1});default:return e}}function Dn(e,t,n){switch(n.type){case"LOADING_REPLBOX_STARTED":case"LOADING_GOVAL_STARTED":return function(n,r){Object(Q.a)(r(),e,t,"loadingresolver").loadingEngine||n({type:C.u,wid:e})};case"LOADING_REPLBOX_ENDED":case"LOADING_GOVAL_COMPLETE":return function(n,r){var a=Object(Q.a)(r(),e,t,"loadingresolver"),i=a.loadingEngine,o=a.loadingGoval,s=a.loadingReplbox;i&&!1===o&&!1===s&&n({type:C.t,wid:e})};default:return null}}function Mn(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return h()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):b.a?f()(e,b()(n)):Mn(Object(n)).forEach((function(t){d()(e,t,h()(n,t))}))}return e}var Un=Object(T.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{unsavedRepl:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@INIT":return Fn({},e,{},t.initialState);default:return e}},fileState:L.b,clean:Ft.a});function Hn(e,t,n){switch(n.type){case"WORKSPACE_MOUNTED":case"DELETE_FILE":case"MOVE_FILE":case"CREATE_FILE":case"FILE_UNLOAD":case"FILE_LOADING":case"FILE_LOADED":case"FILE_SYNCING":case"FILE_DIRTY":case"FILE_CLEAN":case"FILE_ERROR":case"PERSIST_FILE":case"FILE_PERSISTED":return function(n,r){var a=Object(Q.a)(r(),e,t,"unloadhandler"),i=a.unsavedRepl,o=a.fileState,s=a.clean,c=!!F()(o).find((function(e){return e===L.a.Dirty||e===L.a.Syncing||e===L.a.Loading}));i||c||!s.status?window.onbeforeunload!==Bn&&(Gn=window.onbeforeunload,window.onbeforeunload=Bn):zn()};case"WORKSPACE_WILL_UNMOUNT":return function(){zn()};default:return null}}var Gn=null;function Bn(){return"You have unsaved changes"}function zn(){window.onbeforeunload===Bn&&(window.onbeforeunload=Gn)}var Kn=n("82Ve"),Vn=Object(A.a)((function(e,t,n,r){return"LOADING_GOVAL_COMPLETE"===n.type?function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c,l,u;return j.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,j.a.awrap(e(Object(sn.a)({wid:t,service:"exec",wait:r})));case 2:return i=d.sent,o="",i.on("command",(function(e){e.output&&(o+=e.output)})),d.next=7,j.a.awrap(i.request({exec:{args:["pwd"]}}));case 7:if(!(s=d.sent).error&&!s.channelClosed){d.next=10;break}return d.abrupt("return");case 10:i.close(),c=o.replace("\n",""),l=Object(Q.a)(a(),t,n,"cwd"),u=l.workingDirectory,c!==u&&e({type:"UPDATE_WORKING_DIRECTORY",wid:t,path:c});case 14:case"end":return d.stop()}}))}}({wid:e,pud:t,wait:r}):null}));var qn=Object(T.a)({workingDirectory:on.b}),Wn=n("MX0m"),Xn=n.n(Wn),Yn=n("8Vt8"),Qn=n("irrw"),Jn=n.n(Qn),Zn=n("dwxc"),$n=n.n(Zn),er=n("7FmB"),tr=n.n(er),nr=n("nGMS"),rr=ht.a.createElement;function ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showPrompt:!1,filePath:""},t=arguments.length>1?arguments[1]:void 0;return"PROMPT_FILE_RECONNECT_FALLBACK_CHOICE"===t.type?{showPrompt:!0,filePath:t.path}:"FILE_RECONNECT_FALLBACK_CHOSEN"===t.type?{showPrompt:!1,filePath:""}:e}var ir=function(e){var t=e.wid,n=e.pud,r=Object(Q.b)(t,n,"reconnectprompt"),a=Object(bt.a)(r,1)[0],i=a.showPrompt,o=a.filePath,s=Object(Et.e)();return rr(Yn.a,{preventClose:!0,isOpen:i,onRequestClose:function(){}},rr("div",{className:Xn.a.dynamic([["774147454",[nr.BREAKPOINTS.mobileMax]]])+" modal"},rr(Jn.a,{level:3},o," contents diverged"),rr($n.a,null,"We had a hard time resolving differences between your content and server content while you were disconnected."),rr($n.a,null,"What would you like to do?"),rr("div",{className:Xn.a.dynamic([["774147454",[nr.BREAKPOINTS.mobileMax]]])+" buttons"},rr(tr.a,{onClick:function(){return s({wid:t,type:"FILE_RECONNECT_FALLBACK_CHOSEN",choice:"local",path:o})},color:"positive"},"Choose my changes"),rr(tr.a,{onClick:function(){return s({wid:t,type:"FILE_RECONNECT_FALLBACK_CHOSEN",choice:"remote",path:o})},color:"negative"},"Choose server changes")),rr(Xn.a,{id:"774147454",dynamic:[nr.BREAKPOINTS.mobileMax]},[".modal.__jsx-style-dynamic-selector{display:grid;padding:var(--spacing-4);grid-row-gap:var(--spacing-2);}",".buttons.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--spacing-2);}","@media screen and (min-width:".concat(nr.BREAKPOINTS.mobileMax,"px){.buttons.__jsx-style-dynamic-selector{grid-column-gap:var(--spacing-2);grid-auto-flow:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.buttons.__jsx-style-dynamic-selector button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}")])))};function or(e){e.register("goval",r),e.register("langserver",ft),e.register("replbox",mt),e.register("analytics",a),e.register("cursorstyles",At),e.register("infoprovider",Pt),e.register("containerfs3",i),e.register("loadingresolver",o),e.register("unloadhandler",s),e.register("formatter",Kn),e.register("cwd",c),e.register("reconnectprompt",l)}n.d(t,"a",(function(){return or}))},WB0c:function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("dfwq"),g=n("vYYK"),h=n("4y2c"),v=n("dI/k");function x(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):c.a?o()(e,c()(n)):x(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}h.a.register("repls",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REPL_SUCCESS":return w({},e,{data:w({},e.data,Object(g.a)({},t.repl.id,t.repl))});case"UPDATE_REPL_SUCCESS":return w({},e,{data:w({},e.data,Object(g.a)({},t.repl.id,w({},e.data[t.repl.id],{},t.repl)))});case"ENSURE_FILE":var n=Object(v.f)(t.path),r=Object(v.j)(t.path),a=e.data[n];return!a||a.fileNames.includes(r)?e:w({},e,{data:w({},e.data,Object(g.a)({},n,w({},a,{fileNames:[].concat(Object(b.a)(a.fileNames),[r])})))});case"MOVE_FILE_SUCCESS":var i=Object(v.f)(t.to),o=e.data[i];if(!o||i!==Object(v.f)(t.from))return e;var s=Object(v.j)(t.from),c=Object(v.j)(t.to);return w({},e,{data:w({},e.data,Object(g.a)({},i,w({},o,{fileNames:[].concat(Object(b.a)(o.fileNames.filter((function(e){return e!==s}))),[c])})))});case"DELETE_FILE_SUCCESS":var l=Object(v.f)(t.path),u=Object(v.j)(t.path),d=e.data[l];return d?w({},e,{data:w({},e.data,Object(g.a)({},l,w({},d,{fileNames:d.fileNames.filter((function(e){return e!==u}))})))}):e}return e})),h.a.register("replsByUrl",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_REPL_SUCCESS":case"FETCH_REPL_SUCCESS":return w({},e,Object(g.a)({},t.repl.url,t.repl.id))}return e})),h.a.register("replsByUser",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REPL_SUCCESS":return e[t.repl.userId]&&e[t.repl.userId].includes(t.repl.id)?e:w({},e,Object(g.a)({},t.repl.userId,(e[t.repl.userId]||[]).concat([t.repl.id])))}return e}))},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},Wa2I:function(e,t,n){e.exports=n("CWX+")},XD7X:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return F}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("doui"),h=n("MX0m"),v=n.n(h),x=n("q1tI"),w=n("zgDP"),y=n("8Fln"),k=n("cR/2"),j=n("3TIX"),E=n("UO7Q"),O=n("igIU"),_=n("zoC5");n.d(t,"reducer",(function(){return _.b}));var N=n("tZOq"),S=n("lPwP"),C=n.n(S),T=n("hEBX"),I=n("/MKj"),R=n("h7rM"),A=n("VoYB"),P=n("7lhO"),L=x.createElement;function D(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):D(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function F(e){var t=e.wid,n=e.pud,r=e.style,a=Object(P.a)(),i=Object(N.ie)({variables:{replId:a}}).data,o=Object(N.je)(),s=Object(g.a)(o,2),c=s[0],l=s[1].error,u=Object(I.e)(),d=Object(R.b)(t,n,"preferences"),p=Object(g.a)(d,1)[0],f="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl.language:void 0;x.useEffect((function(){f&&Object(w.track)(w.events.PREFERENCES_OPENED,{wid:t,language:f})}),[t,f]);var m=function(e){u({type:j.M,wid:t,updates:e});var n=null===i||void 0===i?void 0:i.currentUser;n&&c({variables:{input:e},optimisticResponse:{updateEditorPreferences:{__typename:"CurrentUser",id:n.id,editorPreferences:M({},n.editorPreferences,{},e)}}})},b=Object(A.a)().showError;return x.useEffect((function(){l&&b(l.message)}),[l,b]),L("div",{style:r,className:"jsx-3869027688 workspace-preferences"},L(O.a,null),L(v.a,{id:"1099510212"},[".workspace-preferences.jsx-3869027688{background:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".workspace-preferences.jsx-3869027688::-webkit-scrollbar{background-color:var(--color-background-1);width:14px;}",".workspace-preferences.jsx-3869027688::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".preference.jsx-3869027688 .label.jsx-3869027688{color:var(--color-foreground-1);}",".codeIntelligenceInfoBox.jsx-3869027688{background:var(--color-background-1);color:var(--color-foreground-1);border:1px solid var(--color-foreground-1);}"]),L(v.a,{id:"2488487653"},[".workspace-preferences.jsx-3869027688{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:auto;}",".workspace-preferences.jsx-3869027688::-webkit-scrollbar{width:5px;}",".workspace-preferences.jsx-3869027688::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}",".preference.jsx-3869027688{padding:var(--spacing-2);}",".preference.jsx-3869027688:last-child{padding-bottom:5em;}",".preferences-header.jsx-3869027688{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".preferences-heading.jsx-3869027688{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".preference.jsx-3869027688 .label.jsx-3869027688{font-size:1em;margin-bottom:8px;position:relative;}",".codeIntelligenceInfo.jsx-3869027688{margin-left:8px;}",".codeIntelligenceInfoBox.jsx-3869027688{opacity:0;pointer-events:none;position:absolute;bottom:calc(100% + 6px);left:0;-webkit-transform:translate(0,6px);-ms-transform:translate(0,6px);transform:translate(0,6px);width:200px;padding:12px;z-index:10;line-height:1.4em;-webkit-transition:opacity 0.2s,-webkit-transform 0.2s;-webkit-transition:opacity 0.2s,transform 0.2s;transition:opacity 0.2s,transform 0.2s;}",".codeIntelligenceInfoBox.jsx-3869027688::after{content:'';display:block;position:absolute;top:100%;left:0;right:0;height:16px;}",".codeIntelligenceInfo.jsx-3869027688:hover .codeIntelligenceInfoBox.jsx-3869027688{opacity:1;pointer-events:all;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}"]),L("div",{className:"jsx-3869027688 preferences-header"},L("div",{className:"jsx-3869027688 preferences-heading"},"Settings")),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Layout"),L(y.a,{searchable:!1,clearable:!1,value:p.isLayoutStacked?"stacked":"side-by-side",onChange:function(e){var n="stacked"===(null===e||void 0===e?void 0:e.value);m({isLayoutStacked:n}),u(function(e,t){return function(n,r){var a=r().workspace[e],i=a.layout,o=a.plugins,s=E.b(i,o,"editor")||E.b(i,o,"blank")||E.b(i,o,"markdownviewer")||E.b(i,o,"mediaview"),c=E.b(i,o,"console")||E.b(i,o,"terminal2");if(c&&s){var l=E.c(s,c);if(l){n(Object(j.cb)({wid:e,path:l,property:"stacked",to:t}));var u=E.b(i,o,"webview")||E.b(i,o,"replboxdisplay");if(u){var d=E.c(u,c);d&&n(Object(j.cb)({wid:e,path:d,property:"stacked",to:!t}))}}}}}(t,n))},options:[{value:"side-by-side",label:"side-by-side"},{value:"stacked",label:"stacked"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Theme"),L(y.a,{searchable:!1,clearable:!1,value:p.theme,onChange:function(e){var n="replitDark"===(null===e||void 0===e?void 0:e.value)?"replitDark":"replitLight";Object(T.d)(n),u({type:"UPDATE_WORKSPACE_THEME",updates:k.a[n],wid:t}),m({theme:n})},options:[{value:"replitLight",label:"light"},{value:"replitDark",label:"dark"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Font size"),L(y.a,{searchable:!1,clearable:!1,value:p.fontSize,onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:14;m({fontSize:t})},options:[{value:10,label:"Tiny"},{value:14,label:"Normal"},{value:18,label:"Large"},{value:24,label:"Huge"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Indent type"),L(y.a,{searchable:!1,clearable:!1,value:p.indentIsSpaces?"spaces":"tabs",onChange:function(e){var t="spaces"===(null===e||void 0===e?void 0:e.value);m({indentIsSpaces:t})},options:[{value:"spaces",label:"spaces"},{value:"tabs",label:"tabs"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Indent size"),L(y.a,{searchable:!1,clearable:!1,value:p.indentSize,onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:2;m({indentSize:t})},options:[{value:2,label:"2"},{value:4,label:"4"},{value:8,label:"8"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Keybinds"),L(y.a,{searchable:!1,clearable:!1,value:null===p.keyboardHandler?"default":p.keyboardHandler,onChange:function(e){var t="string"===typeof(null===e||void 0===e?void 0:e.value)&&["vim","emacs"].includes(null===e||void 0===e?void 0:e.value)?e.value:null;m({keyboardHandler:t})},options:[{value:"default",label:"default"},{value:"emacs",label:"emacs"},{value:"vim",label:"vim"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Wrapping"),L(y.a,{searchable:!1,clearable:!1,value:p.wrapping?"soft":"none",onChange:function(e){var t="soft"===(null===e||void 0===e?void 0:e.value);m({wrapping:t})},options:[{value:"none",label:"none"},{value:"soft",label:"soft wrap"}]})),L("div",{className:"jsx-3869027688 preference"},L("div",{className:"jsx-3869027688 label"},"Code intelligence",L("span",{className:"jsx-3869027688 codeIntelligenceInfo"},L(C.a,null),L("div",{className:"jsx-3869027688 codeIntelligenceInfoBox"},L("p",{className:"jsx-3869027688"},"Code intelligence gives you autocomplete, helpful info, and hints as you type. See more"," ",L("a",{href:"https://repl.it/site/blog/intel",target:"_blank",rel:"noreferrer noopener",className:"jsx-3869027688"},"here."))))),L(y.a,{searchable:!1,clearable:!1,value:p.codeIntelligence?"enabled":"disabled",onChange:function(e){var t="enabled"===(null===e||void 0===e?void 0:e.value);m({codeIntelligence:t})},options:[{value:"disabled",label:"disabled"},{value:"enabled",label:"enabled"}]})))}},XPNs:function(e,t,n){"use strict";e.exports={compile:function(e){var t=[],n=[],r="",a=Object.create(null),i=a;return function(e){for(var t,n=0;n<e.length;n++)switch((t=e[n]).type){case"Assign":s(t);break;case"ObjectPath":u(t);break;case"ArrayPath":d(t)}return a}(e);function o(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function s(e){var a,s=e.key,u=e.value,d=e.line,p=e.column;a=r?r+"."+s:s,"undefined"!==typeof i[s]&&o("Cannot redefine existing key '"+a+"'.",d,p),i[s]=l(u),c(a)||(t.push(a),n.push(a))}function c(e){return-1!==t.indexOf(e)}function l(e){return"Array"===e.type?function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n];null===t?t=r.type:r.type!==t&&o("Cannot add value of type "+r.type+" to array of type "+t+".",r.line,r.column)}return e.map(l)}(e.value):"InlineTable"===e.type?function e(t){for(var n=Object.create(null),r=0;r<t.length;r++){var a=t[r];"InlineTable"===a.value.type?n[a.key]=e(a.value.value):"InlineTableValue"===a.type&&(n[a.key]=l(a.value))}return n}(e.value):e.value}function u(e){var n=e.value,s=n.map(f).join("."),l=e.line,u=e.column;c(s)&&o("Cannot redefine existing key '"+n+"'.",l,u),t.push(s),i=p(a,n,Object.create(null),l,u),r=n}function d(e){var n=e.value,s=n.map(f).join("."),l=e.line,u=e.column;if(c(s)||t.push(s),(t=t.filter((function(e){return 0!==e.indexOf(s)}))).push(s),i=p(a,n,[],l,u),r=s,i instanceof Array){var d=Object.create(null);i.push(d),i=d}else o("Cannot redefine existing key '"+n+"'.",l,u)}function p(e,t,r,a,i){for(var s=[],c="",l=(t.join("."),e),u=0;u<t.length;u++){var d=t[u];s.push(d),c=s.join("."),"undefined"===typeof l[d]?u===t.length-1?l[d]=r:l[d]=Object.create(null):u!==t.length-1&&n.indexOf(c)>-1&&o("Cannot redefine existing key '"+c+"'.",a,i),(l=l[d])instanceof Array&&l.length&&u<t.length-1&&(l=l[l.length-1])}return l}function f(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},YexM:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("LX0d"),a=n.n(r),i=n("ln6h"),o=n.n(i),s=n("eVuF"),c=n.n(s),l=n("doui"),u=n("XXOK"),d=n.n(u),p=n("0iUn"),f=n("vYYK"),m=function e(){var t=this;Object(p.a)(this,e),Object(f.a)(this,"waits",void 0),Object(f.a)(this,"rcv",(function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=d()(t.waits.entries());!(n=(i=o.next()).done);n=!0){var s=Object(l.a)(i.value,2),c=s[0],u=s[1],p=void 0;try{p=c(e)}catch(f){return t.waits.delete(c),void u.reject(f)}if("boolean"!==typeof p){t.waits.delete(c);var f=new Error("Your wait callback must return a boolean");return void u.reject(f)}p&&(t.waits.delete(c),u.resolve(e))}}catch(m){r=!0,a=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}})),Object(f.a)(this,"wait",(function(e){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new c.a((function(n,r){t.waits.set(e,{resolve:n,reject:r})})));case 1:case"end":return n.stop()}}))})),this.waits=new a.a};function b(e){var t={};return function(n,r,a){return t[n+r]||(t[n+r]=new m),t[n+r].rcv(a),e(n,r,a,t[n+r].wait)}}},Yk1I:function(e,t){var n=-1,r=1,a=0;function i(e,t,l,u){if(e===t)return e?[[a,e]]:[];if(null!=l){var m=function(e,t,n){var r="number"===typeof n?{index:n,length:0}:n.oldRange,a="number"===typeof n?null:n.newRange,i=e.length,o=t.length;if(0===r.length&&(null===a||0===a.length)){var s=r.index,c=e.slice(0,s),l=e.slice(s),u=a?a.index:null,d=s+o-i;if((null===u||u===d)&&!(d<0||d>o)){var p=t.slice(0,d);if((w=t.slice(d))===l){var m=Math.min(s,d),b=c.slice(0,m),g=p.slice(0,m);if(b===g){var h=c.slice(m),v=p.slice(m);return f(b,h,v,l)}}}if(null===u||u===s){var x=s,w=(p=t.slice(0,x),t.slice(x));if(p===c){var y=Math.min(i-x,o-x),k=l.slice(l.length-y),j=w.slice(w.length-y);if(k===j){h=l.slice(0,l.length-y),v=w.slice(0,w.length-y);return f(c,h,v,k)}}}}if(r.length>0&&a&&0===a.length){b=e.slice(0,r.index),k=e.slice(r.index+r.length),m=b.length,y=k.length;if(!(o<m+y)){g=t.slice(0,m),j=t.slice(o-y);if(b===g&&k===j){h=e.slice(m,i-y),v=t.slice(m,o-y);return f(b,h,v,k)}}}return null}(e,t,l);if(m)return m}var b=s(e,t),g=e.substring(0,b);b=c(e=e.substring(b),t=t.substring(b));var h=e.substring(e.length-b),v=function(e,t){var l;if(!e)return[[r,t]];if(!t)return[[n,e]];var u=e.length>t.length?e:t,d=e.length>t.length?t:e,p=u.indexOf(d);if(-1!==p)return l=[[r,u.substring(0,p)],[a,d],[r,u.substring(p+d.length)]],e.length>t.length&&(l[0][0]=l[2][0]=n),l;if(1===d.length)return[[n,e],[r,t]];var f=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,i,o,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!==(u=t.indexOf(l,u+1));){var p=s(e.substring(n),t.substring(u)),f=c(e.substring(0,n),t.substring(0,u));d.length<f+p&&(d=t.substring(u-f,u)+t.substring(u,u+p),r=e.substring(0,n-f),a=e.substring(n+p),i=t.substring(0,u-f),o=t.substring(u+p))}return 2*d.length>=e.length?[r,a,i,o,d]:null}var i,o,l,u,d,p=a(n,r,Math.ceil(n.length/4)),f=a(n,r,Math.ceil(n.length/2));if(!p&&!f)return null;i=f?p&&p[4].length>f[4].length?p:f:p;e.length>t.length?(o=i[0],l=i[1],u=i[2],d=i[3]):(u=i[0],d=i[1],o=i[2],l=i[3]);var m=i[4];return[o,l,u,d,m]}(e,t);if(f){var m=f[0],b=f[1],g=f[2],h=f[3],v=f[4],x=i(m,g),w=i(b,h);return x.concat([[a,v]],w)}return function(e,t){for(var a=e.length,i=t.length,s=Math.ceil((a+i)/2),c=s,l=2*s,u=new Array(l),d=new Array(l),p=0;p<l;p++)u[p]=-1,d[p]=-1;u[c+1]=0,d[c+1]=0;for(var f=a-i,m=f%2!==0,b=0,g=0,h=0,v=0,x=0;x<s;x++){for(var w=-x+b;w<=x-g;w+=2){for(var y=c+w,k=(N=w===-x||w!==x&&u[y-1]<u[y+1]?u[y+1]:u[y-1]+1)-w;N<a&&k<i&&e.charAt(N)===t.charAt(k);)N++,k++;if(u[y]=N,N>a)g+=2;else if(k>i)b+=2;else if(m){if((O=c+f-w)>=0&&O<l&&-1!==d[O]){var j=a-d[O];if(N>=j)return o(e,t,N,k)}}}for(var E=-x+h;E<=x-v;E+=2){for(var O=c+E,_=(j=E===-x||E!==x&&d[O-1]<d[O+1]?d[O+1]:d[O-1]+1)-E;j<a&&_<i&&e.charAt(a-j-1)===t.charAt(i-_-1);)j++,_++;if(d[O]=j,j>a)v+=2;else if(_>i)h+=2;else if(!m){if((y=c+f-E)>=0&&y<l&&-1!==u[y]){var N=u[y];k=c+N-y;if(N>=(j=a-j))return o(e,t,N,k)}}}}return[[n,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-b),t=t.substring(0,t.length-b));return g&&v.unshift([a,g]),h&&v.push([a,h]),function e(t,i){t.push([a,""]);var o,l=0,u=0,f=0,m="",b="";for(;l<t.length;)if(l<t.length-1&&!t[l][1])t.splice(l,1);else switch(t[l][0]){case r:f++,b+=t[l][1],l++;break;case n:u++,m+=t[l][1],l++;break;case a:var g=l-f-u-1;if(i){if(g>=0&&p(t[g][1])){var h=t[g][1].slice(-1);if(t[g][1]=t[g][1].slice(0,-1),m=h+m,b=h+b,!t[g][1]){t.splice(g,1),l--;var v=g-1;t[v]&&t[v][0]===r&&(f++,b=t[v][1]+b,v--),t[v]&&t[v][0]===n&&(u++,m=t[v][1]+m,v--),g=v}}if(d(t[l][1])){h=t[l][1].charAt(0);t[l][1]=t[l][1].slice(1),m+=h,b+=h}}if(l<t.length-1&&!t[l][1]){t.splice(l,1);break}if(m.length>0||b.length>0){m.length>0&&b.length>0&&(0!==(o=s(b,m))&&(g>=0?t[g][1]+=b.substring(0,o):(t.splice(0,0,[a,b.substring(0,o)]),l++),b=b.substring(o),m=m.substring(o)),0!==(o=c(b,m))&&(t[l][1]=b.substring(b.length-o)+t[l][1],b=b.substring(0,b.length-o),m=m.substring(0,m.length-o)));var x=f+u;0===m.length&&0===b.length?(t.splice(l-x,x),l-=x):0===m.length?(t.splice(l-x,x,[r,b]),l=l-x+1):0===b.length?(t.splice(l-x,x,[n,m]),l=l-x+1):(t.splice(l-x,x,[n,m],[r,b]),l=l-x+2)}0!==l&&t[l-1][0]===a?(t[l-1][1]+=t[l][1],t.splice(l,1)):l++,f=0,u=0,m="",b=""}""===t[t.length-1][1]&&t.pop();var w=!1;l=1;for(;l<t.length-1;)t[l-1][0]===a&&t[l+1][0]===a&&(t[l][1].substring(t[l][1].length-t[l-1][1].length)===t[l-1][1]?(t[l][1]=t[l-1][1]+t[l][1].substring(0,t[l][1].length-t[l-1][1].length),t[l+1][1]=t[l-1][1]+t[l+1][1],t.splice(l-1,1),w=!0):t[l][1].substring(0,t[l+1][1].length)==t[l+1][1]&&(t[l-1][1]+=t[l+1][1],t[l][1]=t[l][1].substring(t[l+1][1].length)+t[l+1][1],t.splice(l+1,1),w=!0)),l++;w&&e(t,i)}(v,u),v}function o(e,t,n,r){var a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),c=t.substring(r),l=i(a,o),u=i(s,c);return l.concat(u)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,i=0;n<a;)e.substring(i,a)==t.substring(i,a)?i=n=a:r=a,a=Math.floor((r-n)/2+n);return l(e.charCodeAt(a-1))&&a--,a}function c(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,i=0;n<a;)e.substring(e.length-a,e.length-i)==t.substring(t.length-a,t.length-i)?i=n=a:r=a,a=Math.floor((r-n)/2+n);return u(e.charCodeAt(e.length-a))&&a--,a}function l(e){return e>=55296&&e<=56319}function u(e){return e>=56320&&e<=57343}function d(e){return u(e.charCodeAt(0))}function p(e){return l(e.charCodeAt(e.length-1))}function f(e,t,i,o){return p(e)||d(o)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[a,e],[n,t],[r,i],[a,o]])}function m(e,t,n){return i(e,t,n,!0)}m.INSERT=r,m.DELETE=n,m.EQUAL=a,e.exports=m},Z5Wq:function(e,t,n){"use strict";n("hfKm")(t,"__esModule",{value:!0}),t.strPosToUni=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=0,r=0;r<t;r++){var a=e.charCodeAt(r);a>=55296&&a<=57343&&(n++,r++)}if(r!==t)throw Error("Invalid offset - splits unicode bytes");return r-n},t.uniToStrPos=function(e,t){for(var n=0;t>0;t--){var r=e.charCodeAt(n);n+=r>=55296&&r<=57343?2:1}return n}},ZFlT:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"equalityFn",(function(){return Nr})),n.d(r,"Component",(function(){return Cr})),n.d(r,"reducer",(function(){return Sr})),n.d(r,"receiver",(function(){return Or}));var a={};n.r(a),n.d(a,"Component",(function(){return Fr})),n.d(a,"reducer",(function(){return Ur}));var i={};n.r(i),n.d(i,"Component",(function(){return Wr})),n.d(i,"reducer",(function(){return Jr})),n.d(i,"reciever",(function(){return Qr}));var o={};n.r(o),n.d(o,"Component",(function(){return $r.a}));var s={};n.r(s),n.d(s,"Component",(function(){return ba})),n.d(s,"reducer",(function(){return ga}));var c={};n.r(c),n.d(c,"Component",(function(){return Fi})),n.d(c,"reciever",(function(){return Ui})),n.d(c,"reducer",(function(){return Gi}));var l={};n.r(l),n.d(l,"Component",(function(){return eo})),n.d(l,"reducer",(function(){return uo}));var u={};n.r(u),n.d(u,"Component",(function(){return yo}));var d={};n.r(d),n.d(d,"Component",(function(){return Co}));var p={};n.r(p),n.d(p,"Component",(function(){return Mo})),n.d(p,"reducer",(function(){return Fo}));var f={};n.r(f),n.d(f,"Component",(function(){return zo}));var m={};n.r(m),n.d(m,"Component",(function(){return js}));var b={};n.r(b),n.d(b,"Component",(function(){return Ms})),n.d(b,"receiver",(function(){return Ls})),n.d(b,"reducer",(function(){return Fs}));var g={};n.r(g),n.d(g,"Component",(function(){return Bs})),n.d(g,"reducer",(function(){return zs}));var h={};n.r(h),n.d(h,"reducer",(function(){return jc})),n.d(h,"receiver",(function(){return Ec})),n.d(h,"Component",(function(){return Oc}));var v={};n.r(v),n.d(v,"default",(function(){return Lc})),n.d(v,"Component",(function(){return Ac})),n.d(v,"reducer",(function(){return Pc})),n.d(v,"receiver",(function(){return Lc}));var x={};n.r(x),n.d(x,"Component",(function(){return Gc})),n.d(x,"reducer",(function(){return Hc}));var w={};n.r(w),n.d(w,"Component",(function(){return Wc})),n.d(w,"receiver",(function(){return Vc}));var y={};n.r(y),n.d(y,"reducer",(function(){return al})),n.d(y,"receiver",(function(){return rl})),n.d(y,"Component",(function(){return il}));var k={};n.r(k),n.d(k,"Component",(function(){return hl})),n.d(k,"reducer",(function(){return vl})),n.d(k,"receiver",(function(){return bl}));var j={};n.r(j),n.d(j,"receiver",(function(){return Il})),n.d(j,"reducer",(function(){return Ol}));var E={};n.r(E),n.d(E,"Component",(function(){return Ul})),n.d(E,"receiver",(function(){return Ml}));var O={};n.r(O),n.d(O,"reducer",(function(){return zl})),n.d(O,"Component",(function(){return Kl}));var _={};n.r(_),n.d(_,"Component",(function(){return Mu})),n.d(_,"receiver",(function(){return Lu}));var N={};n.r(N),n.d(N,"Component",(function(){return ad})),n.d(N,"receiver",(function(){return nd}));var S={};n.r(S),n.d(S,"Component",(function(){return Xd})),n.d(S,"reducer",(function(){return Yd})),n.d(S,"receiver",(function(){return Vd}));var C={};n.r(C),n.d(C,"Component",(function(){return rp})),n.d(C,"receiver",(function(){return op}));var T={};n.r(T),n.d(T,"reducer",(function(){return Ep})),n.d(T,"receiver",(function(){return jp})),n.d(T,"Component",(function(){return vp}));var I={};n.r(I),n.d(I,"Component",(function(){return Fp}));var R=n("kOwS"),A=n("hfKm"),P=n.n(A),L=n("2Eek"),D=n.n(L),M=n("XoMD"),F=n.n(M),U=n("Jo+v"),H=n.n(U),G=n("4mXO"),B=n.n(G),z=n("pLtp"),K=n.n(z),V=n("eVuF"),q=n.n(V),W=n("doui"),X=n("ln6h"),Y=n.n(X),Q=n("0iUn"),J=n("sLSF"),Z=n("MI3g"),$=n("a7VT"),ee=n("AT/M"),te=n("Tit0"),ne=n("vYYK"),re=n("2wwy"),ae=n.n(re),ie=n("rt45"),oe=n("9Jkg"),se=n.n(oe),ce=n("MX0m"),le=n.n(ce);function ue(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):ue(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}n("4y2c").a.register("replEnvironment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isForking:!1,activeReplId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_REPL_ID":return de({},e,{activeReplId:t.replId});case"SET_IS_FORKING":return de({},e,{isForking:t.isForking});default:return e}}));n("WB0c");var pe=n("ZU0V"),fe=n.n(pe),me=n("q1tI"),be=n.n(me),ge=n("jfjY"),he=n("2mql"),ve=n.n(he),xe=n("lTCR"),we=n.n(xe),ye=n("ANjH"),ke=n("nOHt"),je=n.n(ke),Ee=n("RVZx");function Oe(e){return{type:"SET_ACTIVE_REPL_ID",replId:e.replId}}var _e=n("Gbtx"),Ne=n("ArsQ"),Se=n("xk4V"),Ce=n.n(Se),Te=n("8eab"),Ie=n("0gYX"),Re=n.n(Ie),Ae=n("nGMS");function Pe(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Pe(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var De=n("/MKj"),Me=n("G5Ub"),Fe=n("1Sre"),Ue=n("FX4h"),He=n("roZX"),Ge=n("9PDL"),Be=n("g7Gn"),ze=n("3gM7"),Ke=n("zgDP"),Ve=n("BjlX"),qe=n("UO7Q"),We=n("PMgc"),Xe=n("qNsG"),Ye=n("3TIX"),Qe=n("Qbrf"),Je=n("OQjE"),Ze=n("h2o0"),$e=n("Hrer"),et=n("uMB5"),tt=n("TSYQ"),nt=n.n(tt),rt=n("Mf2r"),at=n("tZOq"),it=n("K3MS"),ot=n.n(it),st=n("Vbf+"),ct=n.n(st),lt=n("A3V5"),ut=n.n(lt),dt=n("2tbh"),pt=me.createElement;function ft(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var mt=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(Z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(a)))).state={isLogin:!1,showLoginPopover:!1,hasOpened:!1},n.handleBodyClick=function(e){n.state.showLoginPopover&&(n._root&&e.target instanceof window.Node&&n._root.contains(e.target)||n.setState({showLoginPopover:!1}))},n.handleChangeAuth=function(){n.setState((function(e){return{isLogin:!e.isLogin}}))},n.handleSubmit=function(e){if(e.error){var t={content:e.error,type:"error",time:3e3};n.props.showMessage(t)}else{if(!e.user)throw new Error("Expected error or user object");n.props.onSuccess&&n.props.onSuccess(e);var r={content:n.state.isLogin?"Login Successful":"Signup Successful",type:"confirm",time:2e3};n.props.showMessage(r)}},n}return Object(te.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){document.body&&document.body.addEventListener("click",this.handleBodyClick)}},{key:"componentWillUnmount",value:function(){document.body&&document.body.removeEventListener("click",this.handleBodyClick)}},{key:"render",value:function(){var e=this;return pt("div",{ref:function(t){return e._root=t},style:{position:"relative",zIndex:1e5}},pt("div",{onClick:function(){return e.setState((function(e){return{showLoginPopover:!e.showLoginPopover}}))}},this.props.children),this.state.showLoginPopover&&pt("div",{style:{position:"absolute",top:"100%",right:0,padding:"20px",background:"var(--color-background-1)",border:"1px solid var(--color-foreground-4)",width:"260px"}},pt("div",{style:{position:"absolute",top:"-14px",right:"30px"}},pt(ut.a,{size:10,direction:"top",borderWidth:1,color:"var(--color-background-1)",borderColor:"var(--color-foreground-4)"})),pt(dt.a,{isLogin:this.state.isLogin,onChangeAuth:this.handleChangeAuth,onSubmit:this.handleSubmit})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.open&&!t.hasOpened?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):ft(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},t,{showLoginPopover:!0,hasOpened:!0}):t}}]),t}(me.Component),bt=Object(De.c)(null,(function(e){return Object(ye.b)({showMessage:Ne.b},e)}))(mt),gt=n("7FmB"),ht=n.n(gt),vt=n("h7rM"),xt=n("PzFc"),wt=n("2wLS"),yt=n("YFqc"),kt=n.n(yt),jt=n("tcye"),Et=n("bv58"),Ot=n("5QjX"),_t=n("7lhO"),Nt=be.a.createElement,St=function(e){var t=e.username,n=e.id,r=e.image,a=e.color;return Nt("div",{"aria-label":t,"data-microtip-position":"bottom",role:"tooltip",key:n,className:le.a.dynamic([["2618977678",[a,a]]])+" avatar-wrapper"},r?Nt("img",{title:t,src:r,alt:"avatar for ".concat(t),className:le.a.dynamic([["2618977678",[a,a]]])+" avatar"}):Nt("div",{title:t,className:le.a.dynamic([["2618977678",[a,a]]])+" avatar placeholder"},t.charAt(0).toUpperCase()),Nt(le.a,{id:"2618977678",dynamic:[a,a]},[".avatar-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--padding-size-medium);}",".avatar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;width:35px;height:35px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;border:2px solid ".concat(a,";object-fit:cover;}"),".avatar.placeholder.__jsx-style-dynamic-selector{font-size:16px;background-color:".concat(a,";color:var(--color-white);}"),".avatar.__jsx-style-dynamic-selector:hover{-webkit-filter:brightness(95%);filter:brightness(95%);box-shadow:0 0px 5px 0px var(--color-black-16);}"]))},Ct=function(e,t){return Nt("div",{className:le.a.dynamic([["2047701884",[Ae.BREAKPOINTS.mobileMax+100]]])+" multiplayer-users-container"},function(e,t){return e.length>t?Nt("div",{className:"jsx-4012618756 user-limit"},"+ ",e.length-t,Nt(le.a,{id:"4012618756"},[".user-limit.jsx-4012618756{color:var(--color-foreground-1);font-size:16px;}"])):null}(e,3),e.length?e.slice(0,3).map((function(e){return Nt(St,{id:e.id,username:e.username,key:e.id,image:e.image,color:t[e.id]})})):null,Nt(le.a,{id:"2047701884",dynamic:[Ae.BREAKPOINTS.mobileMax+100]},[".multiplayer-users-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 var(--padding-size-medium);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@media only screen and (max-width:".concat(Ae.BREAKPOINTS.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none;}}")]))},Tt=function(e){var t=Object(at.he)({variables:{ids:e.users.map((function(e){return e.id}))},ssr:!1,skip:!e.users.length}),n=t.data,r=(t.loading,t.error,e.users.reduce((function(e,t){return e[t.id]=t.color,e}),{}));if(n&&n.currentUser){var a=n.usersByIds,i=n.currentUser,o=a.filter((function(e){return e.id!==i.id}));return Ct(o,r)}return null},It=n("+pxJ"),Rt=n("nnlM"),At=me.createElement;function Pt(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Pt(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Dt,Mt={top:{bottom:"100%",left:"50%",marginLeft:"-5px"},right:{top:"50%",left:"100%",marginTop:"-5px"},bottom:{top:"100%",left:"50%",marginLeft:"-5px"},left:{top:"50%",right:"100%",marginTop:"-5px"}},Ft=function(e){var t=e.children,n=e.sawTour,r=e.arrowPosition,a=void 0===r?"bottom":r;return At("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-2551691964 tour-tooltip-container"},At("div",{className:"jsx-2551691964 tour-tooltip-content"},t),At("div",{className:"jsx-2551691964 tour-tooltip-actions"},At(ht.a,{filled:!0,onClick:n},"Got it")),At(ut.a,{direction:a,size:10,style:Lt({display:"block",position:"absolute"},Mt[a]),color:"var(--color-background-1)"}),At(le.a,{id:"2551691964"},[".tour-tooltip-container.jsx-2551691964{color:var(--color-foreground-1);background-color:var(--color-background-1);padding:10px;max-width:200px;border-radius:5px;}",".tour-tooltip-container.jsx-2551691964:hover{cursor:default;}",".tour-tooltip-actions.jsx-2551691964{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".tour-tooltip-content.jsx-2551691964{font-size:16px;line-height:20px;padding:0 5px;margin-bottom:5px;}"]))},Ut=n("0F/J"),Ht=n("9vYF"),Gt=n("18iC"),Bt=n("yArz"),zt=n("NXve"),Kt=n.n(zt),Vt=n("zqNW"),qt=n.n(Vt),Wt=n("UWUU"),Xt=n("Jaku"),Yt=n("/otM"),Qt=n("XLFt"),Jt=n("4byT"),Zt=n("dwxc"),$t=n.n(Zt),en=be.a.createElement;!function(e){e.Repl="repl",e.Embed="embed"}(Dt||(Dt={}));var tn=function(e){var t=e.active,n=e.tab,r=e.onClick,a=function(e){var t=e.active;return{styles:en(le.a,{id:"2347799603",dynamic:[t?"transparent":"var(--color-control-3) !important;"]},["button.__jsx-style-dynamic-selector{padding:15px 10px 15px;background-color:".concat(t?"transparent":"var(--color-control-3) !important;",";}")]),className:le.a.dynamic([["2347799603",[t?"transparent":"var(--color-control-3) !important;"]]])}}({active:t});return en(Xt.a,{onClick:r,checked:t,center:!0,block:!0,className:a.className},en("div",{className:"jsx-4244945835 content"},n),a.styles,en(le.a,{id:"4244945835"},[".content.jsx-4244945835{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".text.jsx-4244945835{margin-left:5px;}"]))},nn=function(e){var t,n,r=e.repl,a=e.isOwner,i=e.isCollaborator,o=e.track,s=e.hideModal,c=e.initialTab,l=e.wid,u=e.onFork,d=be.a.useState(c||"Invite"),p=Object(W.a)(d,2),f=p[0],m=p[1],b=Object(De.e)(),g=be.a.useState(!1),h=Object(W.a)(g,2),v=h[0],x=h[1],w=be.a.useState(null),y=Object(W.a)(w,2),k=y[0],j=y[1];"undefined"===typeof location?(t="https:",n="repl.it"):(t=window.location.protocol,n=window.location.host);var E=be.a.createRef(),O=be.a.createRef(),_="".concat(t,"//").concat(n).concat(r.url),N='<iframe height="400px" width="100%" src="'.concat(t,"//").concat(n).concat(r.url,'?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>'),S=function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e===Dt.Repl?E:O)||!t.current){n.next=12;break}return n.prev=2,n.next=5,Y.a.awrap(window.navigator.clipboard.writeText(t.current.value));case 5:n.next=12;break;case 7:n.prev=7,n.t0=n.catch(2),t.current.focus(),t.current.select(),document.execCommand("copy");case 12:case"end":return n.stop()}}),null,null,[[2,7]])},C=function(e){x(!0),j(e)};return v?en(rn,{hideModal:s,gotoPost:function(){if(!k)throw new Error("Expected submitted post in state");o("WENT_TO_REPL_TALK_POST_WS"),je.a.push({pathname:"/post",query:{id:k.id}},k.url)}}):en(Ht.default,{onRequestClose:s,hideX:!0,noBorder:!0},en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" share-modal-container"},a||i?en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" tabs"},en(tn,{tab:a?"Invite":"Share",active:"Invite"===f,onClick:function(){return m("Invite")}}),en(tn,{tab:"Post",active:"Post"===f,onClick:function(){return m("Post")}})):null,en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" share-modal-content"},"Invite"===f?en(be.a.Fragment,null,a||i?en(be.a.Fragment,null,en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" multiplayer-control"},en(Bt.a,{replId:r.id,onUserAdd:function(){b({type:"LOAD_CHAT_INTO_LAYOUT",wid:l})}})),en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" share-link"},a?en(Gt.a,{replId:r.id}):en($t.a,{foreground:2},"Only the owner can invite people to multiplayer"))):en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])},en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" fork-prompt"},"Fork this repl to start a multiplayer session!"),en(ht.a,{filled:!0,Icon:function(){return en("div",{style:{width:23,height:23},className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])},en(Wt.Fork,null))},fullWidth:!0,onClick:u,color:"primary"},"Fork and Invite!")),en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" footer"},en("input",{ref:E,readOnly:!0,value:_,className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" ghost-input"}),en("input",{ref:O,readOnly:!0,value:N,className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" ghost-input"}),en(ht.a,{Icon:qt.a,onClick:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(Dt.Repl));case 1:case"end":return e.stop()}}))},fullWidth:!0},"Copy repl link"),en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])+" spacer"}),en(ht.a,{Icon:Kt.a,onClick:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(Dt.Embed));case 1:case"end":return e.stop()}}))},fullWidth:!0},"Copy embed code"))):en(at.G,{variables:{slug:"share"}},(function(e){var t=e.data;return e.loading?en(Qt.a,{style:{margin:"0 auto"}}):t?en(Yt.a,{onCancel:s,autofocus:"title",onSubmit:C,repl:r,replChangable:!1,board:t.boardBySlug,boardChangable:!1}):en("div",{className:le.a.dynamic([["3613094984",["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]]])},"Oh no! We had a problem fetching post data.")}))),en(le.a,{id:"3613094984",dynamic:["Post"===f||a?"650px":i?"450px":"250px",Ae.BREAKPOINTS.mobileMax]},[".share-modal-container.__jsx-style-dynamic-selector{width:450px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-radius:5px;}",".tabs.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".ghost-input.__jsx-style-dynamic-selector{position:absolute;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:-100vh;left:-100vw;}",".share-modal-content.__jsx-style-dynamic-selector{display:grid;grid-gap:var(--spacing-2);-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;padding:calc(var(--padding-size-large) * 2);min-height:".concat("Post"===f||a?"650px":i?"450px":"250px",";}"),".heading.__jsx-style-dynamic-selector{width:100%;margin:0 auto;}",".heading.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin-top:10px;font-size:14px;}",".fork-prompt.__jsx-style-dynamic-selector{text-align:center;padding-bottom:var(--spacing-1);}",".multiplayer-control.__jsx-style-dynamic-selector{margin-bottom:auto;}",".share-link.__jsx-style-dynamic-selector{margin:auto 0;}",".footer.__jsx-style-dynamic-selector{margin-top:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;height:48px;width:100%;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}","@media screen and (max-width:".concat(Ae.BREAKPOINTS.mobileMax,"px){.share-modal-container.__jsx-style-dynamic-selector{width:300px;}.footer.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}")])))},rn=function(e){var t=e.hideModal,n=e.gotoPost;return en(Ht.default,{onRequestClose:t},en(Jt.a,{hideModal:t,onSubmit:n,submitLabel:"Go to Post",cancelLabel:"Continue Coding"},en("div",null,"Post Created"),en("div",null,"Your repl has been posted to talk. What would you like to do?")))},an=n("tidx"),on=n("8Vt8"),sn=n("gF3W"),cn=n("QQiT"),ln=n.n(cn),un=n("vTpr"),dn=n.n(un),pn=n("Jh0O"),fn=n.n(pn),mn=n("VoYB"),bn=n("7MR+"),gn=n.n(bn),hn=n("mKBA"),vn=n.n(hn),xn=n("irrw"),wn=n.n(xn),yn=n("Soul"),kn=n.n(yn),jn=n("tQ+K"),En=n("yKe8"),On=me.createElement;function _n(e){var t,n=e.replId,r=Object(at.ic)({variables:{replId:n}}),a=r.data,i=r.loading,o=Object(mn.a)(),s=o.showConfirm,c=o.showError,l=me.useState(""),u=Object(W.a)(l,2),d=u[0],p=u[1],f=Object(at.hc)({onError:function(e){return c(e.message)},onCompleted:function(e){var t=e.addMultiplayerUser.user,n=t?"@".concat(t.username):"Member";s("".concat(n," added"))}}),m=Object(W.a)(f,2),b=m[0],g=m[1],h=Object(at.jc)({onError:function(e){return c(e.message)},onCompleted:function(e){var t=e.removeMultiplayerUser.user,n=t?"@".concat(t.username):"Member";s("".concat(n," removed"))}}),v=Object(W.a)(h,2),x=v[0],w=v[1],y="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null;if(y&&!y.owner)throw new Error("Cannot manage members on anon repls");if((null===y||void 0===y?void 0:y.owner)&&"Team"!==(null===y||void 0===y?void 0:y.owner.__typename))throw new Error("Expect repl owned by a team");var k="Team"===(null===y||void 0===y?void 0:null===(t=y.owner)||void 0===t?void 0:t.__typename)?y.owner:null,j=null===k||void 0===k?void 0:k.members.reduce((function(e,t){if(!t.user)return e;var n=t.user;if(!(!d||En.a.filter(d,[n.username]).length>0))return e;var r=t.permissions&&t.permissions!==at.M.Member,a=null===y||void 0===y?void 0:y.permissions.find((function(e){var t;return e.user&&(null===(t=e.user)||void 0===t?void 0:t.id)===n.id}));return r?e.teamAdmins.push(n):(null===a||void 0===a?void 0:a.type)?e.withPermisison.push(n):e.withoutPermisison.push(n),e}),{teamAdmins:[],withPermisison:[],withoutPermisison:[]}),E=Boolean(j&&!j.teamAdmins.length&&!j.withoutPermisison.length&&!j.withPermisison.length),O=null===y||void 0===y?void 0:y.currentUserPermissions.editMultiplayers;return On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" root"},On(sn.VStack,{spacing:2,align:"stretch"},On(wn.a,{level:5,foreground:i?3:1},O?"Add or remove members from this repl":null,i?"Loading...":null),On(kn.a,{disabled:i,value:d,onChange:function(e){return p(e.currentTarget.value)},placeholder:O?"Filter team members to add or remove":"Filter team members"}),On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" "+(nt()("multiplayers-list",{"is-empty":E})||"")},(null===j||void 0===j?void 0:j.withPermisison.length)?On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" list-heading"},On(sn.HStack,{align:"center",spacing:1},On(ln.a,{size:"small"}),On($t.a,{foreground:2,size:"small"},null===j||void 0===j?void 0:j.withPermisison.length," member",1===(null===j||void 0===j?void 0:j.withPermisison.length)?"":"s"," with access"))):null,null===j||void 0===j?void 0:j.withPermisison.map((function(e){return On("div",{key:e.id,className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" "+(nt()("multiplayer-item",{"is-editable":O})||"")},On(sn.HStack,{align:"center",spacing:1},On(_e.a,{size:"s",url:e.image}),On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" label"},d?On(jn.c,{source:e.username,match:d}):e.username," ","(can edit)"),O?On(ht.a,{border:!1,filled:!1,"aria-label":"Remove member",role:"tooltip","data-microtip-position":"left",onClick:function(){w.loading||x({variables:{replId:n,username:e.username}})}},On(gn.a,{size:"small"})):null))})),(null===j||void 0===j?void 0:j.withoutPermisison.length)?On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" list-heading"},On(sn.HStack,{align:"center",spacing:1},On(dn.a,{size:"small"}),On($t.a,{foreground:2,size:"small"},null===j||void 0===j?void 0:j.withoutPermisison.length," member",1===(null===j||void 0===j?void 0:j.withoutPermisison.length)?"":"s"," without access"))):null,null===j||void 0===j?void 0:j.withoutPermisison.map((function(e){return On("div",{key:e.id,className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" "+(nt()("multiplayer-item",{"is-editable":O})||"")},On(sn.HStack,{align:"center",spacing:1},On(_e.a,{size:"s",url:e.image}),On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" label"},d?On(jn.c,{source:e.username,match:d}):e.username),O?On(ht.a,{border:!1,filled:!1,"aria-label":"Add member",role:"tooltip","data-microtip-position":"left",onClick:function(){g.loading||b({variables:{replId:n,username:e.username,type:"rw"}})}},On(vn.a,{size:"small"})):null))})),(null===j||void 0===j?void 0:j.teamAdmins.length)?On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" list-heading"},On(sn.HStack,{align:"center",spacing:1},On(fn.a,{size:"small"}),On($t.a,{foreground:2,size:"small"},"Team admins cannot be removed from repls"))):null,null===j||void 0===j?void 0:j.teamAdmins.map((function(e){return On("div",{key:e.id,className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" "+(nt()("multiplayer-item",{"is-editable":O})||"")},On(sn.HStack,{align:"center",spacing:1},On(_e.a,{size:"s",url:e.image}),On("div",{className:le.a.dynamic([["4137072712",[Ae.BREAKPOINTS.mobileMax]]])+" label"},d?On(jn.c,{source:e.username,match:d}):e.username)))})),E?On($t.a,{foreground:2,align:"center"},'No members matching "',d,'" found'):null),O||i?null:On($t.a,{foreground:2,size:"small"},"Only admins can add and remove members to multiplayer")),On(le.a,{id:"4137072712",dynamic:[Ae.BREAKPOINTS.mobileMax]},[".root.__jsx-style-dynamic-selector{padding:var(--spacing-2);color:var(--color-foreground-1);}",".multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--color-background-2);border-radius:var(--border-radius-1);height:300px;overflow-y:auto;}",".multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--spacing-2);word-break:break-word;}",".multiplayer-item.__jsx-style-dynamic-selector{padding:var(--spacing-half) var(--spacing-2);}",".multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--spacing-1);}",".multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--color-background-3);}",".list-heading.__jsx-style-dynamic-selector{padding:var(--spacing-2) var(--spacing-2) 0;}",".label.__jsx-style-dynamic-selector{margin-right:auto;}","@media screen and (min-width:".concat(Ae.BREAKPOINTS.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--spacing-6);}}")]))}var Nn=n("Qetd"),Sn=n.n(Nn),Cn=n("XXOK"),Tn=n.n(Cn),In=n("1GjN"),Rn=n("CLjb"),An=n("aMZS"),Pn=n("9ICu"),Ln=n.n(Pn),Dn=n("M85P"),Mn=n("twnq"),Fn=n.n(Mn),Un=be.a.createElement;function Hn(e){var t=e.user,n=e.onDelete,r=Object(Rn.a)({item:{type:"SubmissionGroupUserItem",id:t.id},collect:function(e){return{opacity:e.isDragging()?.7:1}}}),a=Object(W.a)(r,2),i=a[0].opacity,o=a[1];return Un("div",{ref:o,style:{opacity:i},className:"jsx-664165765 submission-group-user"},Un(sn.HStack,{align:"center",spacing:1},Un(_e.a,{size:"s",url:t.image}),Un($t.a,null,t.username),n&&Un("span",{className:"jsx-664165765 x-icon"},Un(gn.a,{onClick:function(){n(t)}}))),Un(le.a,{id:"664165765"},[".submission-group-user.jsx-664165765{cursor:pointer;}",".x-icon.jsx-664165765{cursor:pointer;margin-bottom:1px;}",".x-icon.jsx-664165765:hover{color:var(--color-red-1);}"]))}function Gn(e){var t=e.availableUsers,n=e.onUserSelected,r=Object(me.useState)(""),a=r[0],i=r[1],o=Object(me.useState)(!1),s=o[0],c=o[1],l=a.length<1?[]:En.a.filter(a,t,{extract:function(e){var t,n;return"".concat(null===(t=e.user)||void 0===t?void 0:t.fullName," ").concat(null===(n=e.user)||void 0===n?void 0:n.username)}});return Un("div",{className:"jsx-2127351458 submission-group-user-search"},Un(Dn.default,{isOpen:s,onOuterClick:function(){return c(!1)},onChange:function(e){return t=e.original,i(""),void n(t);var t},itemToString:function(e){return e?e.username:""},defaultHighlightedIndex:0},(function(e){var t=e.getInputProps,n=e.getMenuProps,r=e.getItemProps,o=e.isOpen,s=e.highlightedIndex;return Un("div",{className:"jsx-2127351458 dropdown"},Un(kn.a,t({value:a,onChange:function(e){return i(e.target.value)},onFocus:function(){return c(!0)},placeholder:"Search for team members...",autoComplete:"off",style:{border:"none"}})),o&&l.length>0&&Un("div",Object(R.a)({},n(),{className:"jsx-2127351458 submission-group-user-results"}),Un(sn.VStack,{align:"stretch",spacing:"0.2em"},l.map((function(e,t){return e.original.user&&Un("div",Object(R.a)({},r({item:e,key:e.original.user.username}),{className:"jsx-2127351458 "+(nt()({"submission-group-user-result-item":!0,"result-highlighted":s===t})||"")}),Un(sn.HStack,{align:"center",spacing:1},Un(_e.a,{size:"s",url:e.original.user.image}),Un($t.a,null,e.original.user.username)))})))))})),Un(le.a,{id:"2127351458"},[".submission-group-user-search.jsx-2127351458{position:relative;}",".submission-group-user-results.jsx-2127351458{position:absolute;z-index:3000;background-color:var(--color-background-1);border:1px solid var(--color-foreground-3);border-radius:var(--border-radius-1);max-width:300px;overflow:hidden;}",".submission-group-user-result-item.jsx-2127351458{cursor:pointer;padding:0.2em var(--spacing-2);}",".result-highlighted.jsx-2127351458{background-color:var(--color-background-2);}",".submission-group-user-result-item.jsx-2127351458:hover{background-color:var(--color-background-3);}"]))}function Bn(e){var t,n=e.group,r=e.teamMembers,a=e.onAddUser,i=e.onRemoveUser,o=e.onRemoveGroup,s=Object(An.a)({accept:"SubmissionGroupUserItem",collect:function(e){return{isOver:e.isOver()}},drop:function(e){return a(e.id,n)}}),c=Object(W.a)(s,2),l=c[0].isOver,u=c[1],d=r.filter((function(e){return e.permissions===at.M.Member&&void 0===n.users.find((function(t){return t&&e.user&&t.id===e.user.id}))}));return Un("div",{ref:u,className:"jsx-3453268590 "+(nt()({"submission-group":!0,"is-over":l})||"")},Un(sn.VStack,{align:"stretch",spacing:1},Un("div",{className:"jsx-3453268590 submission-group-users"},Un(sn.VStack,{align:"stretch",spacing:"0.2em"},n.users.map((function(e){return e&&Un(Hn,{user:e,onDelete:i})})),n.users.length<1&&Un($t.a,{foreground:"3"},"No users in this group."))),n.submission?Un("a",{role:"tooltip","aria-label":"Open repl","data-microtip-position":"left",href:null===(t=n.submission.repl)||void 0===t?void 0:t.url,target:"_blank",className:"jsx-3453268590 submission-link"},Un(Ln.a,null)):Un("span",{role:"tooltip","data-microtip-position":"left","aria-label":"Remove group",className:"jsx-3453268590 x-icon"},Un(gn.a,{height:20,width:20,onClick:function(){return o&&o(n)}})),Un(Gn,{availableUsers:d,onUserSelected:function(e){return e.user&&a(e.user.id,n)}})),Un(le.a,{id:"3453268590"},[".submission-group.jsx-3453268590{position:relative;padding:var(--spacing-1) var(--spacing-2);border:1px solid var(--color-foreground-4);border-radius:var(--border-radius-1);min-height:35px;}",".submission-group-users.jsx-3453268590{max-height:150px;overflow:auto;margin-right:0.2em;}",".submission-link.jsx-3453268590{position:absolute;top:0.2em;right:0.2em;}",".is-over.jsx-3453268590{border-color:var(--color-blue-1);}",".x-icon.jsx-3453268590{cursor:pointer;margin-bottom:1px;position:absolute;top:0.2em;right:0.2em;}",".x-icon.jsx-3453268590:hover{color:var(--color-red-1);}"]))}function zn(e){var t=e.groups,n=e.teamMembers,r=e.onChangeGroups,a=Object(me.useState)(!1),i=a[0],o=a[1],s=n.filter((function(e){if(e.permissions!==at.M.Member)return!1;var n=!0,r=!1,a=void 0;try{for(var i,o=Tn()(t);!(n=(i=o.next()).done);n=!0){if(void 0!==i.value.users.find((function(t){return e.user&&(null===t||void 0===t?void 0:t.id)===e.user.id})))return!1}}catch(s){r=!0,a=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return!0})),c=function(e){return(null===e||void 0===e?void 0:e.removeGroup)?t.filter((function(t){return t!==e.removeGroup})):t.map((function(t){var n,r=Sn()({},t,{users:t.users.filter((function(t){var n,r,a,i,o;return!!t&&((void 0===(null===e||void 0===e?void 0:null===(n=e.unassignMember)||void 0===n?void 0:null===(r=n.user)||void 0===r?void 0:r.id)||t.id!==(null===(a=e.unassignMember)||void 0===a?void 0:null===(i=a.user)||void 0===i?void 0:i.id))&&(null===e||void 0===e||!e.move||t.id!==(null===e||void 0===e?void 0:null===(o=e.move.member.user)||void 0===o?void 0:o.id)))}))});return t===(null===e||void 0===e?void 0:null===(n=e.move)||void 0===n?void 0:n.targetGroup)&&e.move.member.user&&r.users.push(e.move.member.user),r}))},l=function(e,t){var a=n.find((function(t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)===e}));if(null===a||void 0===a?void 0:a.user){var i=c({move:{member:a,targetGroup:t}});r(i)}},u=function(e){var t=c({removeGroup:e});r(t)},d=Object(me.useRef)(null);return Object(me.useEffect)((function(){i&&d.current&&(d.current.scrollTop=d.current.offsetHeight,o(!1))}),[t,i]),Un("div",{className:"jsx-1103065837 edit-submission-groups"},Un(sn.HStack,{justify:"space-between"},Un(wn.a,{style:{paddingBottom:"var(--spacing-1)"},level:4},"Submission Groups"),Un("div",{onClick:function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.floor(Math.sqrt(n.length)),t=c(),a=0;a<s.length;a++){var i=s[a];if(i.user){var o=t.find((function(t){return t.users.length<e}));void 0===o&&(a===s.length-1&&void 0!==t[0]?o=t[0]:(o={users:[]},t.push(o))),o.users.push(i.user)}}r(t)}()},className:"jsx-1103065837 auto-assign"},"Auto assign",Un("span",{className:"jsx-1103065837 auto-assign-icon"},Un(ct.a,null)))),Un("div",{ref:d,className:"jsx-1103065837 submission-group-list"},Un(sn.VStack,{spacing:1,align:"stretch"},t.map((function(e){return Un(Bn,{group:e,teamMembers:n,onAddUser:l,onRemoveUser:function(e){return function(e){var t=n.find((function(t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)===e}));if(null===t||void 0===t?void 0:t.user){var a=c({unassignMember:t});r(a)}}(e.id)},onRemoveGroup:void 0===e.submission?u:void 0})})))),Un(Fn.a,null),Un(sn.HStack,{justify:"end"},Un(ht.a,{Icon:vn.a,color:"primary",onClick:function(){var e=c();e.push({users:[]}),o(!0),r(e)}},"Add Group")),Un(le.a,{id:"1103065837"},[".edit-submission-groups.jsx-1103065837{position:relative;}",".auto-assign.jsx-1103065837{cursor:pointer;border:1px solid var(--color-foreground-1);border-radius:var(--border-radius-1);padding:0.2em var(--spacing-1);font-size:0.9em;}",".auto-assign.jsx-1103065837:hover{color:var(--color-blue-1);border-color:var(--color-blue-1);}",".auto-assign-icon.jsx-1103065837{margin-left:var(--spacing-1);}",".submission-group-list.jsx-1103065837{height:50vh;overflow:auto;padding-right:var(--spacing-1);}"]))}function Kn(e){var t=e.replId,n=e.onDone,r=Object(at.ad)({variables:{replId:t}}).data,a="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null;if(!a||!a.template)return Un("div",{className:"jsx-1269108943 root"},Un(Qt.a,null),Un(le.a,{id:"1269108943"},[".root.jsx-1269108943{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:500px;min-height:300px;}"]));var i=a.template;return Un(Vn,{repl:a,template:i,onDone:n})}function Vn(e){var t,n=e.repl,r=e.template,a=e.onDone,i=Object(mn.a)(),o=i.showConfirm,s=i.showError,c=Object(at.bd)({onCompleted:function(e){var t=e.updateReplTemplate;"UserError"!==t.__typename?"ReplTemplate"===t.__typename&&t.isPublished?o("Project published!"):"ReplTemplate"!==t.__typename||t.isPublished||o("Project unpublished"):s(t.message)},onError:function(e){s(e.message)}}),l=Object(W.a)(c,1)[0],u=Object(me.useState)(r.isPublished),d=u[0],p=u[1],f=Object(me.useState)(!1),m=f[0],b=f[1],g=Object(me.useState)(r.submissionGroups),h=g[0],v=g[1],x=Object(Ot.a)("flag-dc-multiplayer-submissions-ui");return Un("div",{className:"jsx-1785764870 "+(nt()({root:!0,loading:m})||"")},Un(sn.VStack,{spacing:1,align:"stretch"},Un(wn.a,{level:3,align:"center"},"Edit this project"),Un("div",{className:"jsx-1785764870"},Un(wn.a,{align:"center",level:5},n.title),n.description?Un($t.a,{foreground:3,align:"center",tag:"div"},n.description):null),Un("div",{className:"jsx-1785764870 toggle"},Un(In.a,{enabled:d,enabledChild:"published",disabledChild:"unpublished",onClick:function(){p(!d)}})),Un("div",{className:"jsx-1785764870 copy"},d&&Un($t.a,null,"This project can be forked by team members, and edited by other team admins."),!d&&Un($t.a,null,"This project can only be viewed and edited by other team admins")),x&&"Team"===(null===(t=n.owner)||void 0===t?void 0:t.__typename)&&d&&r.isGroupProject&&Un(zn,{groups:h,teamMembers:n.owner.members,onChangeGroups:v}),Un("div",{className:"jsx-1785764870 modal-buttons"},Un(sn.VStack,{spacing:1,align:"stretch"},Un(ht.a,{filled:!1,onClick:a},"Cancel"),Un(ht.a,{color:"primary",onClick:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Y.a.awrap(l({variables:{input:{id:r.id,isPublished:d,submissionGroups:x&&d&&r.isGroupProject&&h?h.filter((function(e){return void 0!==e.submission||e.users.length>0})).map((function(e){var t,n={submissionId:null===(t=e.submission)||void 0===t?void 0:t.id,userIds:[]},r=!0,a=!1,i=void 0;try{for(var o,s=Tn()(e.users);!(r=(o=s.next()).done);r=!0){var c=o.value;(null===c||void 0===c?void 0:c.id)&&n.userIds.push(c.id)}}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n})):void 0}}}));case 4:return e.prev=4,b(!1),e.finish(4);case 7:a();case 8:case"end":return e.stop()}}),null,null,[[1,,4,7]])}},"Save")),m&&Un("div",{className:"jsx-1785764870 spinner-outer"},Un(Qt.a,{style:{width:75,height:75}})))),Un(le.a,{id:"1785764870"},[".root.jsx-1785764870{color:var(--color-foreground-1);padding:var(--spacing-3);min-width:500px;position:relative;}",".root.loading.jsx-1785764870{opacity:0.6;pointer-events:none;}",".toggle.jsx-1785764870{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".copy.jsx-1785764870{text-align:center;min-height:40px;}",".modal-buttons.jsx-1785764870{padding-top:var(--spacing-1);}",".spinner-outer.jsx-1785764870{width:100%;position:absolute;top:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))}var qn=me.createElement;function Wn(e){var t=e.replId,n=e.onDone,r=e.isResubmit,a=Object(mn.a)(),i=a.showConfirm,o=a.showError,s=Object(at.cd)({variables:{replId:t},onCompleted:function(e){var t=e.submitRepl;"UserError"!==t.__typename?"Repl"===t.__typename&&(i("Repl submitted"),n()):o(t.message)},onError:function(e){o(e.message)}}),c=Object(W.a)(s,2),l=c[0],u=c[1];return qn("div",{className:"jsx-3403090670 root"},qn(wn.a,{level:3,align:"center"},r?" Resubmit this repl":"Submit this repl"),qn($t.a,{align:"center"},r?"This will re-notify team admins about your submission.":"This will submit your repl for review and notify the team's admins."),qn("div",{className:"jsx-3403090670 controls"},qn(ht.a,{disabled:u.loading,onClick:n},"Cancel"),qn(ht.a,{filled:!0,color:"primary",disabled:u.loading,onClick:function(){return l()}},r?"Submit again":"Submit")),qn(le.a,{id:"3403090670"},[".root.jsx-3403090670{color:var(--color-foreground-1);padding:var(--spacing-3);display:grid;grid-gap:var(--spacing-3);}",".controls.jsx-3403090670{display:grid;grid-gap:var(--spacing-1);grid-auto-flow:column;}"]))}var Xn,Yn=n("PMfk"),Qn=me.createElement,Jn="https://docs.repl.it/misc/annotations";function Zn(e){return Qn(on.a,e,Qn("div",{className:"jsx-3678259200 container"},Qn("h1",{className:"jsx-3678259200"},"Introducing Annotations"),Qn("p",{className:"jsx-3678259200"},"Annotations is a new feature that lets you leave detailed feedback on a student's code!"),Qn("div",{className:"jsx-3678259200 loom-video-container"},Qn("iframe",{src:"https://www.loom.com/embed/955fb177889c4838b9332224067d4be0?autoplay=1",frameBorder:"0",allowFullScreen:!0,webkitallowfullscreen:!0,mozallowfullscreen:!0,className:"jsx-3678259200 loom-video"})),Qn("p",{className:"jsx-3678259200"},"To learn more, check out the"," ",Qn("a",{href:Jn,target:"_blank",className:"jsx-3678259200"},"docs")),Qn("div",{className:"jsx-3678259200 buttons"},Qn("a",{href:Jn,target:"_blank",className:"jsx-3678259200"},Qn(Yn.Button,null,"Learn More")),Qn(Yn.Button,{color:"primary",onClick:e.onRequestClose},"Okay"))),Qn(le.a,{id:"3678259200"},[".container.jsx-3678259200{padding:var(--spacing-6);display:grid;grid-auto-flow:row;grid-row-gap:var(--spacing-2);}",".container.jsx-3678259200 h1.jsx-3678259200{padding:var(--spacing-2) 0;color:var(--color-foreground-1);}",".container.jsx-3678259200 p.jsx-3678259200{color:var(--color-foreground-1);}",".buttons.jsx-3678259200{display:grid;grid-auto-flow:column;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;grid-column-gap:var(--spacing-1);}",".buttons.jsx-3678259200 a.jsx-3678259200{-webkit-text-decoration:none;text-decoration:none;}",".loom-video-container.jsx-3678259200{position:relative;padding-bottom:56.25%;height:0;}",".loom-video.jsx-3678259200{position:absolute;top:0;left:0;width:100%;height:100%;}"]))}var $n=me.createElement,er=(Xn={},Object(ne.a)(Xn,at.I.PublishTemplate,"Publish project"),Object(ne.a)(Xn,at.I.EditTemplate,"Edit project"),Object(ne.a)(Xn,at.I.Submit,"Submit"),Object(ne.a)(Xn,at.I.Resubmit,"Resubmit"),Xn);function tr(e){var t=e.cta,n=e.replId,r=me.useState(null),a=Object(W.a)(r,2),i=a[0],o=a[1],s=function(){return o(null)},c=Boolean(i&&[at.I.PublishTemplate,at.I.EditTemplate].includes(i));return me.useEffect((function(){window&&window["enable-annotations"]&&(er[at.I.ReviewSubmission]="Annotations")}),[]),me.useEffect((function(){window["enable-annotations"]&&(t===at.I.ReviewSubmission&&(window.localStorage.getItem("annotations/educationModalDismissed")||(o(t),window.localStorage.setItem("annotations/educationModalDismissed","true"))))}),[t]),$n(me.Fragment,null,er[t]&&$n(ht.a,{filled:!0,border:!1,onClick:function(){return o(t)}},er[t]),$n(on.a,{isOpen:i===at.I.Submit||i===at.I.Resubmit,onRequestClose:s},$n(Wn,{replId:n,onDone:s,isResubmit:i===at.I.Resubmit})),$n(on.a,{preventClose:!0,isOpen:c,onRequestClose:s},$n(Kn,{replId:n,onDone:s})),$n(Zn,{isOpen:i===at.I.ReviewSubmission,onRequestClose:s}))}var nr=n("Shib"),rr=be.a.createElement,ar=function(e){var t=e.repl,n=e.isSaving;return rr(kt.a,{href:{pathname:"/replHistory",query:{slug:t.slug}},as:"".concat(t.url,"/history")},rr("a",{"aria-label":"Click to see repl history","data-microtip-position":"bottom",role:"tooltip",className:"jsx-2992576618 save-status"},rr("div",{className:"jsx-2992576618 "+(nt()("history-icon",{"is-saving":n})||"")},rr(Wt.HistoryIcon,null)),rr(le.a,{id:"2534165509"},[".save-status.jsx-2992576618:hover{color:var(--color-primary-1);}"]),rr(le.a,{id:"740781062"},[".save-status.jsx-2992576618{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-size:16px;color:var(--color-foreground-4);}",".save-status.jsx-2992576618 .history-icon.jsx-2992576618{width:24px;height:16px;margin-right:var(--spacing-half);margin-top:-2px;}",".save-status.jsx-2992576618 .is-saving.jsx-2992576618{-webkit-animation:pulse-jsx-2992576618 2s infinite;animation:pulse-jsx-2992576618 2s infinite;}","@-webkit-keyframes pulse-jsx-2992576618{0%,100%{opacity:1;}50%{opacity:0.25;}}","@keyframes pulse-jsx-2992576618{0%,100%{opacity:1;}50%{opacity:0.25;}}"])))},ir=function(){return rr("div",{"aria-label":"You are no longer connected, your file will save automatically once you reconnect","data-microtip-position":"bottom",role:"tooltip",className:"jsx-1062191725 offline-status"},rr("div",{className:"jsx-1062191725 offline-icon"},rr(Wt.CloudOff,null)),rr(le.a,{id:"1062191725"},[".offline-status.jsx-1062191725{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;cursor:default;padding-left:15px;color:var(--color-negative-1);}",".offline-status.jsx-1062191725 .offline-icon.jsx-1062191725{width:18px;height:16px;margin-right:5px;}"]))},or=function(){return rr("div",{"aria-label":"There was an error saving a file in your repl","data-microtip-position":"bottom",role:"tooltip",className:"jsx-1174862059 error-status"},rr(Wt.ErrorIcon,{style:{width:24}}),rr(le.a,{id:"1174862059"},[".error-status.jsx-1174862059{cursor:default;padding-left:15px;color:var(--color-negative-1);}"]))},sr=function(e){var t=e.wid,n=e.pud,r=e.canEdit,a=e.repl,i=function(e,t){var n=Object(vt.b)(e,t,"header"),r=Object(W.a)(n,1)[0],a=r.loading,i=r.hasConnected,o=r.filestatus,s=!r.clean.status||ae()(o).some((function(e){return e===Ze.a.Dirty||e===Ze.a.Syncing||e===Ze.a.Loading})),c=window["flag-disconnect-ot-hack"]&&i&&a;return{isSaving:s,didError:ae()(o).some((function(e){return e===Ze.a.Err})),isOffline:c}}(t,n),o=i.isSaving,s=i.didError,c=i.isOffline;return r?s?rr(or,null):c?rr(ir,null):rr(ar,{isSaving:o,repl:a}):null},cr=n("M+Cr"),lr=n("NYME"),ur=n("sMwv"),dr=me.createElement;function pr(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):pr(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var mr=60;function br(e){var t,n,r=e.wid,a=e.pud,i=Object(De.e)(),o=Object(ke.useRouter)(),s=Object(_t.a)(),c=Object(ur.a)({onFork:function(){}}),l=Object(W.a)(c,2),u=l[0],d=l[1].loading,p=me.useState(!1),f=Object(W.a)(p,2),m=f[0],b=f[1],g=me.useState(!1),h=Object(W.a)(g,2),v=h[0],x=h[1],w=Object(vt.b)(r,a,"header",Nr),y=Object(W.a)(w,1)[0],k=y.runstate,j=y.loading,E=y.usersOnline,O=y.showMultiModal,_=Object(Et.a)(),N=Object(Ot.a)("flag-multiplayer-services")?_:E,S=Object(at.Zc)({variables:{id:s}}),C=S.data,T=S.refetch;if("Repl"!==(null===C||void 0===C?void 0:C.repl.__typename))return dr("header",{key:"loading-header",className:"jsx-2398313351"},dr(le.a,{id:"2398313351"},["header.jsx-2398313351{background-color:var(--color-background-1);height:".concat(mr,"px;}")]));var I=C.currentUser,R=C.repl,A=null;A=dr(cr.a,j?{runState:"loading",onClick:function(){return null}}:"stopping"===k?{runState:"stopping",onClick:function(){return null}}:"running"===k?{runState:"running",onClick:function(){return i({type:"STOP_EVAL",wid:r})}}:{runState:"idle",onClick:function(){return i({type:"RUN_REPL",wid:r})}});var P=R.currentUserPermissions.containerWrite?null:dr(Ut.a,{label:"fork",iconStyle:{svgName:"Fork",width:23,height:23},onClick:function(){I?d||u(s,{trackingData:{context:"ideHeader"}}):x(!0)}}),L=null,D="Repl"===(null===C||void 0===C?void 0:C.repl.__typename)&&"Team"===(null===C||void 0===C?void 0:null===(t=C.repl.owner)||void 0===t?void 0:t.__typename);if(O&&!D){var M=function(){return i({type:"CLOSE_MULTIPLAYER_MODAL",wid:r,pud:a})};L=I?dr(nn,{wid:r,hideModal:M,track:function(e){i({type:"TRACK_WS_EVENT",eventKey:e,wid:r})},repl:R,isOwner:Boolean(R.isOwner),isCollaborator:R.currentUserPermissions.containerWrite,onFork:function(){d||u(s,{trackingData:{context:"shareModal"}})}}):dr(Ht.default,{onRequestClose:M},dr(an.a,{title:"Sign up or log in to multiplay",description:"Multiplayer allows you to collaborate with others in real time. Please log in/sign up to team up with others and build software"}))}var F=P,U=R.workspaceCta&&[at.I.Submit,at.I.Resubmit,at.I.PublishTemplate,at.I.EditTemplate,at.I.ReviewSubmission].includes(R.workspaceCta)?dr(tr,{cta:R.workspaceCta,replId:R.id}):null,H=I?{as:"/~",href:"/home"}:{as:"/languages",href:"/languages"};return dr("header",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" "+(nt()({"is-logged-in":I,"has-secondary-cta":F})||"")},dr("div",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" content"},dr("div",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" left"},dr(kt.a,H,dr("a",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" logo-link"},dr(ot.a,{size:32}))),dr(It.a,{repl:R,isLoggedIn:Boolean(I),refetch:T,onUpdateRepl:function(e){var t=!!e.title&&e.title!==R.title;if(i({type:"REPL_UPDATED",wid:r,updates:e}),t){var n=Object(We.a)(o.query);o.push({pathname:"/replEnvironment",query:fr({},o.query,{replUrl:R.url})},{pathname:R.url,query:n},{shallow:!0})}}}),dr(sr,{repl:R,canEdit:R.currentUserPermissions.containerAttach,wid:r,pud:a})),dr("div",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" center"},F,A),dr("div",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" right"},N&&N.length>0?dr(Tt,{users:N}):null,(null===I||void 0===I?void 0:I.isExplorer)?dr("a",{href:"/account#roles",target:"_blank",className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" explorer-badge"},dr(ht.a,{color:"red",filled:!0,border:!1,Icon:nr.a})):null,I&&!I.isSubscribed?dr(jt.a,{color:"default",filled:!0,context:"header-upgrade-button",responsive:!0}):null,I?null:dr(kt.a,{href:"/postsFeed",as:"/talk/all"},dr("a",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" repl-talk-link"},dr(ht.a,{filled:!1,border:!1,Icon:ct.a},"talk"))),U||null,(null===(n=R.currentUserPermissions)||void 0===n?void 0:n.editMultiplayers)&&![at.I.PublishTemplate,at.I.EditTemplate,at.I.ReviewSubmission].includes(R.workspaceCta)||R.workspaceCta===at.I.Share?dr("div",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" share-wrapper"},dr(ht.a,{className:"header-share-button",onClick:function(){return i({type:"OPEN_MULTIPLAYER_MODAL",wid:r,pud:a})},responsive:!0,filled:!0,border:!1,Icon:Rt.UserAddIcon},"share"),m&&dr("div",{className:le.a.dynamic([["2408564970",[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]]])+" multiplayer-invite-tour"},dr(Ft,{arrowPosition:"top",sawTour:function(){b(!1),Object(Me.d)("/data/tours/seen",{name:"new_share"})}},"To invite people, click on share!"))):null,I?dr(xt.a,null,dr(wt.a,null)):null,I?null:dr(bt,{onSuccess:function(){Object(Ke.track)(Ke.events.ACCOUNT_SIGNUP_CLICKED,{location:"ws_header"})}},dr(ht.a,{color:"primary",filled:!0},"sign up")))),L,dr(on.a,{isOpen:O&&D,onRequestClose:function(){return i({type:"CLOSE_MULTIPLAYER_MODAL",wid:r,pud:a})}},dr(_n,{replId:R.id})),I?null:dr(lr.a,{isLoggedIn:!1,isOpen:v,onRequestClose:function(){return x(!1)},replId:R.id}),dr(le.a,{id:"2408564970",dynamic:[mr,Ae.BREAKPOINTS.tabletMax,rt.a,Ae.BREAKPOINTS.mobileMax+100,Ae.BREAKPOINTS.mobileMax,Ae.BREAKPOINTS.tabletMin]},["header.__jsx-style-dynamic-selector{position:fixed;top:0px;left:0px;width:100%;height:".concat(mr,"px;z-index:50;background-color:var(--color-background-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.04);border-bottom:0.5px solid var(--color-control-3);--button-width:60px;--center-width:var(--button-width);}"),"@media screen and (min-width:".concat(Ae.BREAKPOINTS.tabletMax,"px){header.__jsx-style-dynamic-selector{--button-width:96px;}}"),".logo-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".has-secondary-cta.__jsx-style-dynamic-selector{--center-width:calc(var(--button-width) * 2 + var(--spacing-2));}",".is-logged-in.__jsx-style-dynamic-selector .left.__jsx-style-dynamic-selector{padding-left:".concat(rt.a,"px;}"),".content.__jsx-style-dynamic-selector{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".is-logged-in.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{padding-left:0;}",".left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{height:100%;padding:0 var(--spacing-1);display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".left.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".right.__jsx-style-dynamic-selector{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".center.__jsx-style-dynamic-selector{display:none;width:var(--center-width);position:absolute;top:0;left:50%;height:100%;-webkit-transform:translatex(-50%);-ms-transform:translatex(-50%);transform:translatex(-50%);grid-auto-flow:column;grid-column-gap:var(--spacing-2);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".center.__jsx-style-dynamic-selector>div,.left.__jsx-style-dynamic-selector>div{margin:0 !important;}",".explorer-badge.__jsx-style-dynamic-selector,.repl-talk-link.__jsx-style-dynamic-selector{display:none;}",".share-wrapper.__jsx-style-dynamic-selector{display:none;position:relative;}","@media screen and (min-width:".concat(Ae.BREAKPOINTS.mobileMax+100,"px){.left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{width:50%;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}.center.__jsx-style-dynamic-selector{display:grid;}.share-wrapper.__jsx-style-dynamic-selector{display:block;}.left.__jsx-style-dynamic-selector{padding-right:calc(var(--center-width) / 2 + var(--spacing-1));}.right.__jsx-style-dynamic-selector{padding-left:calc(var(--center-width) / 2 + var(--spacing-1));}}"),"@media screen and (min-width:".concat(Ae.BREAKPOINTS.mobileMax,"px){.explorer-badge.__jsx-style-dynamic-selector{display:unset;}}"),"@media screen and (min-width:".concat(Ae.BREAKPOINTS.tabletMin,"px){.repl-talk-link.__jsx-style-dynamic-selector{display:unset;}}")]))}var gr=n("hEBX"),hr=n("cR/2"),vr=me.createElement;function xr(e){var t=e.wid,n=e.pud,r=e.style,a=Object(De.e)(),i=Object(gr.f)(),o=Object(_t.a)(),s=Object(ke.useRouter)(),c=hr.a[i],l=Object(vt.b)(t,n,"header",Nr),u=Object(W.a)(l,1)[0],d=u.runstate,p=u.loading,f=Object(at.Yc)({variables:{id:o}}).data;if("Repl"!==(null===f||void 0===f?void 0:f.repl.__typename))return vr("div",{style:r,className:"jsx-3613049946 lite-header"},vr("div",{className:"jsx-3613049946 lite-header-cta"},vr(cr.a,{runState:"loading",onClick:function(){return null},lite:!0}),";"),vr(le.a,{id:"3613049946"},[".lite-header.jsx-3613049946{background:#f4f4f4;border-bottom:1px solid #e4e4e4;height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}",".lite-header-cta.jsx-3613049946{margin-left:auto;margin-right:auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:100px;padding:var(--spacing-half) 0;}",".lite-header-cta.jsx-3613049946>div{margin-left:0px;height:100%;border-bottom:0 none;}"]));var m=null;m=vr(cr.a,p?{runState:"loading",onClick:function(){return null},lite:!0}:"stopping"===d?{runState:"stopping",onClick:function(){return null},lite:!0}:"running"===d?{runState:"running",onClick:function(){return a({type:"STOP_EVAL",wid:t})},lite:!0}:{runState:"idle",onClick:function(){return a({type:"RUN_REPL",wid:t})},lite:!0});var b=f.repl,g={href:"https://repl.it".concat(b.url),target:"_blank",title:"open ".concat(b.title)},h=s.query.lite,v=b.lang,x=v.displayName,w=v.icon;return vr("div",{style:r,className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header"},vr("div",{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header-left"},h.includes("icon")||h.includes("title")?vr("a",Object(R.a)({},g,{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" "+(g&&null!=g.className&&g.className||"lite-header-title-link")}),h.includes("icon")?vr("img",{alt:x,title:x,src:w||void 0,className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header-lang-icon"}):null,h.includes("title")?vr("div",{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header-title"},vr("div",{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])},b.title)):null):null),vr("div",{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header-cta"},m),vr("div",{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header-right"},h.includes("nologo")?vr("a",Object(R.a)({},g,{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" "+(g&&null!=g.className&&g.className||"lite-header-open-link")}),"open"):vr("a",Object(R.a)({},g,{className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" "+(g&&null!=g.className&&g.className||"lite-header-logo-link")}),"open in"," ",vr("img",{src:"/public/images/logo-small.png",className:le.a.dynamic([["1183226218",[c.textLink.activeForeground,c.textLink.activeForeground]]])+" lite-header-logo"}))),vr(le.a,{id:"1183226218",dynamic:[c.textLink.activeForeground,c.textLink.activeForeground]},[".lite-header.__jsx-style-dynamic-selector{background:#f4f4f4;border-bottom:1px solid #e4e4e4;height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}",".lite-header-title-link.__jsx-style-dynamic-selector{font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;position:relative;-webkit-text-decoration:none;text-decoration:none;}",".lite-header-title.__jsx-style-dynamic-selector{position:relative;top:1px;display:none;max-width:100%;overflow:hidden;-webkit-text-decoration:none;text-decoration:none;}",".lite-header-title.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}",".lite-header-title-link.__jsx-style-dynamic-selector:hover .lite-header-title.__jsx-style-dynamic-selector{border-color:".concat(c.textLink.activeForeground,";}"),".lite-header-cta.__jsx-style-dynamic-selector{margin-left:auto;margin-right:auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:100px;padding:var(--spacing-half) 0;}",".lite-header-cta.__jsx-style-dynamic-selector>div{margin-left:0px;height:100%;border-bottom:0 none;}",".lite-header-lang-icon.__jsx-style-dynamic-selector{width:20px;margin-right:4px;}",".lite-header-left.__jsx-style-dynamic-selector,.lite-header-right.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:calc(50% - 50px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:10px;padding-right:10px;}",".lite-header-right.__jsx-style-dynamic-selector{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".lite-header-logo-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;border-bottom:none;color:#767777;font-size:14px;-webkit-text-decoration:none;text-decoration:none;}",".lite-header-logo-link.__jsx-style-dynamic-selector:hover{color:".concat(c.textLink.activeForeground,";}"),".lite-header-logo.__jsx-style-dynamic-selector{width:60px;margin-left:4px;}","@media screen and (min-width:400px){.lite-header-title.__jsx-style-dynamic-selector{display:block;}.lite-header-logo.__jsx-style-dynamic-selector{width:80px;margin-left:8px;}}"]))}var wr=n("1lQF"),yr=me.createElement;function kr(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):kr(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Er=Object(wr.a)(["OPEN_MULTIPLAYER_MODAL"]),Or=Er.receiver,_r=Er.useReceiver,Nr=function(e,t){var n=function(e){e.filestatus,e.clean;return Object(Xe.a)(e,["filestatus","clean"])};return Object(De.d)(n(e),n(t))};var Sr=Object(Qe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,hasConnected:!1,showMultiModal:!1,showShareToTalkPromo:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return jr({},e,{},t.initialState);case Ye.u:return jr({},e,{loading:!0});case Ye.t:return jr({},e,{loading:!1,hasConnected:!0});case"WORKSPACE_WILL_UNMOUNT":return jr({},e,{hasConnected:!1});case"OPEN_MULTIPLAYER_MODAL":return jr({},e,{showMultiModal:!0});case"CLOSE_MULTIPLAYER_MODAL":return jr({},e,{showMultiModal:!1});default:return e}},filestatus:Ze.b,clean:$e.a,runstate:Je.a,usersOnline:et.a});function Cr(e){var t=Object(ke.useRouter)().query,n=Object(_t.a)(),r=Object(De.e)();return _r((function(e){var t=e.wid;switch(e.action.type){case"OPEN_MULTIPLAYER_MODAL":r({type:"MP2_OPENED_INVITE_MODAL",replId:n,wid:t})}return null})),t.lite?yr(xr,e):yr(br,e)}var Tr=n("fUEn"),Ir=n("MG7t"),Rr=n("S6NQ"),Ar=n("kynp"),Pr=be.a.createElement,Lr=/(^.*language.*=.*?)(".*").*$/m,Dr=/(^.*run.*=.*?)(".*").*$/m,Mr=function(e){var t=e.children;return Pr("div",{className:"jsx-244350478 config-wrapper"},Pr("div",{className:"jsx-244350478"},Pr("div",{className:"jsx-244350478 config-wrapper-label"},Pr("img",{src:"/public/images/prompt.png",className:"jsx-244350478"}),Pr($t.a,{size:"small"},".replit"))),Pr("div",{className:"jsx-244350478 config-wrapper-content"},t),Pr(le.a,{id:"244350478"},[".config-wrapper.jsx-244350478{width:100%;height:100%;background-color:var(--color-background-1);display:grid;grid-template-rows:auto 1fr;}",".config-wrapper-content.jsx-244350478{padding:0 16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow-y:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".config-wrapper-label.jsx-244350478{padding:6px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:var(--font-family-monospace);background-color:var(--color-primary-transparent-3);color:var(--color-primary-1);}",".config-wrapper-label.jsx-244350478 img.jsx-244350478{height:11px;width:8px;margin-right:8px;}"]))},Fr=function(e){var t,n=e.wid,r=e.pud,a=Object(_t.a)(),i=Object(vt.b)(n,r,"config"),o=Object(W.a)(i,1)[0],s=o.files,c=o.fsClean,l=o.filestatus,u=Object(De.e)(),d=Object(at.hb)({variables:{replId:a}}),p="Repl"===(null===(t=d.data)||void 0===t?void 0:t.repl.__typename)?d.data.repl.language:"",f=Object(me.useState)(!1),m=f[0],b=f[1];var g=Object(me.useState)(!1),h=g[0],v=g[1];Object(me.useEffect)((function(){if(!h){var e=!c.status||ae()(l).some((function(e){return e===Ze.a.Dirty||e===Ze.a.Syncing||e===Ze.a.Loading}));m&&!e&&(v(!0),u({type:"REQUEST_REPL_UPDATE",wid:n,updates:{language:C}}))}}),[m,c.status]),Object(me.useEffect)((function(){h&&p&&window.location.replace(window.location.pathname)}),[p,h]);var x=s[".replit"];if(!x||!x.loaded||d.loading)return Pr(Mr,null,Pr("div",{className:"jsx-567169767 loading"},Pr("p",{className:"jsx-567169767"},"initializing run configuration",Pr(Tr.a,{style:{color:"var(--color-foreground-1)"}}))),Pr(le.a,{id:"567169767"},[".loading.jsx-567169767{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-family:'source-code-pro',monospace;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]));var w=x.content.toString("utf8");if(!w.match(Lr)||!w.match(Dr))return Pr("div",null,".replit looks a lil messed up :/");var y=Lr.exec(w),k=y[1],j=y[2],E=y.index,O=Dr.exec(w),_=O[1],N=O[2],S=O.index,C="bash",T="";try{var I=JSON.parse(j),R=JSON.parse(N);if("string"!==typeof I||"string"!==typeof R)return Pr("div",null,".replit looks a lil messed up :/");"undefined"!==I&&(C=I),"Unknown"===Re.a.get(C).displayName&&(C="bash"),T=R}catch(A){return Pr("div",null,".replit looks a lil messed up :/")}return Pr(Mr,null,Pr("div",{className:"jsx-882549902 config-item"},Pr("label",{htmlFor:"lang-sel",className:"jsx-882549902"},"select language"),Pr("div",{className:"jsx-882549902 config-item-lang-sel"},Pr(Ir.a,{disabled:m,initialSelectedItem:Re.a.get(C),placeholder:"Language",onSelect:function(e){u({type:"OT_FILE_OP",wid:n,path:".replit",op:[E+k.length].concat(j.length?[{d:j.length}]:[]).concat(e?[se()(e.key)]:[se()(p)]),changeSource:"config"})}}))),Pr("div",{className:"jsx-882549902 config-item"},Pr("label",{htmlFor:"run-sel",className:"jsx-882549902"},"configure the run button "),Pr(kn.a,{disabled:m,id:"run-sel",type:"text",value:T,style:{padding:"8px",fontFamily:'"source-code-pro", monospace'},placeholder:"enter command",onChange:function(e){e.currentTarget&&u({type:"OT_FILE_OP",wid:n,path:".replit",op:[S+_.length].concat(N.length?[{d:N.length}]:[]).concat(e.currentTarget.value.length>0?[se()(e.currentTarget.value)]:[se()("")]),changeSource:"config"})}}),Pr("a",{target:"_blank",href:"https://docs.repl.it/repls/dot-replit",className:"jsx-882549902"},"not sure what to do?")),Pr("div",{className:"jsx-882549902 config-item"},Pr(ht.a,{color:"primary",disabled:m,onClick:Object(Ar.a)({event:Ke.events.REPL_FROM_REPO_RUN_CONFIG_COMPLETED},(function(){Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:b(!0),u({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Upgrading to ".concat(Re.a.get(C).displayName),wid:n}),u({type:"PERSIST_FILE",wid:n,flush:!0});case 5:case"end":return e.stop()}}))}))},m?"saving...":"done")),Pr(le.a,{id:"882549902"},[".config-item.jsx-882549902{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--color-foreground-1);font-family:'source-code-pro',monospace;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:8px 0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-height:150px;}",".config-item.jsx-882549902 label.jsx-882549902{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-bottom:8px;}",".config-item.jsx-882549902 a.jsx-882549902{margin-top:4px;font-size:13px;}",".config-item-lang-sel.jsx-882549902{margin-right:16px;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;}",".config-item.jsx-882549902 input{padding:8px;font-family:'source-code-pro',monospace;max-width:400px;width:100%;}"]))},Ur=Object(Qe.a)({files:Rr.a,fsClean:$e.a,filestatus:Ze.b}),Hr=n("dfwq"),Gr=be.a.createElement,Br=function(e){var t=e.navItems,n=e.activePanePuds;return be.a.useEffect((function(){var e=document.body;e&&e.classList&&(t.some((function(e){return n.includes(e.pud)}))?e.classList.remove("sidenav-closed"):e.classList.add("sidenav-closed"))}),[t,n]),Gr("div",{className:"jsx-2043054145 side-nav"},Gr("div",{className:"jsx-2043054145 side-nav-options"},t.map((function(e){return Gr(zr,Object(R.a)({key:e.type},e))}))),Gr(le.a,{id:"2043054145"},[".side-nav.jsx-2043054145{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;background-color:var(--color-background-1);border-top-left-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);}",".side-nav-options.jsx-2043054145{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;padding:var(--spacing-half) 0;}",".side-nav-active-pane.jsx-2043054145{-webkit-flex:1;-ms-flex:1;flex:1;height:100%;overflow:hidden;}"]))},zr=function(e){var t=e.icon?e.icon:Wt[e.svg];return Gr("div",{onClick:e.onClick,"data-testid":"sidenav-".concat(e.type),"aria-label":e.tooltip,"data-microtip-position":"right",role:"tooltip",className:"jsx-616933984 "+(nt()("side-nav-item",{"side-nav-item-active":e.isActive})||"")},Gr("div",{className:"jsx-616933984 side-nav-item-img"},t?Gr(t,{className:"jsx-616933984"}):null),Gr(le.a,{id:"616933984"},[".side-nav-item.jsx-616933984{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;border-radius:var(--border-radius-2);height:var(--spacing-5);width:var(--spacing-5);margin-bottom:var(--spacing-half);}",".side-nav-item.jsx-616933984:hover{background:var(--color-control-3);}",".side-nav-item.jsx-616933984:active{background:var(--color-control-2);}",".side-nav-item-active.jsx-616933984{background:var(--color-primary-transparent-3);color:var(--color-foreground-1);}",".side-nav-item-img.jsx-616933984{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:20px;width:20px;color:var(--color-foreground-3);}",".side-nav-item-img.jsx-616933984 svg.jsx-616933984{height:100%;width:100%;}",".side-nav-item.jsx-616933984:hover .side-nav-item-img.jsx-616933984,.side-nav-item-active.jsx-616933984 .side-nav-item-img.jsx-616933984{color:var(--color-primary-1);}"]))},Kr=me.createElement;function Vr(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Vr(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Wr=function(e){var t=e.wid,n=e.pud,r=Object(vt.b)(t,n,"sidenav"),a=Object(W.a)(r,1)[0],i=a.activePanePuds,o=a.navItems,s=Object(De.e)();return Kr(Br,{activePanePuds:i,navItems:o.map((function(e){return{type:e.pluginType,pud:e.pud,onClick:function(){return s(function(e){var t=e.wid,n=e.pud,r=e.forPud;return function(e,a){a().workspace[t].plugins[n].state.activePanePuds.includes(r)?e(Xr({wid:t,pud:n,forPud:r})):e(Yr({wid:t,pud:n,forPud:r}))}}({wid:t,pud:n,forPud:e.pud}))},isActive:i.includes(e.pud),svg:e.svg,tooltip:e.tooltip,icon:e.icon}}))})};function Xr(e){var t=e.wid,n=e.pud,r=e.forPud;return function(e,a){var i=a().workspace[t].layout;e(Object(Ye.cb)(qr({property:void 0,wid:t},qe.j(i,r)))),e({type:"ON_SIDEPANE_CLOSE",wid:t,pud:n,forPud:r})}}function Yr(e){var t=e.wid,n=e.pud,r=e.forPud;return function(e,a){var i=a().workspace[t].layout,o=a().workspace[t].plugins[n].state.activePanePuds,s=qe.a(i,n);if(s){for(var c=qe.e(i,qe.l(s));"split"===c.type;)c=c.left;"pud"in c&&o.includes(c.pud)&&e(Xr({wid:t,pud:n,forPud:c.pud})),i=a().workspace[t].layout;var l=a().workspace[t].plugins[n].state.savedPos;e(Object(Ye.cb)(qr({property:void 0,wid:t},qe.h(i,r,"leftOf",qe.l(s),{position:l})))),e({type:"ON_SIDEPANE_OPEN",wid:t,activePanePud:r})}}}function Qr(e,t,n){switch(n.type){case Ye.x:return function(e){var t=e.wid,n=e.pud,r=e.paneType;return function(e,a){var i=a().workspace[t].plugins[n].state.navItems,o=!0,s=!1,c=void 0;try{for(var l,u=Tn()(i);!(o=(l=u.next()).done);o=!0){var d=l.value;if(d.pluginType===r)return void e(Yr({wid:t,pud:n,forPud:d.pud}))}}catch(p){s=!0,c=p}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}}}({wid:e,pud:t,paneType:n.paneType});case"SET_SPLIT_POSITION":return function(e){var t=e.wid,n=e.pud,r=e.position,a=e.path;return 0===r?function(e,r){var i=r().workspace[t],o=i.layout,s=i.plugins[n].state,c=qe.e(o,a);"left"in c&&"pud"in c.left&&s.activePanePuds.includes(c.left.pud)&&e(Xr({wid:t,pud:n,forPud:c.left.pud}))}:100===r?function(e,r){var i=r().workspace[t],o=i.layout,s=i.plugins[n].state,c=qe.e(o,a);"right"in c&&"pud"in c.right&&s.activePanePuds.includes(c.right.pud)&&e(Xr({wid:t,pud:n,forPud:c.right.pud}))}:function(e,i){var o=i().workspace[t],s=o.layout,c=o.plugins[n].state,l=qe.e(s,a);"left"in l&&"pud"in l.left&&c.activePanePuds.includes(l.left.pud)&&e({type:"SET_SAVED_POSITION",position:r,pud:n,wid:t})}}({wid:e,pud:t,position:n.position,path:n.path});default:return null}}function Jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{navItems:[],activePanePuds:[],savedPos:15},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return qr({},e,{},t.initialState);case"PLUGIN_CLOSED":var n=t.closedPud;return qr({},e,{activePanePuds:e.activePanePuds.filter((function(e){return e!==n}))});case"ON_SIDEPANE_CLOSE":var r=t.forPud;return qr({},e,{activePanePuds:e.activePanePuds.filter((function(e){return e!==r}))});case"ON_SIDEPANE_OPEN":return e.activePanePuds.includes(t.activePanePud)?e:qr({},e,{activePanePuds:[].concat(Object(Hr.a)(e.activePanePuds),[t.activePanePud])});case"SET_SAVED_POSITION":return qr({},e,{savedPos:t.position});case"ADD_SIDE_NAV_ITEM":if(e.navItems.some((function(e){return e.pud===t.navItem.pud})))return e;if("index"in t){if(t.index>e.navItems.length)throw new Error("Sidenav index out of range");return qr({},e,{navItems:[].concat(Object(Hr.a)(e.navItems.slice(0,t.index)),[t.navItem],Object(Hr.a)(e.navItems.slice(t.index)))})}return qr({},e,{navItems:[].concat(Object(Hr.a)(e.navItems),[t.navItem])});default:return e}}var Zr=n("gdra"),$r=n("F0TY"),ea=n("2+X6"),ta=n.n(ea);class na extends me.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=be.a.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=ta()(this.osTarget(),this.props.options||{},this.props.extensions),ra(this._osInstance,this.props.className)}componentWillUnmount(){ta.a.valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){ta.a.valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&ra(this._osInstance,this.props.className))}render(){const e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(this.props,["options","extensions","children","className"]);return be.a.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),be.a.createElement("div",{className:"os-resize-observer-host"}),be.a.createElement("div",{className:"os-padding"},be.a.createElement("div",{className:"os-viewport"},be.a.createElement("div",{className:"os-content"},this.props.children))),be.a.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},be.a.createElement("div",{className:"os-scrollbar-track"},be.a.createElement("div",{className:"os-scrollbar-handle"}))),be.a.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},be.a.createElement("div",{className:"os-scrollbar-track"},be.a.createElement("div",{className:"os-scrollbar-handle"}))),be.a.createElement("div",{className:"os-scrollbar-corner"}))}}function ra(e,t){if(ta.a.valid(e)){const{host:n}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),a=n.className.split(" ").filter(e=>e.match(r)).join(" ");n.className=`${a} ${t||""}`}}var aa=n("VhAj"),ia=n("yEu1"),oa=n("9CwF"),sa=n("I7/E"),ca=me.createElement,la=function(e){var t=e.wid,n=e.language,r=e.tabIndex,a=e.filePath,i=e.onClick,o=e.onClose,s=e.isActiveFile,c=Object(sa.a)().session,l=Object(Rn.a)({item:{type:oa.a.FileHeaderTab,path:a,isFolder:!1}}),u=Object(W.a)(l,2)[1],d=Object(An.a)({accept:[oa.a.FileNode,oa.a.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver()&&!n}},drop:function(e){if(e&&!e.isFolder){var i=e.path;i!==a&&(c.openFile(i,{tabIndex:r}),Object(Ke.track)(Ke.events.FILE_HEADER_TAB_REPLACED,{wid:t,language:n,tabIndex:r}))}}}),p=Object(W.a)(d,2),f=p[0],m=p[1],b=function(e,t){return e?"var(--color-background-1)":t?"var(--color-control-3)":"var(--color-background-3)"}(s,f.isOver);return ca("div",{ref:function(e){u(e),m(e)},onClick:i,className:le.a.dynamic([["3549191041",[b,s?"var(--color-foreground-1)":"var(--color-foreground-2)",s?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",s?"auto":"var(--color-background-2)"]]])+" "+(nt()("file-header-tab",{first:0===r})||"")},ca("span",{className:le.a.dynamic([["3549191041",[b,s?"var(--color-foreground-1)":"var(--color-foreground-2)",s?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",s?"auto":"var(--color-background-2)"]]])+" file-path"},a),ca(ht.a,{className:"close-file-button",size:"small",border:!1,filled:!1,Icon:gn.a,onClick:o}),ca(le.a,{id:"3549191041",dynamic:[b,s?"var(--color-foreground-1)":"var(--color-foreground-2)",s?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",s?"auto":"var(--color-background-2)"]},[".file-header-tab.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 var(--spacing-3);cursor:pointer;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;background-color:".concat(b,";color:").concat(s?"var(--color-foreground-1)":"var(--color-foreground-2)",";box-shadow:").concat(s?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",";min-width:var(--spacing-10);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-top-right-radius:var(--border-radius-1);border-top-left-radius:var(--border-radius-1);}"),".sidenav-closed .file-header-tab.first{border-top-left-radius:0px;}",".close-file-button{opacity:0;position:absolute;right:var(--spacing-half);padding:2px !important;color:var(--color-foreground-2) !important;}",".file-header-tab.__jsx-style-dynamic-selector:hover{background-color:".concat(s?"auto":"var(--color-background-2)",";}"),".file-header-tab.__jsx-style-dynamic-selector:hover .file-path{color:var(--color-foreground-1);}",".file-header-tab.__jsx-style-dynamic-selector:hover .close-file-button{opacity:1;}",".close-file-button:hover{color:var(--color-foreground-1) !important;}",".file-path.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);}"]))},ua=function(e){var t=e.text;return ca("div",{className:"jsx-396960526 empty"},ca($t.a,{size:"small",foreground:2},t),ca(le.a,{id:"396960526"},[".empty.jsx-396960526{background-color:var(--color-background-1);height:100%;min-width:var(--spacing-10);padding:var(--spacing-1) var(--spacing-2);border-top-right-radius:var(--border-radius-1);border-top-left-radius:var(--border-radius-1);}"]))},da=n("NveQ"),pa=n("peJk"),fa=n("VcNk"),ma=me.createElement,ba=function(e){var t,n,r=e.style,a=e.wid,i=e.pud,o=Object(gr.f)(),s=Object(De.e)(),c=Object(_t.a)(),l=Object(sa.a)().session,u=Object(pa.a)().openFiles,d=Object(fa.a)(),p=Object(vt.b)(a,i,"fileheader"),f=Object(W.a)(p,1)[0].dirs,m=Object(at.Xc)({variables:{replId:c}}).data,b="Repl"===(null===m||void 0===m?void 0:m.repl.__typename)?m.repl.language:"",g=Object(De.f)((function(e){var t=Object(vt.a)(e,a,i,"fileheader").filestatus;if(!d||!b)return!0;var n=t[d];return n===Ze.a.Unloaded||n===Ze.a.Loading})),h=!g&&d&&Object(aa.a)(d,b)?ma("div",{"aria-label":"auto-format","data-microtip-position":"left",role:"tooltip"},ma(ia.a,{onClick:function(){return s({type:"FORMAT_FILE",wid:a,filePath:d,language:b})}})):null,v=u.map((function(e,t){return ma(la,{wid:a,language:b,filePath:e,tabIndex:t,key:t,onClick:function(){e!==d&&l.openFile(e)},onClose:function(e){e.stopPropagation(),l.closeTab(t),Object(Ke.track)(Ke.events.FILE_HEADER_TAB_CLOSED,{wid:a,language:b})},isActiveFile:e===d})})),x=me.useRef(null),w=null===(t=x.current)||void 0===t?void 0:t.osInstance(),y=me.useRef(0),k=me.useRef(0),j=Object(An.a)({accept:[oa.a.FileNode,oa.a.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver({shallow:!0})&&!n}},canDrop:function(e){return!e.isFolder},drop:function(e,t){if(e&&!e.isFolder&&!t.didDrop()){var n=u.length;l.openFile(e.path,{tabIndex:n}),Object(Ke.track)(Ke.events.FILE_HEADER_TAB_REPLACED,{wid:a,language:b,tabIndex:n})}}}),E=Object(W.a)(j,2),O=E[0],_=E[1],N="replitLight"===o?"os-theme-dark":"os-theme-light",S=(null===(n=f[""])||void 0===n?void 0:n.loaded)?"No files open":"Loading files...";return ma("div",{ref:_,style:r,className:le.a.dynamic([["2007309390",[O.isOver?"var(--color-control-3)":"var(--color-background-3)",O.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" file-header"},ma(na,{className:N,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave"}},onWheel:function(e){if(w&&0!==e.deltaY&&0===e.deltaX){var t=e.deltaY<0?-1:1,n=k.current!==t?w.scroll().position.x:y.current,r=25*t,a=w.scroll().max.x;y.current=Math.max(0,Math.min(a,n-r)),k.current=t;window.requestAnimationFrame((function e(){if(w){var t=w.scroll().position.x,n=y.current-t,r=Math.round(t+n/10);0!==n&&(w.scroll({x:r}),window.requestAnimationFrame(e))}}))}},ref:x},ma("div",{className:le.a.dynamic([["2007309390",[O.isOver?"var(--color-control-3)":"var(--color-background-3)",O.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" file-header-name"},v.length>0?v:ma(ua,{text:S}))),g&&ma("div",{className:le.a.dynamic([["2007309390",[O.isOver?"var(--color-control-3)":"var(--color-background-3)",O.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" loading-wrapper"},ma("div",{className:le.a.dynamic([["2007309390",[O.isOver?"var(--color-control-3)":"var(--color-background-3)",O.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" file-header-loading-bar"})),v.length>0&&h,ma(le.a,{id:"2007309390",dynamic:[O.isOver?"var(--color-control-3)":"var(--color-background-3)",O.isOver?"var(--color-control-3)":"var(--color-background-3)"]},[".file-header.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:48px;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:".concat(O.isOver?"var(--color-control-3)":"var(--color-background-3)",";border-top-right-radius:var(--border-radius-1);border-top-left-radius:var(--border-radius-1);}"),".file-header.__jsx-style-dynamic-selector .os-host{height:100%;-webkit-flex:auto;-ms-flex:auto;flex:auto;min-width:0;}",".os-content-glue{height:50px !important;}",".file-header.__jsx-style-dynamic-selector .os-scrollbar-handle{max-width:300px;}",".file-header-name.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;background-color:".concat(O.isOver?"var(--color-control-3)":"var(--color-background-3)",";color:var(--color-foreground-2);font-size:var(--font-size-desktop-text-small);height:100%;text-align:center;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}"),".loading-wrapper.__jsx-style-dynamic-selector{position:absolute;bottom:0;left:0;right:0;height:2px;overflow:hidden;}",".file-header-loading-bar.__jsx-style-dynamic-selector{width:40px;height:2px;position:absolute;bottom:0;left:0;background:var(--color-control-3);-webkit-animation:loading-bar-move-__jsx-style-dynamic-selector 2.5s ease-in-out 0s infinite;animation:loading-bar-move-__jsx-style-dynamic-selector 2.5s ease-in-out 0s infinite;-webkit-animation-fill-mode:forward;animation-fill-mode:forward;}","@-webkit-keyframes loading-bar-move-__jsx-style-dynamic-selector{0%{left:-7%;}100%{left:105%;}}","@keyframes loading-bar-move-__jsx-style-dynamic-selector{0%{left:-7%;}100%{left:105%;}}"]))},ga=Object(Qe.a)({dirs:da.a,filestatus:Ze.b}),ha=n("GnjG"),va=n("9/5/"),xa=n.n(va),wa=n("gfZM"),ya=n("EQ2k"),ka=n("uLgn"),ja=n("dI/k"),Ea=n("FzLU"),Oa=n("yz3v"),_a=n("LOQN"),Na=me.createElement,Sa=function(e){function t(){return Object(Q.a)(this,t),Object(Z.a)(this,Object($.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object(gr.b)(Object(gr.c)());this._eventSubscriber=new _a.a,this.editor=this.props.ace.edit(this.node),this.editor.setTheme(t),this.editor.renderer.setHScrollBarAlwaysVisible(!1),this.editor.setShowPrintMargin(!1),this._eventSubscriber.listen(this.editor,"change",(function(t){e.props.onChange&&e.props.onChange(t,e.editor)})),this.props.onSessionChange&&this._eventSubscriber.listen(this.editor,"changeSession",(function(t){e.props.onSessionChange(t)})),this.editor.commands.addCommand({name:"run",bindKey:{win:"Ctrl-Return",mac:"Command-Return",sebder:"editor"},exec:function(){return e.props.onRun()}});var n=this.props.keyboardHandler,r=n?"ace/keyboard/".concat(n):null;this.editor.setKeyboardHandler(r),this.editor.setOptions({fontSize:this.props.fontSize,useSoftTabs:this.props.indentIsSpaces,tabSize:this.props.indentSize,wrap:this.props.wrapping,theme:t,readOnly:!!this.props.readOnly,enableBasicAutocompletion:this.props.codeIntelligence,enableLiveAutocompletion:this.props.codeIntelligence,newLineMode:"unix",fontFamily:"'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace",scrollPastEnd:.5});var a=this.props,i=a.value,o=a.mode,s=a.editorSession;if(s)s.getValue()!==i&&s.setValue(i),this.editor.setSession(s);else{var c=this.createNewSession({value:i,mode:o});this.editor.setSession(c)}this.props.annotations&&this.props.annotations.length&&this.editor.getSession().setAnnotations(this.props.annotations),this.props.noFocus||this.editor.focus(),/\r\n|\r/.test(i)&&Object(Ke.track)(Ke.events.FILE_VALUE_CONTAINS_CARRIAGE_RETURN,{}),this.removeMarkers=[],this.props.registerEditor(this.editor)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.mode,r=e.value,a=void 0===r?"":r,i=e.fontSize,o=e.indentIsSpaces,s=e.indentSize,c=e.keyboardHandler,l=e.wrapping,u=e.codeIntelligence,d=e.readOnly,p=e.dimensions,f=e.annotations,m=e.highlightLines,b=e.editorSession;if(this.editor){if(b)b!==this.editor.getSession()&&(this.editor.setSession(b),this.editor.focus());else{var g=this.createNewSession({mode:n,value:a});this.editor.setSession(g),this.editor.focus()}var h=this.editor.getSession();if(n!==this.props.mode&&Ca(h,n),i!==this.props.fontSize&&this.editor.renderer.setOption("fontSize",i),o!==this.props.indentIsSpaces&&h.setOption("useSoftTabs",o),s!==this.props.indentSize&&h.setOption("tabSize",s),c!==this.props.keyboardHandler){var v=c?"ace/keyboard/".concat(c):null;this.editor.setKeyboardHandler(v)}if(l!==this.props.wrapping&&h.setOption("wrap",l),u!==this.props.codeIntelligence&&this.editor.setOptions({enableBasicAutocompletion:u,enableLiveAutocompletion:u}),"".concat(p.w.px,".").concat(p.w.pc,".").concat(p.h.px,".").concat(p.h.pc)!=="".concat(this.props.dimensions.w.px,".").concat(this.props.dimensions.w.pc,".").concat(this.props.dimensions.h.px,".").concat(this.props.dimensions.h.pc)&&this.editor.resize(),d!==this.props.readOnly&&this.editor.setReadOnly(d),f!==this.props.annotations&&(h.clearAnnotations(),f&&f.length&&h.setAnnotations(f)),m!==this.props.highlightLines){for(var x=this.props.ace.require("ace/range").Range;this.removeMarkers.length;)this.removeMarkers.pop()();if(m){var w=!0,y=!1,k=void 0;try{for(var j,E=function(){var e=j.value,n=new x(e.row,0,e.row,1),r=h.addMarker(n,e.className,"fullLine");t.removeMarkers.push((function(){return h.removeMarker(r)})),h.addGutterDecoration(e.row,"".concat(e.className,"-gutter")),t.removeMarkers.push((function(){return h.removeGutterDecoration(e.row,"".concat(e.className,"-gutter"))}))},O=Tn()(m);!(w=(j=O.next()).done);w=!0)E()}catch(_){y=!0,k=_}finally{try{w||null==O.return||O.return()}finally{if(y)throw k}}}}}}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this._eventSubscriber.destroy();var e=this.props.ace.require("ace/edit_session").EditSession;this.editor.setSession(new e("")),this.editor.destroy(),this.props.registerEditor(null)}},{key:"createNewSession",value:function(e){var t=e.value,n=e.mode,r=new(0,this.props.ace.require("ace/edit_session").EditSession)(t||"");return r.setOptions(this.editor.session.getOptions()),Ca(r,n),r.setUndoManager(new(this.props.ace.require("ace/undomanager").UndoManager)),r}},{key:"render",value:function(){var e=this,t=Na("div",{ref:function(t){t&&(e.node=t)},style:{position:"relative",height:"100%"}});return Na("div",{style:{position:"relative",minHeight:"60px",height:"100%"},className:"jsx-4044061986"},t,Na(gr.a,{onChange:function(t){e.editor&&e.editor.renderer.setOption("theme",Object(gr.b)(t))}}),Na(le.a,{id:"4044061986"},[".ace_mobile-menu{display:none !important;}",".ace_content{background-color:var(--color-background-1) !important;}",".ace_gutter{background-color:var(--color-background-1) !important;}",".ace-cursor{min-width:2px;position:absolute;z-index:1000;}",".ace-cursor>span{position:relative;top:-100%;padding:4px;}"]))}}]),t}(me.Component);function Ca(e,t){t&&t.match(/php$/)?e.setMode({path:"ace/mode/php",inline:!0}):t&&t.match(/basic(?:-v\d+)?$/)?e.setMode("ace/mode/basic-v".concat(ka.basic)):e.setMode(t)}Sa.defaultProps={indentIsSpaces:!0,indentSize:2};var Ta,Ia,Ra,Aa=Sa,Pa=n("zoC5"),La=n("lixr"),Da=n("hKI/"),Ma=n.n(Da),Fa=me.createElement;function Ua(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Ua(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Ga,Ba={clj:"ace/mode/clojure",hs:"ace/mode/haskell",kt:"ace/mode/kotlin",fth:"ace/mode/forth",js:"ace/mode/replit-js-v".concat(ka["replit-js"]),jsx:"ace/mode/replit-js-v".concat(ka["replit-js"]),coffee:"ace/mode/coffee",sc:"ace/mode/scheme",lua:"ace/mode/lua",py:"ace/mode/replit-python-v".concat(ka["replit-python"]),rb:"ace/mode/ruby",php:"ace/mode/php",go:"ace/mode/golang",java:"ace/mode/java",cpp:"ace/mode/c_cpp",hpp:"ace/mode/c_cpp",c:"ace/mode/c_cpp",h:"ace/mode/c_cpp",cs:"ace/mode/csharp",html:"ace/mode/html",css:"ace/mode/css",rs:"ace/mode/rust",swift:"ace/mode/swift",bas:"ace/mode/basic-v".concat(ka.basic)},za=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state.ace,r=n.activeLine,a=n.sessionHandle,i=n.readonly,o=n.filePath,s=n.annotations,c=n.runstate,l=n.preferences,u=n.files,d=n.repl,p=n.lite,f=u[o],m=d.language;return{value:f&&f.loaded?wa.a.from(u[o].content).toString():"",static:!f||!f.loaded,sessionHandle:a,language:m,readonly:i,filePath:o,preferences:l,annotations:s,activeLine:r,runstate:c,lite:p}}),(function(e){return Object(ye.b)({evalProject:Ye.U,setSession:qa,lintCode:Ye.W,trackWsEvent:Ye.bb,showExamples:Va,otOp:Ka,registerEditorHandle:Wa},e)}))((Ra=Ia=function(e){function t(e){var n;return Object(Q.a)(this,t),(n=Object(Z.a)(this,Object($.a)(t).call(this,e))).throttledTypedEvent=Ma()((function(){return n.props.trackWsEvent({wid:n.props.wid,eventKey:"WS_TYPED"})}),6e4),n.onChange=function(e){if(!n.editor.editor.getSession().__externalChange){var t=n.props,r=t.filePath,a=t.wid,i=n.props.value.split("\n"),o=function(e,t){for(var n=0,r=Math.min(e.row,t.length),a=0;a<r;++a)n+=t[a].length+1;return n+e.column}(e.start,i),s=[];o>0&&s.push(o);var c=e.lines.join("\n");"remove"===e.action?s.push({d:c.length}):s.push(c),n.props.otOp({wid:a,path:r,op:s}),n.lint(),n.throttledTypedEvent()}},n.onSessionChange=function(e){var t=e.session;if(t){var r=n.props,a=r.wid,i=r.pud;n.props.setSession({wid:a,pud:i,sessionHandle:Ea.a.getHandle(t)})}},n.lint=xa()((function(){var e=n.props,t=e.wid,r=e.filePath,a=e.language;"python3"!==a&&"python3_project"!==a||n.props.lintCode({wid:t,filePath:r,code:n.editor.editor.getValue()})}),500),n.registerEditor=function(e){var t=n.props,r=t.wid,a=t.editorHandle,i=Ea.a.get(a);i&&i.dispose(),n.props.registerEditorHandle({wid:r,editorHandle:e?Ea.a.getHandle(e):null})},n.state={static:!Ga},n}return Object(te.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.mobileEditor=!0,(Ga?q.a.resolve():Object(Me.c)("/public/ace/".concat(Oa.version,"/ace.js")).then((function(){if(!(Ga=window.ace)){var e=new Error("Failed to load ace");throw Be.c(e),e}return n.e(43).then(n.t.bind(null,"A8C4",7))})).then((function(){Ga.require("ace/language_tools")}))).then((function(){e.setState({static:!1})}))}},{key:"componentWillUnmount",value:function(){window.mobileEditor=!1}},{key:"componentWillReceiveProps",value:function(e){"running"===this.props.runstate&&"running"!==e.runstate&&this._editorRan&&(this.editor.editor.focus(),this._editorRan=!1)}},{key:"render",value:function(){var e=this;if(this.state.static||this.props.static)return null;var t=this.props.filePath,n=!1,r=Ba[Object(ja.a)(this.props.filePath)];this.props.value||t!==Re.a.getMainFileName(this.props.language)||(n=!0);var a=this.props.sessionHandle?Ea.a.get(this.props.sessionHandle):null;return Fa("div",{style:Ha({height:"100%",position:"relative"},this.props.style),className:"jsx-728821476 "+le.a.dynamic([["4041524055",[ya.a.gray70,this.props.preferences.fontSize,ya.a.blue]]])},Fa(le.a,{id:"728821476"},[".replit-debug-active-line{background:#cfedf8;position:absolute;z-index:10000;}",".replit-debug-active-line-gutter{background:#cfedf8;}"]),Fa(le.a,{id:"4041524055",dynamic:[ya.a.gray70,this.props.preferences.fontSize,ya.a.blue]},[".examples-placeholder.__jsx-style-dynamic-selector{position:absolute;z-index:1;font-family:Monaco,Menlo,'Ubuntu Mono',Consolas,source-code-pro, monospace;color:".concat(ya.a.gray70,";font-size:").concat(this.props.preferences.fontSize,"px;left:47px;right:0;top:0;pointer-events:none;overflow:hidden;}"),".examples-placeholder-link.__jsx-style-dynamic-selector{cursor:pointer;pointer-events:all;color:".concat(ya.a.blue,";-webkit-text-decoration:none;text-decoration:none;}"),".examples-placeholder-link.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:{-webkit-text-decoration:underline;text-decoration:underline;}"]),n&&Fa("div",{className:"jsx-728821476 "+le.a.dynamic([["4041524055",[ya.a.gray70,this.props.preferences.fontSize,ya.a.blue]]])+" examples-placeholder"},"Not sure what to do? Run some"," ",Fa("span",{onClick:function(){return e.props.showExamples({wid:e.props.wid,language:e.props.language})},className:"jsx-728821476 "+le.a.dynamic([["4041524055",[ya.a.gray70,this.props.preferences.fontSize,ya.a.blue]]])+" examples-placeholder-link"},"examples")," ","(start typing to dismiss)"),Fa(Aa,{ref:function(t){t&&(e.editor=t)},ace:Ga,noFocus:this.props.noFocus||this.props.lite,fontSize:this.props.preferences.fontSize,indentIsSpaces:this.props.preferences.indentIsSpaces,indentSize:this.props.preferences.indentSize,keyboardHandler:this.props.preferences.keyboardHandler,wrapping:this.props.preferences.wrapping,codeIntelligence:this.props.preferences.codeIntelligence,value:this.props.value.toString(),mode:r,onChange:this.onChange,onRun:function(){e._editorRan=!0,e.props.evalProject({wid:e.props.wid})},editorSession:a,dimensions:this.props.dimensions,readOnly:this.props.readonly,annotations:this.props.annotations,onSessionChange:this.onSessionChange,highlightLines:this.props.activeLine?[{row:this.props.activeLine-1,className:"replit-debug-active-line"}]:null,registerEditor:this.registerEditor}))}}]),t}(me.PureComponent),Ia.defaultProps={style:{},sessionHandle:null,readonly:!1},Ta=Ra))||Ta;function Ka(e){return{type:"OT_FILE_OP",wid:e.wid,path:e.path,op:e.op,changeSource:"editor"}}function Va(e){var t=e.wid,n=e.language;return Object(Ke.track)(Ke.events.LANGUAGE_EXAMPLES_VIEWED,{language:n}),{wid:t,type:Ye.J}}function qa(e){var t=e.wid,n=e.pud,r=e.sessionHandle;return{type:Ye.H,wid:t,pud:n,sessionHandle:r}}function Wa(e){var t=e.wid,n=e.editorHandle;return{type:Ye.A,wid:t,editorHandle:n}}function Xa(e,t,n){return"OT_FILE_OP"===n.type?"editor"===n.changeSource?null:function(r,a){var i=n.path,o=n.op,s=a().workspace[e].plugins[t].state.ace,c=s.filePath,l=s.sessionHandle;if(i===c&&l){var u=Ea.a.safeGet(l),d=u.getDocument();u.__externalChange=!0;var p=0,f=!0,m=!1,b=void 0;try{for(var g,h=Tn()(o);!(f=(g=h.next()).done);f=!0){var v=g.value;if("string"===typeof v)u.insert(d.indexToPosition(p,0),v),p+=v.length;else if("object"===typeof v&&"number"===typeof v.d){var x=d.indexToPosition(p,0),w=d.indexToPosition(p+v.d),y=new window.ace.Range(x.row,x.column,w.row,w.column);u.remove(y)}else"number"===typeof v&&(p+=v)}}catch(k){m=!0,b=k}finally{try{f||null==h.return||h.return()}finally{if(m)throw b}}u.__externalChange=!1}}:"FILE_LOADED"===n.type||"FILE_CACHE_HIT"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.ace,o=i.filePath,s=i.sessionHandle,c=i.files;if(n.path===o&&s){var l=Ea.a.safeGet(s),u=wa.a.from(c[o].content).toString();l.getValue()!==u&&(l.__externalChange=!0,l.setValue(u),l.__externalChange=!1)}}:n.type===Ye.E?function(e){var t=e.wid,n=e.pud,r=e.path,a=e.range;return function(e,i){var o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.ace.editorHandle;if(o===r&&s){var c=Ea.a.safeGet(s);c&&c.gotoLine&&c.gotoLine(a.startLineNumber,a.startColumn-1)}}}({wid:e,pud:t,path:n.path,range:n.range}):null}var Ya=Object(Qe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sessionHandle:null,readonly:!1,filePath:void 0,annotations:[],activeLine:null,runstate:"idle",editorHandle:null,lite:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return Ha({},e,{},t.initialState);case Ye.H:return Ha({},e,{sessionHandle:t.sessionHandle});case"MOVE_FILE":return e.filePath&&e.filePath.startsWith(t.path)?Ha({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;case Ye.s:return t.filePath!==e.filePath?e:Ha({},e,{annotations:[]});case Ye.r:return t.filePath!==e.filePath?e:Ha({},e,{annotations:t.annotations});case Ye.G:return Ha({},e,{activeLine:t.line});case"DEBUG_STACK":return Ha({},e,{activeLine:t.stack.length?t.stack[t.stack.length-1].lineno:null});case"DEBUG_ENDED":return Ha({},e,{activeLine:null});case Ye.A:return Ha({},e,{editorHandle:t.editorHandle});default:return e}},preferences:Pa.b,repl:La.b,files:Rr.a,runstate:Je.a}),Qa=n("Cg2A"),Ja=n.n(Qa),Za=n("i8i4"),$a=n("+bZ2"),ei=n("NuhN"),ti=n("pP2D"),ni=n("mU7w"),ri=n("N9ih"),ai=me.createElement;function ii(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):ii(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var si=[],ci=ni.a,li=q.a.resolve();li=Promise.all([n.e(51),n.e(36),n.e(37),n.e(129)]).then(n.bind(null,"lX4r")).then((function(e){ci=e.default}));var ui=1,di="REGISTER_MODEL_HANDLE",pi="REGISTER_STATUS_BAR_HANDLE",fi="REGISTER_KEYMODE_HANDLE",mi="SAVE_VIEW_STATE",bi="SET_ACTIVE_LINE_DECORATIONS",gi="REGISTER_ON_CHANGE_HANDLE",hi="PROMPT_FOR_FILE_STORE_VALUE",vi=!1,xi=function(e,t){return Math.round((t?1.5:1.35)*e)},wi=function(e){return 50+3*(e-8)},yi=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(Z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(a)))).handleWindowResize=Ma()((function(){var e=n.props.editorHandle,t=Ea.a.get(e);t&&t.layout&&t.layout()}),250),n.getPromptedValueModal=function(){var e=n.props,t=e.wid,r=e.pud,a=e.promptForFileStoreValue,i=e.filePath;if(!a)return null;var o=function(){n.props.respondToPromptedValue({wid:t,pud:r,accept:!1})};return ai($a.a,{hideModal:o},ai(Jt.a,{onSubmit:function(){n.props.respondToPromptedValue({wid:t,pud:r,accept:!0})},onCancel:o,hideModal:o,submitLabel:"Update content",cancelLabel:"Ignore"},ai("div",null,"File changed"),ai("div",null,'Seems like "',i,'" has changed on the remote disk, would you like to update it?')))},n.EditorComponent=ci,n.registerEditor=function(e){var t=n.props,r=t.wid,a=t.preferences,i=t.editorHandle,o=t.filePath,s=Ea.a.get(i);s&&s.dispose&&s.dispose(),n.props.registerEditorHandle({wid:r,editorHandle:e?Ea.a.getHandle(e):null}),e&&(window.monaco.editor.setTheme("replitLight"===Object(gr.c)()?"replit-light":"replit-dark"),e.updateOptions({fontSize:a.fontSize,wordWrap:a.wrapping?"on":"off",quickSuggestions:a.codeIntelligence}),e.onDidFocusEditorWidget((function(){vi=!0})),e.onDidChangeCursorSelection((function(t){if(e){var a=e.getModel();n.props.dispatch({wid:r,type:"UPDATE_FILE_CURSORS",path:o,selections:e.getSelections().map((function(e){return{position:a.getOffsetAt(e.getPosition()),selectionStart:a.getOffsetAt(e.getStartPosition()),selectionEnd:a.getOffsetAt(e.getEndPosition())}}))})}})))},n.registerStatusBarHandle=function(e){var t=n.props,r=t.wid,a=t.pud,i=t.preferences;n.props.registerStatusBarHandle({wid:r,statusBarHandle:e?Ea.a.getHandle(e):null}),e&&n.props.setupKeyboardHandler({wid:r,pud:a,keyboardHandler:i.keyboardHandler})},n.openEditor=function(e){var t=n.props,r=t.editorHandle,a=t.wid,i=t.filePath,o=t.workingDirectory,s=Ea.a.get(r);if(!s)throw new Error("Editor not registered");if(!e.resource.path.startsWith(o))return s;var c=e.resource.path.replace(o+"/","");c!==i&&n.props.openFile({wid:a,path:c});var l=oi({},s.saveViewState(),{cursorState:{inSelectionMode:e.options.selection.startLineNumber!==e.options.selection.endLineNumber||e.options.selection.startColumn!==e.options.selection.endColumn,selectionStart:{lineNumber:e.options.selection.startLineNumber,column:e.options.selection.startColumn},position:{lineNumber:e.options.selection.endLineNumber,column:e.options.selection.endColumn}}});return s.restoreViewState(l),s.revealLine(e.options.selection.startLineNumber),s},n}return Object(te.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleWindowResize),this.EditorComponent===ni.a&&li.then((function(){e.EditorComponent=ci,e.forceUpdate()}))}},{key:"componentWillReceiveProps",value:function(e){if("running"===this.props.runstate&&"running"!==!e.runstate&&this._editorRan){var t=this.props.editorHandle,n=Ea.a.get(t);n&&n.focus&&n.focus(),this._editorRan=!1}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.wid,a=t.pud,i=t.showExamplesPlaceholder,o=t.preferences,s=t.language,c=t.isMac,l=t.fileLoaded,u=t.filePath,d=t.theme,p=t.didDisconnect,f=Re.a.getDocs(s),m=this.EditorComponent;return ai("div",{style:n,className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])+" monaco-editor-plugin"},this.getPromptedValueModal(),i&&ai("div",{className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])+" examples-placeholder"},"Not sure what to do? Run some"," ",ai("span",{onClick:function(){return e.props.showExamples({wid:r,language:s})},className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])+" examples-placeholder-link"},"examples"),f&&ai("span",{className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])}," ","or"," ",ai("a",{target:"_blank",href:f,className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])+" examples-placeholder-link"},"view documentation"))," ","(start typing to dismiss)"),ai("div",{className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])+" monaco-editor-plugin-wrapper"},"md"===Object(ja.a)(u)&&ai(ti.a,{renderingMarkdown:!1,onToggle:function(t){return e.props.setPreviewMarkdown({wid:r,preview:t})}}),ai(m,{key:r+"-monaco",isMac:c,fontSize:o.fontSize,indentSize:o.indentSize,language:s,theme:d,openShell:function(){e.props.dispatch({type:"OPEN_SHELL",wid:e.props.wid})},pud:a,registerEditor:this.registerEditor,onRun:function(){e._editorRan=!0},openEditor:this.openEditor,getModelFromUri:function(t){return e.props.getModelFromUri({wid:r,pud:a,uri:t})},createAnnotation:function(t){var n=t.indexStart,r=t.indexEnd;e.props.dispatch({type:"CREATE_ANNOTATION",wid:e.props.wid,indexStart:n,indexEnd:r,path:u})},className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])})),!l&&!p&&ai(ni.a,{theme:d}),l&&this.props.editorHandle?ai("div",{ref:this.registerStatusBarHandle,className:le.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]]])+" monaco-editor-plugin-keybinds-status"}):null,ai(gr.a,{onChange:function(e){window.monaco&&window.monaco.editor.setTheme("replitLight"===e?"replit-light":"replit-dark")}}),ai(le.a,{id:"3420469638",dynamic:[o.keyboardHandler?"auto":"none",ya.a.gray70,o.fontSize,wi(o.fontSize),xi(o.fontSize,c),ya.a.blue]},[".monaco-editor-plugin.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".monaco-editor-plugin-wrapper.__jsx-style-dynamic-selector{position:relative;height:100%;width:100%;}",".monaco-editor-plugin-keybinds-status.__jsx-style-dynamic-selector{display:".concat(o.keyboardHandler?"auto":"none",";font-family:'PT Mono',monospace;font-weight:bold;background-color:var(--color-background-1);color:var(--color-foreground-1);}"),".monaco-editor-plugin-keybinds-status.__jsx-style-dynamic-selector input{outline:none;border:none;background:transparent;color:var(--color-foreground-1);font-family:'PT Mono',monospace;}",".editor-wrapper.__jsx-style-dynamic-selector{height:100%;width:100%;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:inline;-ms-flex-direction:inline;flex-direction:inline;}",".examples-placeholder.__jsx-style-dynamic-selector{position:absolute;z-index:1;font-family:Monaco,Menlo,'Ubuntu Mono',Consolas,source-code-pro, monospace;color:".concat(ya.a.gray70,";font-size:").concat(o.fontSize,"px;left:").concat(wi(o.fontSize),"px;line-height:").concat(xi(o.fontSize,c),"px;right:0;top:2px;pointer-events:none;overflow:hidden;}"),".examples-placeholder-link.__jsx-style-dynamic-selector{cursor:pointer;pointer-events:all;color:".concat(ya.a.blue,";-webkit-text-decoration:none;text-decoration:none;}"),".examples-placeholder-link.__jsx-style-dynamic-selector:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".editor-loading-overlay.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;height:100%;width:100%;background-color:var(--color-background-2);overflow:hidden;padding:30px;}",".editor-loading-overlay.__jsx-style-dynamic-selector>svg{max-width:640px;min-width:500px;height:auto;}"]))}}]),t}(me.Component);function ki(e){var t=e.wid,n=e.pud,r=e.viewState;return{type:mi,wid:t,pud:n,viewState:r}}function ji(e){var t=e.wid,n=e.keyModeHandle;return{type:fi,wid:t,keyModeHandle:n}}function Ei(e){var t=e.wid,n=e.pud,r=e.activeLine;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle,s=i.editorHandle,c=i.activeLineDecorations,l=Ea.a.get(s),u=Ea.a.get(o);if(u&&l){var d=u.deltaDecorations(c,r?[{range:new window.monaco.Range(r,1,r,1),options:{inlineClassName:"replit-monaco-editor-debugger",isWholeLine:!0}}]:[]);e({type:bi,wid:t,pud:n,decorations:d})}}}function Oi(e){var t=e.wid,r=e.pud,a=e.keyboardHandler;return function(e,i){var o=i().workspace[t].plugins[r].state.monaco,s=o.editorHandle,c=o.statusBarHandle,l=o.keyModeHandle,u=Ea.a.get(s);if(!u)throw new Error("expected editor to be loaded");var d=Za.findDOMNode(Ea.a.get(c));if(!d)throw new Error("expected statusbar to be rendered");d.textContent="";var p=Ea.a.get(l);p&&p.dispose(),null===a?e(ji({wid:t,keyModeHandle:null})):"vim"===a?Promise.all([n.e(46),n.e(36),n.e(37),n.e(128)]).then(n.t.bind(null,"iH6r",7)).then((function(n){var r=n.initVimMode(u,d);e(ji({wid:t,keyModeHandle:Ea.a.getHandle(r)}))})):"emacs"===a&&Promise.all([n.e(36),n.e(37),n.e(127)]).then(n.t.bind(null,"VrTg",7)).then((function(n){var r=new n.EmacsExtension(u);r.onDidMarkChange((function(e){d.textContent=e?"Mark Set!":"Mark Unset"})),r.onDidChangeKey((function(e){d.textContent=e})),r.start(),e(ji({wid:t,keyModeHandle:Ea.a.getHandle(r)}))}))}}function _i(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle,s=i.filePath;if(s===r||Object(ei.c)(r,s)){var c=Ea.a.get(o);c&&!c.isDisposed()&&(c.dispose(),e({type:di,wid:t,filePath:s,modelHandle:null}))}}}function Ni(e){var t=e.wid,n=e.pud,r=e.activeFile;return function(e,a){var i=a().workspace[t].plugins,o=i[n].state.monaco,s=o.filePath,c=o.viewState,l=o.modelHandle,u=o.editorHandle,d=o.lite,p=o.files;if(s===r){var f=Ea.a.get(u);if(f){var m=Ea.a.get(l);if(m){for(var b=0,g=K()(i);b<g.length;b++){var h=g[b],v=i[h];if("editor"===v.type){var x=Ea.a.get(v.state.monaco.modelHandle);if(x&&f.getModel()===x){e(ki({wid:t,pud:h,viewState:f.saveViewState()}));break}}}f.setModel(m),f.restoreViewState(c);var w=p[s]&&p[s].loaded;f.updateOptions({readOnly:!w}),d&&!vi||setTimeout((function(){return f.focus()}))}}}}}function Si(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.plugins,o=a.activeFile,s=i[n].state.monaco,c=s.filePath,l=s.modelHandle,u=s.editorHandle,d=s.preferences,p=s.files,f=s.externalCursors,m=s.repl,b=s.workingDirectory;if(Ea.a.get(u)){var g=Ea.a.get(l);if(!g||g.isDisposed()){var h="";p[c]&&(h=p[c].content);var v=wa.a.from(h).toString(),x=window.monaco.Uri.from({scheme:"file",path:"".concat(b,"/").concat(c)}),w=window.monaco.editor.getModel(x);w&&w.dispose();var y=Re.a.get(m.language),k=null,j=Object(ja.a)(c);["ts","tsx"].includes(j)?k=y.hasLanguageServer&&"ts"===y.ext?"replit-ts":"typescript":"js"===j&&(k="nodejs"===m.language?"replit-js-v".concat(ka["replit-js"]):"javascript"),(w=window.monaco.editor.createModel(v,k,x)).setEOL(0);var E=Ma()((function(){return e(Object(Ye.bb)({wid:t,eventKey:"WS_TYPED"}))}),6e4),O=w.getValue(),_=w.onDidChangeContent((function(a){var i=a.changes;if(w.__externalChange)O=w.getValue();else{var o=!0,s=!1,c=void 0;try{for(var l,u=Tn()(i);!(o=(l=u.next()).done);o=!0){var d=l.value,p=r().workspace[t].plugins[n].state.monaco,f=p.files,m=p.filePath,b=wa.a.from(f[m].content).toString(),g=[],h=0;if(d.rangeOffset>0){for(var v=O.slice(0,d.rangeOffset).split(w.getEOL()),x=0;x<v.length&&(h+=v[x].length,x!==v.length-1);x++){h+="\r\n"===b.slice(h,h+2)?2:1}g.push(h)}if(d.rangeLength>0){for(var y=O.slice(d.rangeOffset,d.rangeOffset+d.rangeLength).split(w.getEOL()),k=h,j=0;j<y.length&&(h+=y[j].length,j!==y.length-1);j++){h+="\r\n"===b.slice(h,h+2)?2:1}g.push({d:h-k})}d.text&&g.push(d.text),Ai({monacoChanges:i,changeIndex:i.indexOf(d),filePath:m,fileContent:b,monacoContent:w.getValue(),prevMonacoValue:O,ops:g}),E(),e({wid:t,type:"OT_FILE_OP",op:g,path:m,changeSource:"editor"}),O=O.slice(0,d.rangeOffset)+d.text+O.slice(d.rangeOffset+d.rangeLength)}}catch(_){s=!0,c=_}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}O!==w.getValue()&&Be.m((function(e){e.setExtras({monacoChanges:i,prevValue:O,monacoContent:w.getValue()}),Be.c(new Error("Expected prevValue to match model.getValue"))}))}})),N=w.dispose.bind(w);w.dispose=function(){_.dispose(),N()},w.updateOptions({insertSpaces:d.indentIsSpaces,tabSize:d.indentSize});var S=Ea.a.getHandle(w);e({type:di,wid:t,filePath:c,modelHandle:S}),o===c&&e(Ni({wid:t,pud:n,activeFile:o}));for(var C=0,T=ae()(f);C<T.length;C++){var I=T[C];e(Ii({wid:t,pud:n,path:c,cursor:I}))}return w}o===c&&e(Ni({wid:t,pud:n,activeFile:o}))}}}function Ci(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle;i.filePath===r&&o&&e({type:hi,wid:t,pud:n,promptForFileStoreValue:!0})}}var Ti={};function Ii(e){var t=e.wid,n=e.pud,r=e.cursor,a=e.path;return function(e,i){var o=i().workspace[t].plugins[n].state.monaco,s=o.modelHandle;if(o.filePath===a&&s){var c=Ea.a.safeGet(s);c._replit_cursorDecorations=c._replit_cursorDecorations||{};var l=c._replit_cursorDecorations,u=c.getPositionAt(r.position),d=l[r.id]||[],p=r.user.name,f=[{range:window.monaco.Range.fromPositions(u),options:{className:"cursor-"+p.replace(/_/g,"-"),hoverMessage:{value:p,isTrusted:!1},stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}],m=Ti[p],b=Ja()()-m,g=!m||b>3e4||b<2e3;if(g&&(f.push({range:window.monaco.Range.fromPositions(u),options:{className:"cursor-tag-"+p.replace(/_/g,"-"),stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}),(!m||b>3e4)&&(Ti[p]=Ja()())),r.selectionStart===r.position&&r.selectionEnd===r.position||f.push({range:window.monaco.Range.fromPositions(c.getPositionAt(r.selectionStart),c.getPositionAt(r.selectionEnd)),options:{className:"selection-"+p.replace(/_/g,"-"),stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}),c._replit_cursorDecorations[r.id]=c.deltaDecorations(d,f),g){var h=c._replit_cursorDecorations[r.id][1];setTimeout((function(){c.isDisposed()||c.deltaDecorations([h],[])}),2e3)}}}}function Ri(e,t,n){return n.type===Ye.I||n.type===Ye.L?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.monaco.editorHandle,i=Ea.a.get(a);i&&i.layout&&(i.layout(),setTimeout((function(){return i.layout()}),50))}}({wid:e,pud:t}):"UPDATE_WORKING_DIRECTORY"===n.type?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.plugins,o=a.activeFile,s=i[n].state.monaco,c=s.editorHandle,l=s.modelHandle,u=s.filePath,d=s.workingDirectory,p=Ea.a.get(c),f=Ea.a.get(l);if(f&&p&&f.uri.path.replace(new RegExp("/".concat(u,"$")),"")!==d){o===u&&e(ki({wid:t,pud:n,viewState:p.saveViewState()}));var m=f._commandManager;f.dispose(),e({type:di,wid:t,filePath:u,modelHandle:null});var b=e(Si({wid:t,pud:n}))._commandManager;b.currentOpenStackElement=m.currentOpenStackElement,b.past=m.past,b.future=m.future}}}({wid:e,pud:t}):n.type===Ye.P?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.monaco.filePath;e(_i({wid:t,pud:n,path:a}))}}({wid:e,pud:t}):n.type===Ye.B?Si({wid:e,pud:t}):"OPEN_FILE"===n.type?Ni({wid:e,pud:t,activeFile:n.path}):"FILE_LOADED"===n.type||"FILE_CACHE_HIT"===n.type?function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,c=o[n].state.monaco,l=c.editorHandle,u=c.modelHandle,d=c.filePath,p=c.files;if(r===d){var f=Ea.a.get(u);if(f){f.__externalChange=!0,f.applyEdits([{forceMoveMarkers:!1,range:f.getFullModelRange(),text:wa.a.from(p[d].content).toString("utf8")}]),f.__externalChange=!1;var m=Ea.a.get(l);m&&d===s&&(m.setSelection({startColumn:1,startLineNumber:1,endColumn:1,endLineNumber:1}),m.updateOptions({readOnly:!1}))}}}}({wid:e,pud:t,path:n.path}):"FILE_UNLOAD"===n.type?function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,c=o[n].state.monaco,l=c.editorHandle,u=c.modelHandle,d=c.filePath;if(r===d){var p=Ea.a.get(u);if(p){if(p._replit_cursorDecorations&&K()(p._replit_cursorDecorations).length)for(var f=0,m=K()(p._replit_cursorDecorations);f<m.length;f++){var b=m[f];p.deltaDecorations(p._replit_cursorDecorations[b],[]),delete p._replit_cursorDecorations[b]}e(Si({wid:t,pud:n}));var g=Ea.a.get(l);g&&d===s&&(g.setSelection({startColumn:1,startLineNumber:1,endColumn:1,endLineNumber:1}),g.updateOptions({readOnly:!0}))}}}}({wid:e,pud:t,path:n.path}):"OT_FILE_OP"===n.type?"editor"===n.changeSource?function(r,a){a().workspace[e].plugins[t].state.monaco.filePath===n.path&&r(oi({},n,{type:"MONACO_CONFIRM_OT"}))}:"goval"===n.changeSource?Ci({wid:e,pud:t,path:n.path}):function(e){var t=e.wid,n=e.pud,r=e.path,a=e.op;return function(e,i){var o=i().workspace[t].plugins[n].state.monaco,s=o.filePath,c=o.modelHandle,l=o.filesSnapshot;if(s===r&&c){var u=wa.a.from(l[s].content).toString(),d=Ea.a.safeGet(c),p=Object(Hr.a)(a),f=0,m=0;for(d.__externalChange=!0;p.length>0;){var b=p.shift();if("number"===typeof b){var g=u.slice(m,m+b).split(/\r\n/g).length-1;m+=b,f+=b-g}else if("object"===typeof b){var h=d.getPositionAt(f),v=u.slice(m,m+b.d).split(/\r\n/g).length-1,x=d.getPositionAt(f+b.d-v);d.applyEdits([{range:new window.monaco.Range(h.lineNumber,h.column,x.lineNumber,x.column),text:"",forceMoveMarkers:!0}]),u=u.slice(0,m)+u.slice(m+b.d)}else{if("string"!==typeof b)throw new Error("Unexpected TextOp");var w=d.getPositionAt(f);d.applyEdits([{range:new window.monaco.Range(w.lineNumber,w.column,w.lineNumber,w.column),text:b,forceMoveMarkers:!0}]),u=u.slice(0,m)+b+u.slice(m),m+=b.length;var y=b.split(/\r\n/g).length-1;f+=b.length-y}}d.__externalChange=!1,e({type:"MONACO_CONFIRM_OT",wid:t,pud:n,path:r,op:a})}}}({wid:e,pud:t,path:n.path,op:n.op}):"ADD_FILE_CURSOR"===n.type?Ii(oi({wid:e,pud:t},n)):"REMOVE_FILE_CURSOR"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.monaco,o=i.modelHandle,s=i.filePath,c=n.id;if(s===n.path&&o){var l=Ea.a.safeGet(o);l._replit_cursorDecorations&&l._replit_cursorDecorations[c]&&(l.deltaDecorations(l._replit_cursorDecorations[c],[]),delete l._replit_cursorDecorations[c])}}:"DELETE_FILE"===n.type?_i({wid:e,pud:t,path:n.path}):"MOVE_FILE"===n.type?function(e){var t=e.wid,n=e.pud,r=e.to;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,c=o[n].state.monaco,l=c.editorHandle,u=c.modelHandle,d=c.filePath;if(!d.startsWith(r)){var p=Ea.a.get(l),f=Ea.a.get(u);if(f&&p){s===d&&e(ki({wid:t,pud:n,viewState:p.saveViewState()}));var m=f._commandManager;f.dispose(),e({type:di,wid:t,filePath:d,modelHandle:null});var b=e(Si({wid:t,pud:n}))._commandManager;b.currentOpenStackElement=m.currentOpenStackElement,b.past=m.past,b.future=m.future}}}}({wid:e,pud:t,to:n.to}):n.type===Ye.M?function(e){var t=e.wid,n=e.pud,r=e.updates;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,c=o[n].state.monaco,l=c.modelHandle,u=c.editorHandle,d=c.filePath,p=c.preferences,f=Ea.a.get(u),m=Ea.a.get(l);m&&f&&(void 0===r.indentIsSpaces&&void 0===r.indentSize||m.updateOptions({insertSpaces:p.indentIsSpaces,tabSize:p.indentSize}),d===s&&(void 0===r.fontSize&&void 0===r.wrapping&&void 0===r.codeIntelligence||f.updateOptions({fontSize:p.fontSize,wordWrap:p.wrapping?"on":"off",quickSuggestions:p.codeIntelligence}),void 0!==r.keyboardHandler&&e(Oi({wid:t,pud:n,keyboardHandler:r.keyboardHandler}))))}}({wid:e,pud:t,updates:n.updates}):n.type===Ye.G?Ei({wid:e,pud:t,activeLine:n.line}):n.type===Ye.E?function(e){var t=e.wid,n=e.pud,r=e.path,a=e.range;return function(e,i){var o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.monaco,c=s.modelHandle,l=s.editorHandle,u=Ea.a.get(l);Ea.a.get(c)&&u&&r===o&&(u.focus(),u.setSelection(a),u.revealRangeInCenterIfOutsideViewport(a))}}({wid:e,pud:t,path:n.path,range:n.range}):"SELECT_EDITOR_POSITION"===n.type?function(e){var t=e.wid,n=e.pud,r=e.path,a=e.position;return function(e,i){var o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.monaco,c=s.modelHandle,l=s.editorHandle,u=Ea.a.get(l);Ea.a.get(c)&&u&&r===o&&(u.focus(),u.setPosition(a),u.revealPositionInCenterIfOutsideViewport(a))}}({wid:e,pud:t,path:n.path,position:n.position}):n.type===Ye.v?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.plugins,o=a.activeFile,s=i[n].state.monaco,c=s.filePath,l=s.editorHandle;if(o===c){var u=Ea.a.get(l);u&&u.getAction("editor.action.formatDocument").run()}}}({wid:e,pud:t}):"DEBUG_STACK"===n.type?Ei({wid:e,pud:t,activeLine:n.stack.length?n.stack[n.stack.length-1].lineno:null}):"DEBUG_ENDED"===n.type?Ei({wid:e,pud:t,activeLine:null}):"EVAL_SETUP"===n.type||n.type===Ye.m?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.activeFile;a.plugins[n].state.monaco.filePath===i&&si.forEach((function(e){return e.flush()}))}}({wid:e,pud:t}):"DOWNLOAD_FILE_CONTENT_SUCCESS"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.monaco.peekDefinitionResolvers;if(i[n.path]){var o=window.monaco.Uri.from({scheme:"file",path:n.path}),s=window.monaco.editor.getModel(o);s||(s=window.monaco.editor.createModel(n.content.toString(),null,o)),r({type:"REGISTER_PEEK_DEFINITION_RESOLVER",path:n.path,resolver:null}),i[n.path].resolve({model:s,shouldDispose:!0})}}:"DOWNLOAD_FILE_CONTENT_FAILURE"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.monaco.peekDefinitionResolvers;i[n.path]&&(i[n.path].reject(n.error),r({type:"REGISTER_PEEK_DEFINITION_RESOLVER",path:n.path,resolver:null}))}:null}function Ai(e){var t=e.monacoChanges,n=e.changeIndex,r=e.filePath,a=e.fileContent,i=e.monacoContent,o=e.prevMonacoValue,s=e.ops,c=!1,l=a,u=0,d=!0,p=!1,f=void 0;try{for(var m,b=Tn()(s);!(d=(m=b.next()).done);d=!0){var g=m.value;if("string"===typeof g)l=l.slice(0,u)+g+l.slice(u),u+=g.length;else if("object"===typeof g&&"number"===typeof g.d)u+g.d>l.length&&(c=!0),l=l.slice(0,u)+l.slice(u+g.d);else if("number"===typeof g&&(u+=g)>l.length){c=!0;break}}}catch(h){p=!0,f=h}finally{try{d||null==b.return||b.return()}finally{if(p)throw f}}c&&Be.m((function(e){e.setExtras({filePath:r,currentContent:se()(a),monacoContent:se()(i),prevMonacoValue:se()(o),monacoChanges:se()(t),changeIndex:n,ops:se()(s)}),Be.c(new Error("Bad ot op :("))}))}var Pi=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.monaco,a=n.isMac,i=r.filePath,o=r.editorHandle,s=r.runstate,c=r.promptForFileStoreValue,l=r.preferences,u=r.theme,d=r.repl,p=r.files,f=r.workingDirectory,m=r.didDisconnect,b=p[i]&&p[i].loaded,g=d.language,h=Re.a.getMainFileName(g),v=Boolean(p[i]&&p[i].content&&wa.a.from(p[i].content).length);return{workingDirectory:f,showExamplesPlaceholder:b&&!v&&i===h,filePath:i,editorHandle:o,language:g,preferences:l,theme:u,runstate:s,isMac:a,fileLoaded:p[i]&&p[i].loaded,promptForFileStoreValue:c,didDisconnect:m}}),{trackWsEvent:Ye.bb,registerEditorHandle:function(e){var t=e.wid,n=e.editorHandle;return{type:Ye.B,wid:t,editorHandle:n}},registerStatusBarHandle:function(e){var t=e.wid,n=e.statusBarHandle;return{type:pi,wid:t,statusBarHandle:n}},setupKeyboardHandler:Oi,showExamples:function(e){var t=e.wid,n=e.language;return Object(Ke.track)(Ke.events.LANGUAGE_EXAMPLES_VIEWED,{language:n}),{wid:t,type:Ye.J}},openFile:Ye.Y,getModelFromUri:function(e){var t=e.wid,n=e.pud,r=e.uri;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.files,s=i.workingDirectory,c=decodeURIComponent(r.path.replace(new RegExp("^".concat(s,"/")),"")),l=window.monaco.editor.getModel(r);return l?o[c]&&o[c].loaded?q.a.resolve({model:l,shouldDispose:!1}):q.a.resolve({model:l,shouldDispose:!0}):new q.a((function(a,i){e({type:"REGISTER_PEEK_DEFINITION_RESOLVER",wid:t,pud:n,path:r.path,resolver:{resolve:a,reject:i}}),e({type:"DOWNLOAD_FILE_CONTENT_REQUEST",wid:t,path:r.path})}))}},respondToPromptedValue:function(e){var t=e.wid,n=e.pud,r=e.accept;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle,s=i.editorHandle,c=i.promptForFileStoreValue,l=i.files,u=i.filePath;if(c&&o&&s){var d=Ea.a.safeGet(s),p=Ea.a.safeGet(o);e({type:hi,wid:t,pud:n,promptForFileStoreValue:!1});var f=wa.a.from(l[u].content).toString();if(r){Object(Ke.track)(Ke.events.REMOTE_FILE_CHANGE_ACCEPTED,{wid:t});var m=p.getFullModelRange(),b=[];d.getModel()===p&&(b=d.getSelections()),p.__externalChange=!0,p.pushEditOperations(b,[{forceMoveMarkers:!1,range:m,text:f}],(function(){return null})),p.__externalChange=!1}else{Object(Ke.track)(Ke.events.REMOTE_FILE_CHANGE_IGNORED,{wid:t});var g=p.getValue(ui);e({type:"OT_FILE_OP",wid:t,op:[{d:f.length},g],path:u,changeSource:"editor"})}}}},promptNewValue:Ci,setPreviewMarkdown:function(e){return{type:"SET_PREVIEW_MARKDOWN",wid:e.wid,preview:e.preview}}})(yi),Li=Object(Qe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filePath:void 0,modelHandle:null,editorHandle:null,onChangeHandle:null,viewState:null,runstate:"idle",activeLineDecorations:[],promptForFileStoreValue:!1,peekDefinitionResolvers:{},lite:!1,externalCursors:{},language:null,didDisconnect:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return oi({},e,{},t.initialState);case"REGISTER_ON_SELECTION_CHANGE_HANDLE":return oi({},e,{onSelectionChangeHandle:t.onSelectionChangeHandle});case"MOVE_FILE":return e.filePath&&e.filePath.startsWith(t.path)?oi({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;case di:return t.filePath!==e.filePath?e:oi({},e,{modelHandle:t.modelHandle});case gi:return oi({},e,{onChangeHandle:t.onChangeHandle});case mi:return oi({},e,{viewState:t.viewState});case Ye.B:return oi({},e,{editorHandle:t.editorHandle});case pi:return oi({},e,{statusBarHandle:t.statusBarHandle});case fi:return oi({},e,{keyModeHandle:t.keyModeHandle});case"FILE_LOADED":return oi({},e,{didDisconnect:!1});case"LOADING_GOVAL_STARTED":return oi({},e,{didDisconnect:!0});case bi:return oi({},e,{activeLineDecorations:t.decorations});case hi:return oi({},e,{promptForFileStoreValue:t.promptForFileStoreValue});case"REGISTER_PEEK_DEFINITION_RESOLVER":return oi({},e,{peekDefinitionResolvers:oi({},e.peekDefinitionResolvers,Object(ne.a)({},t.path,t.resolver))});case"ADD_FILE_CURSOR":return t.path!==e.filePath?e:oi({},e,{externalCursors:oi({},e.externalCursors,Object(ne.a)({},t.cursor.id,t.cursor))});case"REMOVE_FILE_CURSOR":if(t.path!==e.filePath)return e;var n=oi({},e.externalCursors);return delete n[t.id],oi({},e,{externalCursors:n});case"FILE_UNLOAD":return oi({},e,{externalCursors:{}});default:return e}},preferences:Pa.b,files:Rr.a,repl:La.b,workingDirectory:ri.b,runstate:Je.a,filesSnapshot:function(e,t){return"OT_FILE_OP"===t.type?e:Object(Rr.a)(e,oi({},t,{type:"MONACO_CONFIRM_OT"===t.type?"OT_FILE_OP":t.type,changeSource:"editor"}))}}),Di=me.createElement;function Mi(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fi=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.filePath,a=n.isMobile;return{noFocus:n.noFocus,isMonaco:!("ontouchstart"in window||window.DocumentTouch&&window.document instanceof window.document.DocumentTouch)&&!r.endsWith(".sqlite3")&&!r.endsWith(".wasm")&&!a}}))((function(e){return e.isMonaco?Di(Pi,e):Di(za,e)}));function Ui(e,t,n){var r=Ri(e,t,n)||function(){},a=Xa(e,t,n)||function(){};return Object(ha.a)(r,a)}var Hi,Gi=Object(Qe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filePath:null,isMac:!1,isMobile:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return t.initialState;case"MOVE_FILE":return e.filePath.startsWith(t.path)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Mi(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;default:return e}},monaco:Li,ace:Ya}),Bi=n("Hl1s"),zi=n("8axe"),Ki=n("imBe"),Vi=n("dwEI"),qi=n("eLmX"),Wi=n("nazz"),Xi=n("Vb+v"),Yi=n("fZNO"),Qi=n("DUJV"),Ji=me.createElement;function Zi(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Zi(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var eo=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.files,a=n.debugging;return $i({},Object(Xe.a)(n,["files","debugging"]),{debugging:a,allowDebugger:1===K()(r).filter((function(e){return"py"===Object(ja.a)(e)})).length||a})}),(function(e){return Object(ye.b)({startDebug:no,stopEval:Ye.ab,resume:ro,stepOver:ao,stepInto:io,stepOut:oo,setActiveLine:to},e)}))(Hi=function(e){function t(){var e,n;Object(Q.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(Z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(a)))).state={showTour:!1},n.handleSawTour=function(){var e;n.setState({showTour:!1}),e="debugger_start",Object(Me.d)("/data/tours/seen",{name:e})},n}return Object(te.a)(t,e),Object(J.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e="debugger_start",Object(Me.b)("/data/tours/".concat(e))).then((function(e){var n=e.seen;return t.setState({showTour:!n})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.stack,a=t.activeLine,i=t.wid,o=t.pud,s=t.allowDebugger,c=t.debugging;if(!s)return Ji("div",{style:n,className:"jsx-2112841350"},"Debugging is disabled because you're in"," ",Ji("a",{href:"https://docs.repl.it/repls/files",className:"jsx-2112841350"},"project-mode.")," If you'd like us to support debugger for project mode"," ",Ji("a",{href:"https://repl.it/feedback/p/debug-mode-project-mode",target:"_blank",className:"jsx-2112841350"},"let us know here"),Ji(le.a,{id:"2112841350"},["div.jsx-2112841350{padding:50px 20px;background:var(--color-background-1);color:var(--color-foreground-1);line-height:1.2;font-size:14px;}"]));var l={left:30,top:30};if(this.state.showTour&&!c&&this.debuggerStart){var u=this.debuggerStart.getBoundingClientRect();l={left:u.right,top:u.top/2}}return Ji("div",{style:n,className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-wrapper"},Ji("div",{ref:function(t){return e.debuggerStart=t},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-header"},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-heading"},"Debug"),c?Ji("div",{onClick:function(){return e.props.stopEval({wid:i})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-stop"},Ji(qi.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var--color-foreground-1)"})):Ji("div",{onClick:function(){return e.props.startDebug({wid:i,pud:o})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-start"},Ji(Vi.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var--color-foreground-1)"})),this.state.showTour&&!c&&Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-start-tour"},Ji(Ft,{arrowPosition:"left",sawTour:this.handleSawTour},"Click here to start debugging"))),Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-toolbar"},Ji(Ki.a,{position:"bottom"},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-toolbar-tooltip"},"resume"),Ji("div",{onClick:function(){return e.props.resume({wid:i})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" "+(nt()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!c})||"")},Ji(Wi.a,null))),Ji(Ki.a,{position:"bottom"},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-toolbar-tooltip"},"step over"),Ji("div",{onClick:function(){return e.props.stepOver({wid:i})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" "+(nt()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!c})||"")},Ji(Xi.a,null))),Ji(Ki.a,{position:"bottom"},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-toolbar-tooltip"},"step into"),Ji("div",{onClick:function(){return e.props.stepInto({wid:i})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" "+(nt()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!c})||"")},Ji(Yi.a,null))),Ji(Ki.a,{position:"bottom"},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-toolbar-tooltip"},"step out"),Ji("div",{onClick:function(){return e.props.stepOut({wid:i})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" "+(nt()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!c})||"")},Ji(Qi.a,null)))),Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-stack-heading"},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-stack-cell"},"function"),Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-stack-cell"},"line #")),r.slice().reverse().map((function(t,n){var r=a===t.lineno;return Ji("div",{key:"frame-".concat(n),onClick:function(){return e.props.setActiveLine({wid:i,line:t.lineno})},className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" "+(nt()("debugger-stack-row",{"debugger-stack-row-active":r})||"")},Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-stack-cell"},t.functionName),Ji("div",{className:le.a.dynamic([["1152295779",[ya.a.black,l.left,l.top]]])+" debugger-stack-cell"},t.lineno))})),Ji(le.a,{id:"1152295779",dynamic:[ya.a.black,l.left,l.top]},[".debugger-wrapper.__jsx-style-dynamic-selector{color:".concat(ya.a.black,";background:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}"),".debugger-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".debugger-heading.__jsx-style-dynamic-selector{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".debugger-start.__jsx-style-dynamic-selector,.debugger-stop.__jsx-style-dynamic-selector{height:24px;width:24px;color:var(--color-foreground-2);cursor:pointer;margin-right:10px;position:relative;}",".debugger-start.__jsx-style-dynamic-selector:hover,.debugger-stop.__jsx-style-dynamic-selector:hover{color:#78af87;}",".debugger-start-tour.__jsx-style-dynamic-selector{position:fixed;left:".concat(l.left,"px;top:").concat(l.top,"px;max-width:180px;z-index:99;}"),".debugger-toolbar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:45px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--color-background-2);color:var(--color-foreground-1);border-top:1px solid var(--color-background-3);padding:0 24px;}",".debugger-toolbar-tooltip.__jsx-style-dynamic-selector{padding:5px !important;}",".debugger-toolbar-button.__jsx-style-dynamic-selector{height:26px;width:26px;cursor:pointer;}",".debugger-toolbar-button.__jsx-style-dynamic-selector:hover{color:var(-color-primary-3);}",".debugger-toolbar-button-disabled.__jsx-style-dynamic-selector{opacity:0.5;cursor:not-allowed;}",".debugger-stack-heading.__jsx-style-dynamic-selector{color:var(--color-foreground-1);background-color:var(--color-background-1);line-height:0;}",".debugger-stack-row.__jsx-style-dynamic-selector{cursor:pointer;line-height:0;}",".debugger-stack-row-active.__jsx-style-dynamic-selector{background-color:#cfedf8;}",".debugger-stack-cell.__jsx-style-dynamic-selector{display:inline-block;width:50%;height:32px;line-height:32px;padding-left:29px;font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}"]))}}]),t}(me.PureComponent))||Hi;function to(e){var t=e.wid,n=e.line;return{type:Ye.G,wid:t,line:n}}function no(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.files,i=K()(a).find((function(e){return"py"===Object(ja.a)(e)})),o=wa.a.from(a[i].content).toString();e({type:Ye.g,wid:t,code:o})}}function ro(e){var t=e.wid;return{type:Ye.c,wid:t}}function ao(e){var t=e.wid;return{type:Ye.f,wid:t}}function io(e){var t=e.wid;return{type:Ye.d,wid:t}}function oo(e){var t=e.wid;return{type:Ye.e,wid:t}}var so,co,lo,uo=Object(Qe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stack:[],activeLine:null,debugging:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return $i({},e,{},t.initialState);case Ye.j:return $i({},e,{debugging:!0});case Ye.h:case"EVAL_ENDED":return $i({},e,{stack:[],activeLine:null,debugging:!1});case Ye.G:return $i({},e,{activeLine:t.line});case Ye.i:return $i({},e,{stack:t.stack,activeLine:t.stack.length?t.stack[t.stack.length-1].lineno:null});default:return e}},files:Rr.a}),po=n("RrDl"),fo=n("Bmc4"),mo=me.createElement,bo=function(){return mo("div",{className:"jsx-2650750789 help-container"},mo(le.a,{id:"2650750789"},[".help-container.jsx-2650750789{height:80vh;width:80vw;max-width:1200px;overflow-y:auto;font-size:16px;line-height:23px;color:var(--color-foreground-1);}",".help-left-col.jsx-2650750789{width:50%;float:left;padding-bottom:40px;padding-top:30px;}",".help-header.jsx-2650750789{text-align:center;font-size:120%;color:var(--color-foreground-1);margin-bottom:20px;}",".help-question.jsx-2650750789{font-weight:bold;margin-left:40px;margin-right:40px;}",".help-answer.jsx-2650750789{margin-left:40px;margin-right:40px;margin-top:5px;margin-bottom:20px;}",".help-right-col.jsx-2650750789{width:50%;float:right;padding-top:30px;}",".help-right-col-content.jsx-2650750789{margin-left:40px;margin-right:40px;margin:auto;}",".help-shortcut.jsx-2650750789{width:8em;text-align:right;display:inline-block;line-height:40px;margin-right:5px;}",".help-kbd.jsx-2650750789{padding:2px 4px;background:#333;border:1px transparent solid;border-radius:2px;color:#fff;text-shadow:0px 1px 2px rgba(0,0,0,1);}",".help-options.jsx-2650750789{display:inline-block;background-image:url('/public/images/settings_gear.png');height:17px;width:17px;background-size:contain;background-position:center;background-repeat:no-repeat;vertical-align:middle;}",".help-run.jsx-2650750789{display:inline-block;vertical-align:middle;background-size:contain;background-repeat:no-repeat;height:13px;width:12.5px;background-image:url('/public/images/run.svg');}",".help-link.jsx-2650750789{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}",".help-link.jsx-2650750789:hover,.help-link.jsx-2650750789:active,.help-link.jsx-2650750789:focus{-webkit-text-decoration:underline;text-decoration:underline;}",".help-code.jsx-2650750789,.help-doc.jsx-2650750789{margin:10px 0;}","code.jsx-2650750789{background-color:var(--color-background-2);color:var(--color-foreground-1);padding:3px;border-radius:2px;}"]),mo("div",{className:"jsx-2650750789 help-left-col"},mo("div",{className:"jsx-2650750789 help-header"},"FAQ"),mo("div",{className:"jsx-2650750789 help-question"},"Q. What is repl.it?"),mo("div",{className:"jsx-2650750789 help-answer"},"repl.it is a simple yet powerful online compiler, IDE, interpreter and interactive environment for programming languages. The name comes from the"," ",mo(go,{href:"http://en.wikipedia.org/wiki/REPL"},"read-eval-print loop"),", the interactive toplevel used by languages like Lisp and Python."),mo("div",{className:"jsx-2650750789 help-question"},"Q. How do I start?"),mo("div",{className:"jsx-2650750789 help-answer"},"Once you have"," ",mo(kt.a,{href:"/languages"},mo("a",{className:"jsx-2650750789 help-link"},"selected a language")),", type some code into the editor on the left, then click on the run"," ",mo("span",{className:"jsx-2650750789 help-run"})," button at the top. Alternatively, you can type an expression into the console on the right side of the screen and then hit Enter. Your expression will be evaluated and its result will be printed. Repeat until satisfied."),mo("div",{className:"jsx-2650750789 help-question"},"Q. Can I save my session?"),mo("div",{className:"jsx-2650750789 help-answer"},'Yes! You can save your session (which we call a "repl") and share it with others on our community,'," ",mo(go,{href:"/talk"},"Repl Talk"),". Both the editor's content and the repl will be preserved and can be executed once again using the created link to continue from where you left off."),mo("div",{className:"jsx-2650750789 help-question"},"Q. Can I write files?"),mo("div",{className:"jsx-2650750789 help-answer"},"Yes! You can do all sorts of things with files. You can add split up your code into multiple modules, you can read and write data to files, you can even generate images and plots."),mo("div",{className:"jsx-2650750789 help-question"},"Q. Can I use repl.it on my phone or tablet?")," ",mo("div",{className:"jsx-2650750789 help-answer"},"Yes! As a web application, repl.it can be used on any device that has a modern web browser."),mo("div",{className:"jsx-2650750789 help-question"},"Q. How does repl.it work?"),mo("div",{className:"jsx-2650750789 help-answer"},"For most languages, code is sent to our servers where it will be executed in a secure sandbox. The result is then sent back and rendered on the website. However, some of our interpreters can run directly in your browser without going to the server."),mo("div",{className:"jsx-2650750789 help-question"},"Q. Can I Embed Repl.it?"),mo("div",{className:"jsx-2650750789 help-answer"},"Yes! Read the"," ",mo("a",{target:"_blank",href:"/site/docs/repls/embed",className:"jsx-2650750789"},"instructions")," ","on our docs."),mo("div",{className:"jsx-2650750789 help-question"},"Q. Can I clear the console programmatically?"),mo("div",{className:"jsx-2650750789 help-answer"},"In most languages, we support ANSI Escape Sequences, so you can clear the screen by printing the sequence ",mo("code",{className:"jsx-2650750789"},"\\033[2J")," to the console. Read more on escape sequences"," ",mo("a",{href:"http://www.isthe.com/chongo/tech/comp/ansi_escapes.html",target:"blank",className:"jsx-2650750789"},"here"),"."),mo("div",{className:"jsx-2650750789 help-question"},"Q. What languages does repl.it support?"),mo("div",{className:"jsx-2650750789 help-answer"},"We support over 60 languages. Find them all on our"," ",mo(go,{href:"/languages"},"Languages")," page.")),mo("div",{className:"jsx-2650750789 help-right-col"},mo("div",{className:"jsx-2650750789 help-header"},"Docs"),mo("div",{className:"jsx-2650750789 help-right-col-content"},mo("div",{className:"jsx-2650750789"},"Visit our ",mo(go,{href:"/site/docs"},"docs page")," ","for more helpful documentation.")),mo("div",{className:"jsx-2650750789 help-right-col-content"},mo("div",{style:{marginTop:"20px"},className:"jsx-2650750789 help-header"},"Commonly Accessed Documentation"),mo("div",{className:"jsx-2650750789 help-doc"},mo(go,{href:"/site/docs/repls/packages"},"Importing Packages")),mo("div",{className:"jsx-2650750789 help-doc"},mo(go,{href:"/site/docs/repls/secret-keys"},"Using API keys / secrets / env files")),mo("div",{className:"jsx-2650750789 help-doc"},mo(go,{href:"/site/docs/repls/web-hosting"},"Web Hosting")),mo("div",{className:"jsx-2650750789 help-doc"},mo(go,{href:"/site/docs/repls/http-servers"},"Deploying a Web Server")),mo("div",{className:"jsx-2650750789 help-doc"},mo(go,{href:"/site/docs/repls/python-plots"},"Generating Plots in Python"))),mo("div",{style:{marginTop:"20px"},className:"jsx-2650750789 help-header"},"Editor Shortcuts"),mo("div",{className:"jsx-2650750789 help-doc"},mo(go,{href:"https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-shortcuts-reference"},"For a full list of editor shortcuts, please click here"))))},go=function(e){var t=e.href,n=e.children;return mo("a",{href:t,target:"_blank"},n)},ho=n("kfub"),vo=n("YuJD"),xo=me.createElement,wo=function(e){var t=e.toggleFAQ,n=e.toggleMenu,r=e.toggleShortcuts;return xo("div",{className:"jsx-630086888 menu-container"},xo("div",{onClick:t,className:"jsx-630086888 help-item"},"What is Repl.it?"),xo("a",{href:"/talk",onClick:n,target:"_blank",className:"jsx-630086888"},xo("div",{className:"jsx-630086888 help-item"},"Ask the community for help")),xo("div",{onClick:r,className:"jsx-630086888 help-item shortcuts"},"Workspace shortcuts"," ",xo("div",{className:"jsx-630086888 keybindings"},xo("kbd",{className:"jsx-630086888"},vo.a.cmdOrCtrlKey),xo("kbd",{className:"jsx-630086888"},vo.c?"k":"."))),xo(le.a,{id:"630086888"},[".menu-container.jsx-630086888{position:absolute;left:0px;bottom:48px;min-width:235px;padding:var(--spacing-half);border:1px solid var(--color-control-2);background-color:var(--color-background-1);color:var(--color-foreground-1);font-size:var(--font-size-desktop-text-small);border-radius:var(--border-radius-1);outline:0;list-style:none;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".help-item.jsx-630086888{color:var(--color-foreground-1);padding:var(--spacing-1);margin:var(--spacing-half);border-radius:var(--border-radius-1);font-weight:var(--font-weight-regular);font-family:var(--font-family-sans-serif);}",".help-item.jsx-630086888:hover{background-color:var(--color-control-3);}",".help-item.shortcuts.jsx-630086888{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".keybindings.jsx-630086888{margin-left:4px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}","kbd.jsx-630086888{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:1.2em;height:1.2em;border:1px solid #999;border-radius:2px;background:#eee;padding:1px 2px 0px 2px;color:#222;margin-right:2px;font-size:1.1em;}","a.jsx-630086888,a.jsx-630086888:visited{color:inherit;-webkit-text-decoration:none;text-decoration:none;}"]))},yo=function(e){var t=e.wid,n=me.useState(!1),r=Object(W.a)(n,2),a=r[0],i=r[1],o=me.useState(!1),s=Object(W.a)(o,2),c=s[0],l=s[1],u=me.useState(!1),d=Object(W.a)(u,2),p=d[0],f=d[1],m=Object(De.e)(),b=Object(ho.a)((function(){return i(!1)}),[i]),g=function(){p||a||(m({type:"HELP_OPENED",wid:t}),f(!0)),i(!a)};return xo("div",{ref:b,className:le.a.dynamic([["3267064227",[Ae.BREAKPOINTS.mobileMax+100]]])+" help-container"},xo("div",{onClick:g,title:"Help and shortcuts","aria-label":"Help and shortcuts","data-microtip-position":"top-right",role:"tooltip",className:le.a.dynamic([["3267064227",[Ae.BREAKPOINTS.mobileMax+100]]])+" help-button"},"?"),a&&xo(wo,{toggleFAQ:function(){return l(!0)},toggleShortcuts:function(){m({type:"TOGGLE_COMMAND_BAR",wid:t})},toggleMenu:g}),c&&xo(Ht.default,{onRequestClose:function(){return l(!1)}},xo(bo,null)),xo(le.a,{id:"3267064227",dynamic:[Ae.BREAKPOINTS.mobileMax+100]},[".help-container.__jsx-style-dynamic-selector{position:absolute;left:var(--spacing-1);bottom:var(--spacing-2);z-index:20;font-family:sans-serif;}",".help-button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:var(--font-family-sans-serif);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:var(--spacing-4);height:var(--spacing-4);font-size:var(--font-size-desktop-text-large);cursor:pointer;border-radius:100%;background-color:var(--color-background-1);color:var(--color-foreground-2);border:1px solid var(--color-control-1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0px 6px 6px rgba(0,0,0,0.1);-webkit-transition:0.2s;transition:0.2s;}",".help-button.__jsx-style-dynamic-selector:hover{background-color:var(--color-control-1);color:var(--color-foreground-1);box-shadow:0px 6px 6px rgba(0,0,0,0.15);}","@media screen and (max-width:".concat(Ae.BREAKPOINTS.mobileMax+100,"px){.help-button.__jsx-style-dynamic-selector{display:none;}}")]))},ko=n("g0FR"),jo=n("+7wc"),Eo=n("nG0Z"),Oo=n("eKMU"),_o=n("TyLv"),No=n("7okm"),So=me.createElement;function Co(e){var t=e.style,n=e.wid,r=Object(sa.a)().packager,a=Object(No.a)(),i=me.useState([]),o=Object(W.a)(i,2),s=o[0],c=o[1],l=me.useState([]),u=Object(W.a)(l,2),d=u[0],p=u[1],f=me.useState(void 0),m=Object(W.a)(f,2),b=m[0],g=m[1],h=me.useState(!1),v=Object(W.a)(h,2),x=v[0],w=v[1],y=function(){var e,t,n;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return w(!0),a.next=3,Y.a.awrap(r.listSpecfile());case 3:e=a.sent,t=e.packages,n=e.error,t&&c(t),n&&c([]),w(!1);case 9:case"end":return a.stop()}}))};me.useEffect((function(){var e=null===a||void 0===a?void 0:a.language;Object(Ke.track)(Ke.events.LIBRARIES_SEARCHED,{wid:n,language:e}),y()}),[]);var k=function(e){return s.some((function(t){var n,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}))},j=function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(Ke.track)(Ke.events.PACKAGES_SEARCHED,{query:e}),n.next=3,Y.a.awrap(r.searchPackages(e));case 3:t=n.sent,p(t);case 5:case"end":return n.stop()}}))},E=function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e&&e.name){n.next=3;break}return g(void 0),n.abrupt("return");case 3:return Object(Ke.track)(Ke.events.PACKAGES_SELECTED,{package:e.name}),w(!0),n.next=7,Y.a.awrap(r.fetchPackageInfo(e.name));case 7:t=n.sent,w(!1),g(t),0===s.length&&y();case 11:case"end":return n.stop()}}))},O=me.useState(""),_=Object(W.a)(O,2),N=_[0],S=_[1];return So("div",{style:t,className:"jsx-1295002028 libsearch"},So("div",{className:"jsx-1295002028 libsearch-header"},So("div",{className:"jsx-1295002028 libsearch-heading"},"Packages")),b?So(To,{pkg:b,isPackagerRunning:x,isAlreadyInstalled:k(b),onInstall:function(e){return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(Ke.track)(Ke.events.PACKAGES_INSTALLING,{package:e.name}),k(e)||!e.name){t.next=8;break}return w(!0),t.next=5,Y.a.awrap(r.addPackages([e.name]));case 5:return w(!1),t.next=8,Y.a.awrap(y());case 8:case"end":return t.stop()}}))},onUninstall:function(e){return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k(e)||!e.name){t.next=7;break}return w(!0),t.next=4,Y.a.awrap(r.removePackages([e.name]));case 4:return w(!0),t.next=7,Y.a.awrap(y());case 7:case"end":return t.stop()}}))},onBack:function(){return E(null)}}):So(Ro,{resetSearchState:function(){return j("")},onSearch:j,onSelectLibrary:E,libraries:d,specfilePackages:s,query:N,setQuery:S}),So(le.a,{id:"1295002028"},[".libsearch.jsx-1295002028{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".libsearch-header.jsx-1295002028{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".libsearch-heading.jsx-1295002028{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}"]))}function To(e){var t=e.pkg,n=e.isPackagerRunning,r=e.isAlreadyInstalled,a=e.onBack,i=e.onInstall,o=e.onUninstall,s=t.description||"This package has no description.";return So("div",{className:"jsx-2887066402 libsearch-details"},So("div",{onClick:a,className:"jsx-2887066402 libsearch-details-back"},So(ut.a,{size:4.5,direction:"left",color:"currentColor"})," back to search"," "),So("div",{className:"jsx-2887066402 libsearch-details-header"},So("div",{className:"jsx-2887066402 libsearch-details-libname"},t.name),So("div",{onClick:function(){n||(r?o(t):i(t))},className:"jsx-2887066402 libsearch-details-cta"},So(Io,{state:n?"working":r?"remove":"add"}))),"version"in t&&So("div",{className:"jsx-2887066402 libsearch-details-version"},"version ",t.version),So("div",{className:"jsx-2887066402 libsearch-details-description"},n&&!t.description?"loading...":s),So("div",{className:"jsx-2887066402 libsearch-details-metadata"},"homepageURL"in t&&t.homepageURL&&So("div",{className:"jsx-2887066402 details-meta-item libsearch-details-website"},So("div",{className:"jsx-2887066402 label"},"Website"),So("div",{className:"jsx-2887066402 value"},So("a",{href:t.homepageURL,rel:"noreferer noopener",target:"_blank",className:"jsx-2887066402"},t.homepageURL))),"license"in t&&t.license&&So("div",{className:"jsx-2887066402 details-meta-item libsearch-details-license"},So("div",{className:"jsx-2887066402 label"},"License"),So("div",{className:"jsx-2887066402 value"},t.license)),"author"in t&&t.author&&So("div",{className:"jsx-2887066402 details-meta-item libsearch-details-authors"},So("div",{className:"jsx-2887066402 label"},"Author"),So("div",{className:"jsx-2887066402 value"},t.author)),"dependencies"in t&&t.dependencies&&t.dependencies.length>0?So("div",{className:"jsx-2887066402 details-meta-item libsearch-details-deps"},So("div",{className:"jsx-2887066402 label"},t.dependencies.length," dependencies"),So("div",{className:"jsx-2887066402 value"},So("ul",{className:"jsx-2887066402 libsearch-details-deps-list"},t.dependencies.map((function(e){return So("li",{key:e.name||"",className:"jsx-2887066402"},e.name)}))))):null),So("div",{className:"jsx-2887066402 libsearch-details-seperator"}),So(le.a,{id:"2887066402"},[".libsearch-details.jsx-2887066402{padding:12px 15px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:auto;overflow-x:hidden;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402{cursor:pointer;margin-bottom:20px;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402:hover{color:var(--color-foreground-1);}",".libsearch-details-header.jsx-2887066402{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-bottom:18px;}",".libsearch-details-libname.jsx-2887066402{font-size:1.5em;margin:6px;margin-left:0;word-wrap:break-word;}",".libsearch-details-cta.jsx-2887066402{margin-top:calc(1.25em - 12px);height:22px;width:22px;cursor:pointer;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".libsearch-details-title.jsx-2887066402{font-size:1.4em;}",".libsearch-details-version.jsx-2887066402{color:var(--color-foreground-2);font-size:1em;margin-bottom:24px;}",".libsearch-details-description.jsx-2887066402{margin-bottom:20px;line-height:1.3em;}",".libsearch-details-metadata.jsx-2887066402:not(:empty){border-top:1px solid var(--color-control-1);padding-top:20px;}",".details-meta-item.jsx-2887066402{padding:8px 0;width:100%;}",".details-meta-item.jsx-2887066402 .label.jsx-2887066402{font-weight:bold;margin-bottom:4px;font-size:1.1em;}",".details-meta-item.jsx-2887066402 .value.jsx-2887066402{line-height:1.3em;word-wrap:break-word;color:var(--color-foreground-2);}",".libsearch-details-website.jsx-2887066402 .value.jsx-2887066402{word-wrap:break-word;overflow:hidden;}",".libsearch-details-deps-list.jsx-2887066402{list-style:none;}"]))}function Io(e){switch(e.state){case"working":return So("div",{title:"Working...",className:le.a.dynamic([["1455602669",["#78af87","#78af87"]]])+" rotato"},So(le.a,{id:"1455602669",dynamic:["#78af87","#78af87"]},["@-webkit-keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".rotato.__jsx-style-dynamic-selector{height:100%;width:100%;border-radius:50%;border-top:2px solid ".concat("#78af87",";border-right:2px solid ").concat("#78af87",";-webkit-animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;cursor:not-allowed;}")]));case"add":return So(Ki.a,{position:"left"},So("div",null,"Add package"),So("div",{style:{height:22,width:22},title:"Add package"},So(Eo.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})));default:case"remove":return So(Ki.a,{position:"left"},So("div",null,"Remove package"),So("div",{style:{height:22,width:22},title:"Remove package"},So(Oo.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})))}}function Ro(e){var t=e.resetSearchState,n=e.onSearch,r=e.onSelectLibrary,a=e.libraries,i=e.specfilePackages,o=e.query,s=e.setQuery,c=me.useState(!1),l=Object(W.a)(c,2),u=l[0],d=l[1],p=me.useState(0),f=Object(W.a)(p,2),m=f[0],b=f[1],g=me.useRef();a!==g.current&&(d(!1),b(0)),g.current=a;var h=me.useCallback(xa()(n,400),[]);var v=""===o,x=v?i:a;return So("div",{onKeyDown:function(e){function t(e){return(a.length+e)%a.length}switch(Object(_o.a)(e),e.key){case"ArrowUp":e.preventDefault(),b(t(m-1));break;case"ArrowDown":e.preventDefault(),b(t(m+1));break;case"Tab":e.shiftKey?(e.preventDefault(),b(t(m-1))):(e.preventDefault(),b(t(m+1)));break;case"Enter":e.preventDefault(),-1!==m&&a.length>0&&r(a[m])}},className:"jsx-2366923719 libsearch-search"},So("div",{className:"jsx-2366923719 libsearch-search-input"},So("input",{type:"text",placeholder:"search for a package",value:o,onChange:function(e){s(e.target.value),function(e){if(""===e.trim())return t(),void d(!1);d(!0),h(e.trim())}(e.target.value)},autoFocus:!0,className:"jsx-2366923719"}),u&&So("div",{title:"loading",className:"jsx-2366923719 libsearch-search-loading"})),0===x.length&&!u&&So("div",{className:"jsx-2366923719 libsearch-search-no-results"},v?"No packages installed":"No packages found"),v&&x.length>0&&So("div",{className:"jsx-2366923719 libsearch-installed-header"},"Installed packages"),x.length>0&&So("ul",{className:"jsx-2366923719 libsearch-search-result"},x.map((function(e,t){return So(Ao,{key:e.name||"Unknown",pkg:e,index:t,focused:m===t,onSelect:r,onMouseOver:function(){return function(e){b(e)}(t)}})}))),v&&So("div",{className:"jsx-2366923719 libsearch-bare-imports-tip"},So("div",{className:"jsx-2366923719 header"},"Packages Tip"),So("p",{className:"jsx-2366923719 packages-tip"},"If you know which packages you want to use in your repl, you can just import and use packages in your repl as if they were already installed, and new packages will be installed for you the next time you run the repl.")),So(le.a,{id:"2366923719"},[".libsearch-search.jsx-2366923719{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;color:var(--color-foreground-1);}",".libsearch-search-input.jsx-2366923719{width:100%;position:relative;}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-webkit-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-moz-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:-ms-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719{padding:12px 30px 15px 12px;font-size:1em;width:100%;border-top:none;border-right:none;border-left:none;outline:none;color:var(--color-foreground-1);background-color:var(--color-background-1);border-bottom:solid 1px var(--color-control-1);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:focus{border-color:var(--color-primary-1);}",".libsearch-search-loading.jsx-2366923719{position:absolute;top:8.5px;right:0px;width:30px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}",".libsearch-search-no-results.jsx-2366923719{font-size:15px;margin:20px auto;text-align:left;}",".libsearch-installed-header.jsx-2366923719{padding:12px;font-size:16px;}",".libsearch-search-result.jsx-2366923719{list-style:none;overflow:auto;max-height:100%;-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;}",".libsearch-bare-imports-tip.jsx-2366923719{background-color:var(--color-background-2);width:calc(100% - 20px);margin:12px auto;padding:8px 12px;line-height:1.4em;max-width:500px;}",".libsearch-bare-imports-tip.jsx-2366923719 .header.jsx-2366923719{font-weight:bold;font-size:1.1em;margin-bottom:8px;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719{line-height:1.5em;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719 p.jsx-2366923719{margin-top:8px;}",".packages-tip.jsx-2366923719{color:var(--color-foreground-2);}"]))}function Ao(e){var t=e.pkg,n=e.index,r=e.focused,a=e.onSelect,i=e.onMouseOver;return So("li",{key:t.name||"Unknown","data-index":n,onClick:function(){return a(t)},onMouseOver:i,className:"jsx-1407274871 "+((r?"libsearch-search-item libsearch-search-item-hover":"libsearch-search-item")||"")},So("div",{className:"jsx-1407274871 pkgHeader"},So("div",{className:"jsx-1407274871 pkgName"},t.name),"version"in t&&t.version&&So("div",{className:"jsx-1407274871 pkgVersion"},So("p",{className:"jsx-1407274871"},t.version))),"description"in t&&t.description&&So("div",{className:"jsx-1407274871 pkgDescription"},t.description),So(le.a,{id:"1407274871"},[".libsearch-search-item.jsx-1407274871{cursor:pointer;font-size:1em;padding:18px 12px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-2);cursor:pointer;}",".libsearch-search-item-hover.jsx-1407274871{background-color:var(--color-background-2);}",".pkgHeader.jsx-1407274871{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".pkgName.jsx-1407274871{font-weight:bold;font-size:1.1em;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".pkgVersion.jsx-1407274871{color:var(--color-foreground-2);margin-left:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;}",".pkgDescription.jsx-1407274871{margin-top:6px;font-size:1em;line-height:1.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;}"]))}var Po=me.createElement;function Lo(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Lo(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Mo=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.filePath,a=n.files[r];return{value:a&&a.loaded?wa.a.from(a.content):wa.a.from(""),filePath:r,mime:Object(ja.c)(r),fileLoaded:a&&a.loaded}}),(function(e){return Object(ye.b)({},e)}))((lo=co=function(e){function t(){return Object(Q.a)(this,t),Object(Z.a)(this,Object($.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mime,n=e.filePath,r=e.style,a=e.value,i=e.fileLoaded;if(!t)throw new Error("MediaView only supports video, audio, pdf, and images. Filepath: ".concat(n));var o,s=a.toString("base64");if(i)if(t.startsWith("video/"))o=Po("video",{src:"data:".concat(t,";base64,").concat(s),style:{maxHeight:"100%",maxWidth:"100%"},controls:!0});else if(t.startsWith("image/"))o=Po("img",{src:"data:".concat(t,";base64,").concat(s),style:{maxHeight:"100%",maxWidth:"100%"},alt:n});else if(t.startsWith("audio/")){var c=t;"audio/wave"===c&&(c="audio/wav"),o=Po("audio",{src:"data:".concat(c,";base64,").concat(s),style:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}else{if("application/pdf"!==t)throw new Error("MediaView only supports video, audio, pdf, and images. Filepath: ".concat(n));o=Po("object",{data:"data:".concat(t,";base64,").concat(s),type:"application/pdf",style:{width:"100%",height:"100%"}},Po("embed",{src:"data:".concat(t,";base64,").concat(s),type:"application/pdf",style:{width:"100%",height:"100%"}}))}else o=Po("div",null,"Loading file, please wait.");return Po("div",{style:r,className:le.a.dynamic([["4279445839",[ya.a.gray85]]])+" mediaview"},Po("div",{className:le.a.dynamic([["4279445839",[ya.a.gray85]]])+" mediaview-download"},"Some files may fail to load on the browser."," ",Po("a",{href:"data:text/plain;base64,".concat(s),download:Object(ja.b)(n),className:le.a.dynamic([["4279445839",[ya.a.gray85]]])},"Click here to download")),Po("div",{className:le.a.dynamic([["4279445839",[ya.a.gray85]]])+" mediaview-content"},o),Po(le.a,{id:"4279445839",dynamic:[ya.a.gray85]},[".mediaview.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#0e0e0e;}",".mediaview-download.__jsx-style-dynamic-selector{text-align:center;width:100%;color:".concat(ya.a.gray85,";padding:10px;}"),".mediaview-content.__jsx-style-dynamic-selector{min-height:0;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))}}]),t}(me.Component),co.defaultProps={style:{}},so=lo))||so;var Fo=Object(Qe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filePath:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye.o:return Do({},e,{},t.initialState);case"SET_MEDIA_FILE":return Do({},e,{filePath:t.filePath});case"MOVE_FILE":return e.filePath&&e.filePath.startsWith(t.path)?Do({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;default:return e}},files:Rr.a}),Uo=n("XD7X"),Ho=n("dXu1"),Go=n("mEHV"),Bo=be.a.createElement,zo=function(e){function t(){return Object(Q.a)(this,t),Object(Z.a)(this,Object($.a)(t).apply(this,arguments))}return Object(te.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return Bo("div",{style:this.props.style,className:"jsx-849216488 react-native-container"},Bo("div",{className:"jsx-849216488 react-native-content"},Bo("div",{style:{fontSize:"25px",textAlign:"center"},className:"jsx-849216488"},"\ud83d\ude14"),Bo("br",{className:"jsx-849216488"}),Bo("br",{className:"jsx-849216488"}),"We have discontinued support for React Native on repl.it to focus more on other languages that use our infrastracture. We had a good run and we're happy to have served thousands of users play with mobile apps using their favorite web IDE.",Bo("br",{className:"jsx-849216488"}),Bo("br",{className:"jsx-849216488"}),"You can checkout our"," ",Bo(kt.a,{href:"/languages"},Bo("a",{className:"jsx-849216488"},"broad list of languages.")),Bo("br",{className:"jsx-849216488"}),Bo("br",{className:"jsx-849216488"}),"For React Native you should head over to"," ",Bo("a",{href:"https://snack.expo.io/",target:"_blank",className:"jsx-849216488"},"Snack")," ","where our friends at ",Bo("a",{href:"https://expo.io/",className:"jsx-849216488"},"Expo")," have created a playground dedicated to React Native mobile development."),Bo(le.a,{id:"849216488"},[".react-native-container.jsx-849216488{font-size:17px;line-height:1.2;}",".react-native-content.jsx-849216488{max-width:800px;margin:30px auto;}"]))}}]),t}(be.a.Component),Ko=n("+Fpg"),Vo=n("liZS"),qo=n("Jkqq"),Wo=me.createElement;function Xo(e){var t=e.hideModal,n=e.replId,r=e.usersOnline,a=e.onUserClick,i=e.isOpen;return Wo(on.a,{isOpen:i,onRequestClose:t},Wo(Yo,{replId:n,onUserClick:a,usersOnline:r}))}function Yo(e){var t=e.replId,n=e.usersOnline,r=e.onUserClick,a=Object(at.fb)({variables:{replId:t}}),i=a.data,o=a.loading,s=a.error;if(o)return Wo("div",{className:"jsx-1405322551"},Wo(Qt.a,{style:{width:"50px"}}),Wo(le.a,{id:"1405322551"},[".user-list-loader.jsx-1405322551{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-height:200px;}"]));if(s)return Wo("div",null,s.message);if("Repl"===(null===i||void 0===i?void 0:i.repl.__typename)){var c=i.repl,l=c.user,u=l&&n.find((function(e){return e.username===l.username}));return Wo("div",{className:"jsx-1825929647 user-list-modal"},Wo(wn.a,{level:2},"Multiplayers"),Wo(wn.a,{level:5},"Users can interact with this repl in real time."),Wo("div",{className:"jsx-1825929647 user-list"},l?Wo(Jo,Object(R.a)({},l,{onClick:r,isOnline:Boolean(u),color:u?u.color:"transparent",isOwner:!0,type:at.J.Rw})):null,c.permissions.map((function(e){var t=e.type,a=e.user;if(!a)return null;var i=n.find((function(e){return e.username===a.username}));return Wo(Jo,Object(R.a)({onClick:r,key:"chat-user-list-".concat(a.username),type:t},a,{isOnline:n.some((function(e){return e.username===a.username})),color:i?i.color:"transparent",isOwner:!1}))}))),Wo(le.a,{id:"1825929647"},[".user-list-modal.jsx-1825929647{color:var(--color-foreground-1);padding:var(--spacing-4);display:grid;grid-template-rows:auto auto 1fr;grid-gap:var(--spacing-2);}",".user-list.jsx-1825929647{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:330px;overflow-y:auto;}"]))}return"ReplRedirect"===(null===i||void 0===i?void 0:i.repl.__typename)?Wo("div",null,"This repl has moved to"," ",Wo("a",{href:i.repl.replUrl},i.repl.replUrl)):"SubscriptionExpiredError"===(null===i||void 0===i?void 0:i.repl.__typename)?Wo("div",null,"Your subscition has expired.",Wo("a",{href:"/site/pricing"},"Upgrade here")):null}var Qo={r:"read only",rw:"can edit"};function Jo(e){var t=e.type,n=e.username,r=e.image,a=e.isOnline,i=e.isOwner,o=e.color,s=e.onClick;return Wo("div",{className:le.a.dynamic([["584706792",[o]]])+" "+(nt()("user-list-item-wrapper",{online:a})||"")},Wo("img",{src:r,className:le.a.dynamic([["584706792",[o]]])+" "+((a?"":"offline")||"")}),Wo("div",{className:le.a.dynamic([["584706792",[o]]])+" info"},Wo("div",{className:le.a.dynamic([["584706792",[o]]])},Wo("a",{href:"/@".concat(n),target:"_blank",onClick:s,className:le.a.dynamic([["584706792",[o]]])},"@",n),!a&&" (offline)"),Wo("div",{className:le.a.dynamic([["584706792",[o]]])},i?"owner":Qo[t])),Wo(le.a,{id:"584706792",dynamic:[o]},[".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-order:1;-ms-flex-order:1;order:1;}","img.__jsx-style-dynamic-selector{width:40px;height:40px;border-radius:20px;border:3px solid ".concat(o,";background:white;object-fit:cover;}"),".info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;}","img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-order:0;-ms-flex-order:0;order:0;}"]))}var Zo=me.createElement,$o=2;function es(e){var t=e.usersOnline,n=e.showModal,r=e.wid,a=e.replId,i=Object(De.e)(),o=Object(at.eb)({variables:{replId:a},fetchPolicy:"network-only"}),s=o.data,c=o.refetch,l="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)?s.repl:null,u=(null===l||void 0===l?void 0:l.user)&&t.find((function(e){var t;return e.id===(null===(t=l.user)||void 0===t?void 0:t.id)})),d=l&&l.permissions?l.permissions.map((function(e){return e.user})).filter((function(e){return e})):null,p=l&&d?d.reduce((function(e,n){var r=n&&t.find((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));return n&&r&&e.push({username:n.username,image:n.image,color:r.color}),e}),l.user&&u?[{username:l.user.username,image:l.user.image,color:u.color}]:[]):null;return me.useEffect((function(){p&&t.length>p.length&&c()}),[t,p,c]),Zo("div",{className:"jsx-2176463584 chat-roster"},p?p.slice(0,$o).map((function(e){return Zo("img",{src:e.image,title:e.username,key:e.username,style:{border:"2px solid ".concat(e.color)},className:"jsx-2176463584"})})):null,t.length>$o&&Zo("button",{onClick:n,className:"jsx-2176463584 see-all"},"+",t.length-$o),Zo("div",{className:"jsx-2176463584 online-count"},p&&d?Zo("a",{onClick:function(e){e.preventDefault(),i({type:"OPENED_MP_ROSTER",wid:r,replId:a}),n()},className:"jsx-2176463584"},"".concat(t.length,"/").concat(Math.max(t.length,d.length)," online")):"loading"),Zo(le.a,{id:"2176463584"},[".chat-roster.jsx-2176463584{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","img.jsx-2176463584{background-color:white;}","img.jsx-2176463584,.see-all.jsx-2176463584{width:36px;min-width:36px;height:36px;border-radius:20px;margin-left:-10px;}",".see-all.jsx-2176463584{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:16px;cursor:pointer;padding:0px;background-color:var(--color-background-1);color:var(--color-green-1);border:0 none;}",".see-all.jsx-2176463584:focus{outline:0 none;}",".see-all.jsx-2176463584:hover{color:var(--color-foreground-1);background-color:var(--color-green-1);}",".online-count.jsx-2176463584{margin-left:15px;white-space:nowrap;}",".online-count.jsx-2176463584 a.jsx-2176463584{color:var(--color-foreground-1);cursor:pointer;white-space:nowrap;}"]))}var ts=n("iBZX"),ns=me.createElement,rs=2500,as={join:"joined",leave:"left"},is=function(e){if(as[e.type])return as[e.type];if("message"===e.type)return e.text;throw new Error("Unknown chat message type ".concat(e.type))};var os=function(e){var t=e.expanded,n=e.messages,r=e.position,a=e.usersOnline,i=e.toggleChat,o=hr.a.replitDark,s=function(e,t){var n=me.useState([]),r=Object(W.a)(n,2),a=r[0],i=r[1],o=me.useState(null),s=Object(W.a)(o,2),c=s[0],l=s[1],u=me.useRef(a);u.current=a;var d=me.useRef(null);return me.useEffect((function(){if(null===d.current){var e=a[0];e&&(l(e),d.current=setTimeout((function(){i(u.current.slice(1)),0===u.current.length&&l(null),d.current=null}),rs))}}),[a]),me.useEffect((function(){e||t[t.length-1]&&i([].concat(Object(Hr.a)(a),[t[t.length-1]]))}),[t.length]),me.useEffect((function(){e?(i([]),d.current&&(clearTimeout(d.current),d.current=null)):(l(null),d.current=null,i([]))}),[e]),c}(t,n);if(!s||t)return null;var c=a.find((function(e){return e.username===s.username})),l=c?c.color:"transparent",u=!!as[s.type];return ns("div",{onClick:function(e){e.stopPropagation(),i()},className:le.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]]])+" message-notification"},ns(at.i,{variables:{username:s.username}},(function(e){var t=e.loading,n=e.data;return!t&&n&&n.user&&n.user.image?ns("img",{src:n.user.image,className:le.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]]])+" chat-message-picture"}):ns("div",{className:le.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]]])+" chat-message-picture"})})),ns("div",{className:le.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]]])+" message"},ns("span",{className:le.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]]])+" "+((u?"bold-text":"dimmed-text")||"")},s.username),!u&&":"," ",ns("span",{className:le.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]]])+" "+((u?"dimmed-text":"bold-text")||"")},s.parsedMessage?ns(ts.a,{message:s.parsedMessage}):is(s))),ns(le.a,{id:"2085728046",dynamic:[o.modal.background,r,o.base.foreground,rs,l,o.base.boldForeground]},[".message-notification.__jsx-style-dynamic-selector{background:".concat(o.modal.background,";border:1px solid #61429a;position:absolute;").concat(r,":60px;bottom:0;color:").concat(o.base.foreground,";border-radius:6px;padding:3px 15px;cursor:auto;max-width:250px;width:auto;height:36px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:1;-webkit-animation-name:fadepopup-__jsx-style-dynamic-selector;animation-name:fadepopup-__jsx-style-dynamic-selector;-webkit-animation-duration:").concat(rs,"ms;animation-duration:").concat(rs,"ms;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;cursor:pointer;font-size:14px;}"),".chat-message-picture.__jsx-style-dynamic-selector{min-width:24px;margin-right:10px;width:24px;border-radius:15px;border:1px solid ".concat(l,";}"),".bold-text.__jsx-style-dynamic-selector{color:".concat(o.base.boldForeground,";}"),".dimmed-text.__jsx-style-dynamic-selector{color:#808285;}",".message.__jsx-style-dynamic-selector{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}","@-webkit-keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@media (max-width:500px){.message-notification.__jsx-style-dynamic-selector{left:60px !important;right:auto !important;}}"]))},ss=me.createElement;function cs(e){var t=e.message,n=e.color,r=e.isFirstMessage,a=e.isOnline,i=t.parsedMessage?ss(ts.a,{message:t.parsedMessage}):is(t);return["join","leave"].includes(t.type)?ss(ls,{username:t.username,color:n,message:i,isOnline:a}):ss("div",null,ss("div",{className:le.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" "+(nt()("chat-message",{"first-message":r})||"")},r?ss(me.Fragment,null,ss(us,{username:t.username,isOnline:a}),ss("div",{className:le.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" content"},ss("div",{className:le.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" username"},t.username),ss("div",{className:le.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i))):ss("div",{className:le.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i),ss(le.a,{id:"2574004682",dynamic:[n,r?"0px 10px 10px 10px":"10px",n]},[".chat-message.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;border:1px solid ".concat(n,";border-radius:10px;position:relative;margin-top:5px;padding:5px 16px;border-radius:").concat(r?"0px 10px 10px 10px":"10px",";word-wrap:break-word;white-space:pre-wrap;margin-left:3px;display:inline-block;max-width:100%;}"),".chat-message.first-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(n,";position:absolute;top:-16px;left:-4px;object-fit:cover;background:white;}"),".chat-message.first-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".username.__jsx-style-dynamic-selector{color:#808285;margin:0 0 8px 25px;font-size:14px;}",".text.__jsx-style-dynamic-selector{color:var(--color-foreground-1);line-height:1.1;display:inline-block;font-size:15px;max-width:100%;}",".first-message.__jsx-style-dynamic-selector{margin-top:30px;}"])))}function ls(e){var t=e.username,n=e.message,r=e.color,a=e.isOnline;return ss("div",{className:le.a.dynamic([["2315247300",[r,r]]])+" roster-chat-message"},ss(us,{username:t,isOnline:a}),ss("div",{className:le.a.dynamic([["2315247300",[r,r]]])+" content"},ss("div",{className:le.a.dynamic([["2315247300",[r,r]]])+" username"},t),ss("div",{className:le.a.dynamic([["2315247300",[r,r]]])+" text"},n)),ss(le.a,{id:"2315247300",dynamic:[r,r]},[".roster-chat-message.__jsx-style-dynamic-selector{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".content.__jsx-style-dynamic-selector{margin-left:5px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".username.__jsx-style-dynamic-selector{display:inline;border:1px solid ".concat(r,";border-radius:15px;padding:3px 6px;min-height:15px;color:var(--color-foreground-1);font-size:14px;}"),".text.__jsx-style-dynamic-selector{margin:8px 0 0 4px;color:#808285;font-size:15px;}",".roster-chat-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(r,";background-color:var(--color-background-1);object-fit:cover;}"),".roster-chat-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}"]))}function us(e){var t=e.username,n=e.isOnline;return ss(at.i,{variables:{username:t}},(function(e){var t=e.data;return!e.loading&&t&&t.user?ss("img",{className:nt()("profile-image",{offline:!n}),src:t.user.image}):ss("img",{className:"profile-image"})}))}var ds=10,ps={borderRadius:{right:"".concat(ds,"px 0 0 ").concat(ds,"px"),left:"0 ".concat(ds,"px ").concat(ds,"px 0")},chatHeaderPadding:{right:"0 30px 0 30px",left:"0 30px 0 70px"}},fs=me.createElement,ms={right:"left",left:"right"};function bs(e){var t=e.position;return fs("div",{className:le.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" protip"},fs("span",{className:le.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])},"PROTIP:")," Click the"," ",fs("div",{className:le.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" double-arrow-example"},fs(Wt.WallArrow,{strokeWidth:1}))," ","icon to move the chat.",fs(le.a,{id:"465208952",dynamic:["left"===t?"transform: scaleX(-1);":""]},[".double-arrow-example.__jsx-style-dynamic-selector{width:12px;height:12px;display:inline-block;".concat("left"===t?"transform: scaleX(-1);":"",";}"),".empty-chat-wrapper.__jsx-style-dynamic-selector{margin-top:30px;color:var(--color-foreground-1);}",".protip.__jsx-style-dynamic-selector{padding-top:15px;color:var(--color-foreground-1);line-height:1.3em;font-size:13px;}",".protip.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{color:var(--color-positive-1);}","@media (max-width:500px){.protip.__jsx-style-dynamic-selector{display:none;}}"]))}function gs(e){var t=me.createRef(),n=me.useState(!1),r=Object(W.a)(n,2),a=r[0],i=r[1],o=me.useState(!1),s=Object(W.a)(o,2),c=s[0],l=s[1],u=function(){t.current&&!a&&(l(!0),t.current.scrollTop=t.current.scrollHeight)},d=function(){if(t.current)if(c)l(!1);else{var e=t.current.scrollHeight-(t.current.scrollTop+t.current.offsetHeight);i(!(e<50))}};return me.useEffect((function(){t.current&&(t.current.addEventListener("scroll",d),u())}),[]),me.useEffect((function(){u()}),[e.messages]),fs("div",{ref:t,className:"jsx-1850330760 multiplayer-chat-scroller"},e.children,fs(le.a,{id:"1850330760"},[".multiplayer-chat-scroller.jsx-1850330760{overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;padding-bottom:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar{background-color:var(--color-background-1);width:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}"]))}var hs=function(e){var t=me.useState(""),n=Object(W.a)(t,2),r=n[0],a=n[1],i=me.useState(!1),o=Object(W.a)(i,2),s=o[0],c=o[1],l=Object(De.e)(),u=me.createRef(),d=e.typingUsers.length>3?"Many users are typing...":function(e){switch(e.length){case 0:return"";case 1:return"".concat(e[0]," is typing...");case 2:return"".concat(e[0]," and ").concat(e[1]," are typing...");case 3:var t=e.slice(0,e.length-1);return"".concat(t.map((function(e){return"".concat(e,", ")})),"and \n        ").concat(e[e.length-1]," are typing...");default:return"Many users are typing..."}}(e.typingUsers);return fs("div",{className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" chat-component-wrapper"},fs(Xo,{isOpen:s,hideModal:function(){return c(!1)},usersOnline:e.usersOnline,replId:e.replId,onUserClick:function(){return l({type:"MP2_VISITED_PROFILE",wid:e.wid,replId:e.replId,from:"UserListModal"})}}),fs("div",{className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" chat-header"},fs(es,{usersOnline:e.usersOnline,showModal:function(){return c(!0)},replId:e.replId,wid:e.wid}),fs("div",{className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" feedback-link"},fs("a",{href:"https://repl.it/feedback/p/multiplayer-v1-feedback",target:"_blank",className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])},"feedback")),fs("div",{onClick:function(){return e.togglePosition()},className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" side-switcher"},fs(Wt.WallArrow,{strokeWidth:1})),fs("div",{onClick:function(){l({type:"CLOSE_CHAT_CLICKED",wid:e.wid,replId:e.replId}),e.closeChat()},className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" close-chat"},fs(Wt.Minimize,{strokeWidth:1}))),fs(gs,{messages:e.messages},fs("div",{className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" chat-messages-wrapper"},fs(bs,{position:e.position}),e.messages.map((function(t,n){var r=e.messages[n-1]||{username:""},a=e.usersOnline.find((function(e){return e.username===t.username}));return fs(cs,{key:"".concat(t.username,"+").concat(t.text,"+").concat(n),username:t.username,color:a?a.color:"#a7a9ac",message:t,isFirstMessage:r.username!==t.username||r.type!==t.type,isOnline:!!a})})))),fs("div",{className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" chat-typing-indicator"},d),fs("div",{className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])+" chat-input-wrapper"},fs("input",{placeholder:"Start typing here...",ref:u,onChange:function(t){var n=t.currentTarget.value;a(n),""===n?e.setTypingStatus(!1):e.setTypingStatus(!0)},onKeyDown:function(t){13===t.keyCode&&r.trim().length&&(e.sendMessage(r),a(""),e.setTypingStatus(!1))},value:r,className:le.a.dynamic([["1370561801",[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]]])})),fs(le.a,{id:"1370561801",dynamic:[ps.chatHeaderPadding[e.position],ps.borderRadius[e.position],e.position,ds-2,ds-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ps.chatHeaderPadding.left,ps.borderRadius.left]},[".chat-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;border-bottom:1px solid #61429a;height:93px;padding:".concat(ps.chatHeaderPadding[e.position],";}"),".chat-header.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{cursor:pointer;}",".chat-typing-indicator.__jsx-style-dynamic-selector{padding:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;font-size:12px;border-bottom:1px solid #61429a;}",".chat-messages-wrapper.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:0 20px;}",".chat-component-wrapper.__jsx-style-dynamic-selector{color:var(--color-foreground-1);height:80vh;max-height:400px;width:250px;background-color:var(--color-background-1);border:2px solid #61429a;border-radius:".concat(ps.borderRadius[e.position],";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-").concat(e.position,":none;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;width:calc(100% + 2px);border:none;background:transparent;border-radius:0 0 ".concat(ds-2,"px ").concat(ds-2,"px;padding:var(--spacing-2) var(--spacing-1);color:inherit;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:focus{border:0 none;outline:0;}",".feedback-link.__jsx-style-dynamic-selector{position:absolute;bottom:0;right:0;padding:5px;font-size:14px;}",".close-chat.__jsx-style-dynamic-selector,.side-switcher.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;".concat(e.position,":6px;margin-top:2px;width:18px;height:18px;border-radius:3px;cursor:pointer;color:#fff;background:rgba(121,96,169);opacity:0.8;}"),".side-switcher.__jsx-style-dynamic-selector{".concat(e.position,":30px;").concat("left"===e.position?"transform: scaleX(-1);":""," width:26px;padding:2px 6px;}"),".close-chat.__jsx-style-dynamic-selector{padding:2px 4px;}",".close-chat.__jsx-style-dynamic-selector:hover,.side-switcher.__jsx-style-dynamic-selector:hover{opacity:1;}","@media (max-width:500px){.chat-header.__jsx-style-dynamic-selector{padding:".concat(ps.chatHeaderPadding.left,";}.chat-component-wrapper.__jsx-style-dynamic-selector{border-radius:").concat(ps.borderRadius.left,";border-left:none !important;border-right:2px solid #61429a;}.side-switcher.__jsx-style-dynamic-selector{display:none;}.feedback-link.__jsx-style-dynamic-selector{right:0;left:auto;}.close-chat.__jsx-style-dynamic-selector{left:6px;right:auto;}}")]))},vs=n("sMSR");var xs=n("fA4Q"),ws=me.createElement;function ys(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):ys(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var js=function(e){var t=e.wid,n=Object(De.e)(),r=Object(sa.a)(),a=r.chat,i=r.presence,o=r.container,s=function(){var e=Object(sa.a)().container,t=Object(me.useState)(e.getConnectionState()),n=t[0],r=t[1];return Object(me.useEffect)((function(){return e.onConnectionStateChanged(r)}),[e]),n}(),c=Object(ke.useRouter)(),l=Object(Et.a)(),u=Object(De.f)((function(e){return{user:e.user.userInfo}})).user,d=me.useState(!1),p=Object(W.a)(d,2),f=p[0],m=p[1],b=me.useState("right"),g=Object(W.a)(b,2),h=g[0],v=g[1],x=me.useState([]),w=Object(W.a)(x,2),y=w[0],k=w[1],j=me.useState([]),E=Object(W.a)(j,2),O=E[0],_=E[1],N="left"===h?"72px":"var(--padding-size-large)",S=me.useState(!1),C=Object(W.a)(S,2),T=C[0],I=C[1],R=me.useRef(!1);me.useEffect((function(){R.current?I(!f):R.current=!0}),[y.length]),me.useEffect((function(){var e=a.onMessagesLoaded((function(e){var t=e.map((function(e){return ks({},e,{type:"message"})}));k(t)})),t=a.onMessageReceived((function(e){var t=e.username,n=e.text;k((function(e){return[].concat(Object(Hr.a)(e),[{username:t,text:n,type:"message"}])}));var r=o.getRepl().id;Object(vs.a)({title:t,body:n,iconByUsername:t,tag:"".concat(r,"-").concat(n),onClick:function(){return Object(Ke.track)(Ke.events.MP2_CHAT_NOTIFICATION_CLICKED)}}),Object(Ke.track)(Ke.events.MP2_CHAT_NOTIFICATION_CREATED)})),n=a.onUserTypingUpdated((function(e){var t=e.username,n=e.isTyping;_(n?function(e){return e.includes(t)?e:[].concat(Object(Hr.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})),r=i.onUserJoin((function(e){Object(Ke.track)(Ke.events.MP2_USER_JOINED,{count:l.length+1}),k((function(t){return[].concat(Object(Hr.a)(t),[{username:e.username,type:"join",text:""}])}))})),s=i.onUserLeave((function(e){k((function(t){return[].concat(Object(Hr.a)(t),[{username:e.username,type:"leave",text:""}])})),_((function(t){return t.filter((function(t){return t!==e.username}))}))}));return function(){e(),t(),n(),r(),s()}}),[]);var A=me.useMemo((function(){if(!Object(Ge.a)(u,"flag-collab-mentions"))return y;var e={replUrl:c.asPath,users:l.map((function(e){return e.username}))};return y.map((function(t){return ks({},t,{parsedMessage:"message"===t.type?Object(ts.b)(t.text,e):void 0})}))}),[y,l,u]),P=function(){m((function(e){return!e})),I(!1)};if(s!==xs.a.CONNECTED)return null;var L=o.getRepl().id;return ws("div",{style:e.style,onClick:P,className:le.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",ps.borderRadius[h],h,N,f?"ease-out":"ease-in",ms[h],h,h,ps.borderRadius.left]]])+" floating-chat-wrapper"},ws("div",{className:le.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",ps.borderRadius[h],h,N,f?"ease-out":"ease-in",ms[h],h,h,ps.borderRadius.left]]])+" "+(nt()("floating-icon-wrapper",{hidden:f})||"")},R.current&&ws(os,{expanded:f,messages:A,position:h,usersOnline:l,toggleChat:P}),ws("div",{className:le.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",ps.borderRadius[h],h,N,f?"ease-out":"ease-in",ms[h],h,h,ps.borderRadius.left]]])+" chat-icon-wrapper"},ws(Wt.Chat,null)),T&&ws("div",{className:le.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",ps.borderRadius[h],h,N,f?"ease-out":"ease-in",ms[h],h,h,ps.borderRadius.left]]])+" unread-icon"})),ws("div",{onClick:function(e){return e.stopPropagation()},className:le.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",ps.borderRadius[h],h,N,f?"ease-out":"ease-in",ms[h],h,h,ps.borderRadius.left]]])+" "+(nt()("chat-wrapper",{expanded:f})||"")},ws(hs,{typingUsers:O,messages:A,sendMessage:function(e){var n={username:u.username,text:e};a.sendMessage(n);var r=o.getRepl(),i=r?{replId:r.id,language:r.language}:{};Object(Ke.track)(Ke.events.MP2_CHAT_MESSAGE_SENT,ks({wid:t,username:u.username},i)),k((function(e){return[].concat(Object(Hr.a)(e),[ks({},n,{type:"message"})])}))},position:h,setTypingStatus:function(e){a.updateUserTyping({username:u.username,isTyping:e})},togglePosition:function(){n({type:"MP2_CHAT_CHANGED_SIDES",wid:t,replId:L,newSide:ms[h]}),v(ms[h])},replId:L,usersOnline:l,closeChat:P,wid:t})),ws(le.a,{id:"1452244742",dynamic:[h,N,f?"ease-in":"ease-out",ps.borderRadius[h],h,N,f?"ease-out":"ease-in",ms[h],h,h,ps.borderRadius.left]},[".chat-wrapper.__jsx-style-dynamic-selector{position:absolute;".concat(h,":-250px;opacity:0;bottom:").concat(N,";z-index:11;cursor:auto;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(f?"ease-in":"ease-out",";transition-timing-function:").concat(f?"ease-in":"ease-out",";}"),".chat-icon-wrapper.__jsx-style-dynamic-selector{width:32px;height:32px;padding:5px;color:#fff;}",".floating-icon-wrapper.__jsx-style-dynamic-selector{height:36px;width:50px;border-radius:".concat(ps.borderRadius[h],";position:absolute;").concat(h,":0px;bottom:").concat(N,";z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;background:linear-gradient(to right,#61419a,#52469c);opacity:1;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(f?"ease-out":"ease-in",";transition-timing-function:").concat(f?"ease-out":"ease-in",";}"),".unread-icon.__jsx-style-dynamic-selector{position:absolute;top:5px;".concat(ms[h],":12px;background:red;width:8px;height:8px;border-radius:4px;z-index:11;}"),".close.__jsx-style-dynamic-selector{padding:5px;}",".expanded.__jsx-style-dynamic-selector{".concat(h,":0px;opacity:1;}"),".hidden.__jsx-style-dynamic-selector{opacity:0;".concat(h,":-50px;}"),"@media screen and (max-width:500px){.floating-icon-wrapper.__jsx-style-dynamic-selector{left:0 !important;right:auto !important;bottom:24px;border-radius:".concat(ps.borderRadius.left,";}.unread-icon.__jsx-style-dynamic-selector{right:12px;left:auto;}.chat-wrapper.__jsx-style-dynamic-selector{left:-250px;right:auto;bottom:24px;}.expanded.__jsx-style-dynamic-selector{left:0px;right:auto;}}")]))},Es=n("MGJp"),Os=n("+Y0W"),_s=n("Hxkj"),Ns=n("nmgF");function Ss(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Ss(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Ts="fileviewercontroller";function Is(e){var t=e.wid,n=e.pud,r=e.path,a=e.editorHandle;return function(e,i){if(window["open-markdown-split"]&&"md"!==Object(ja.a)(r)){var o=i().workspace[t],s=o.layout,c=o.plugins;if(qe.b(s,c,"markdownviewer")){var l=K()(c).find((function(e){return"markdownviewer"===c[e].type}));if(!l)throw new Error("Expect a markdownviewer to be in pluginlist");e(Cs({type:"UPDATE_LAYOUT",wid:t},qe.j(s,l)))}}var u=i().workspace[t],d=u.layout,p=u.plugins,f=function(e,t){var n=qe.b(e,t,"fileheader");if(!n)throw new Error("expected to find fileHeader in layout!");return!!window["flag-windowing"]?qe.f(n):qe.l(n)}(d,p);if(!f)throw new Error("No editor mounted");var m=Object(vt.a)(i(),t,n,Ts).files[r];m&&m.loaded||e({type:"LOAD_FILE",wid:t,path:r});var b=Object(ja.h)(r)?"mediaview":"editor",g=As({plugins:p,filePath:r,pluginType:b});(g||(g=e(function(e){var t=e.wid,n=e.path,r=e.editorHandle;return function(e){var a={filePath:n};if(!Object(ja.h)(n)){var i=Object(ge.isMobile)({ua:window.navigator.userAgent,tablet:!0});a=Cs({},a,{lite:je.a.query.lite,isMobile:i,editorHandle:r})}var o=!!window["flag-windowing"],s="file-".concat(Ce()());return e({type:"LOAD_PLUGIN",wid:t,pluginPud:s,pluginType:Object(ja.h)(n)?"mediaview":"editor",title:n,initialState:a,isDraggable:o}),e({type:"LOAD_FILE",wid:t,path:n}),s}}({wid:t,path:r,editorHandle:a}))),e({type:"UPDATE_LAYOUT",wid:t,path:f,to:g,property:"pud"}),"md"===Object(ja.a)(r)&&m&&m.loaded)&&(wa.a.from(m.content).length>0&&e({type:"SET_PREVIEW_MARKDOWN",wid:t,preview:!0}))}}function Rs(e){var t=e.wid,n=e.path;return function(e,r){var a=r().workspace[t].plugins;setTimeout((function(){e({type:"UNLOAD_PLUGIN",wid:t,pud:As({plugins:a,filePath:n,pluginType:Object(ja.h)(n)?"mediaview":"editor"})})}),0)}}function As(e){for(var t=e.plugins,n=e.filePath,r=e.pluginType,a=0,i=K()(t);a<i.length;a++){var o=i[a],s=t[o],c=s.type,l=s.state;if(c===r&&(null===n||l.filePath===n))return o}return null}var Ps=Object(wr.a)(["WORKSPACE_MOUNTED","DIRECTORY_LOADED","FILE_UNLOAD","FILE_LOADED","OT_FILE_OP","OPEN_FILE","MOVE_FILE","DELETE_FILE","SET_PREVIEW_MARKDOWN","WORKSPACE_WILL_UNMOUNT","REGISTER_ACE_EDITOR_HANDLE","REGISTER_MONACO_EDITOR_HANDLE"]),Ls=Ps.receiver,Ds=Ps.useReceiver;function Ms(e){var t=e.wid,n=e.pud,r=Object(_t.a)(),a=Object(De.e)(),i=me.useState(!1),o=Object(W.a)(i,2),s=o[0],c=o[1],l=me.useState(null),u=Object(W.a)(l,2),d=u[0],p=u[1],f=Object(fa.a)();return Ds((function(e){var i=e.action;switch(i.type){case"WORKSPACE_MOUNTED":if(c(!0),!f)break;a({type:"LOAD_FILE",wid:t,path:f});break;case"DIRECTORY_LOADED":Object(Es.b)()||a(function(e){var t=e.wid,n=e.pud,r=e.replId,a=e.action,i=e.activeFile;return function(e,o){var s,c,l,u,d,p,f;return Y.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(""===a.path){m.next=2;break}return m.abrupt("return");case 2:if(!i){m.next=4;break}return m.abrupt("return");case 4:if(s=Object(vt.a)(o(),t,n,Ts),c=s.files,0!==(l=K()(c)).length){m.next=9;break}return e(Object(Os.a)({wid:t})),m.abrupt("return");case 9:return m.next=11,Y.a.awrap(Ns.a.query({query:at.o,variables:{replId:r}}));case 11:u=m.sent,d=u.data,p="Repl"===d.repl.__typename?d.repl.language:"",(f=Object(_s.a)(l,p))&&e({type:"OPEN_FILE",wid:t,path:f});case 16:case"end":return m.stop()}}))}}({wid:t,pud:n,action:i,replId:r,activeFile:f}));break;case"FILE_UNLOAD":if(!s)break;var o=i.path;a(function(e){var t=e.wid,n=e.path,r=e.activeFile;return function(e){n===r&&e({type:"LOAD_FILE",wid:t,path:r})}}({wid:t,path:o,activeFile:f}));break;case"FILE_LOADED":var l=i.path;a(function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=Object(vt.a)(a(),t,n,Ts).files[r];"md"===Object(ja.a)(r)&&i&&i.loaded&&e({type:"SET_PREVIEW_MARKDOWN",wid:t,preview:!0})}}({wid:t,pud:n,path:l}));break;case"OT_FILE_OP":var u=i.path;a(function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=Object(vt.a)(a(),t,n,Ts).files,o=a().workspace[t],s=o.layout,c=o.plugins,l=i[r];if("md"===Object(ja.a)(r)&&l&&l.loaded){var u=wa.a.from(l.content),d=qe.b(s,c,"editor");0!==u.length||d||e({type:"SET_PREVIEW_MARKDOWN",wid:t,preview:!1})}}}({wid:t,pud:n,path:u}));break;case"OPEN_FILE":var m=i.path;if(!m)break;a(Is({wid:t,pud:n,path:m,editorHandle:d}));break;case"MOVE_FILE":var b=i.path,g=i.to;f&&f.startsWith(b)&&a({type:"OPEN_FILE",wid:t,path:f.replace(b,g)}),Object(ja.h)(b)!==Object(ja.h)(g)&&a(Rs({wid:t,path:b}));break;case"DELETE_FILE":var h=i.path;a(function(e){var t=e.wid,n=e.pud,r=e.path,a=e.activeFile;return function(e,i){if(a){if(a===r||Object(ei.c)(r,a)){var o=Object(vt.a)(i(),t,n,Ts).files,s=K()(o).concat(r).sort(),c=s.indexOf(r),l=s[0===c?1:c-1];e(void 0!==l?{type:"OPEN_FILE",wid:t,path:l}:Object(Os.a)({wid:t}))}e(Rs({wid:t,path:r}))}}}({wid:t,pud:n,path:h,activeFile:f}));break;case"SET_PREVIEW_MARKDOWN":var v=i.preview.preview;a(function(e){var t=e.wid,n=e.preview,r=e.activeFile;return function(e,a){var i=a().workspace[t],o=i.layout,s=i.plugins,c=qe.b(o,s,"markdownviewer"),l=qe.b(o,s,"editor");if(!!c!==n)if(window["open-markdown-split"]){var u=K()(s).find((function(e){return"markdownviewer"===s[e].type}));if(!u)throw new Error("Expect a markdownviewer to be in pluginlist");if(c)return void e(Cs({type:"UPDATE_LAYOUT",wid:t},qe.j(o,u)));if(!l)throw new Error("Expected editor path");var d=qe.h(o,u,"rightOf",l),p=d.path,f=d.to;e({type:"UPDATE_LAYOUT",wid:t,path:p,to:f})}else{var m;if(c&&r){if(!(m=As({plugins:s,filePath:r,pluginType:"editor"})))throw new Error("Oh no! How did we end up with a markdown viewer without loading an editor first")}else if(!(m=K()(s).find((function(e){return"markdownviewer"===s[e].type}))))throw new Error("Markdown viewer plugin should have been loaded");e({type:"UPDATE_LAYOUT",wid:t,path:l||c,to:m,property:"pud"})}}}({wid:t,preview:v,activeFile:f}));break;case"WORKSPACE_WILL_UNMOUNT":c(!1);break;case"REGISTER_ACE_EDITOR_HANDLE":case"REGISTER_MONACO_EDITOR_HANDLE":p(i.editorHandle)}return null})),null}var Fs=Object(Qe.a)({files:Rr.a}),Us=n("a6RD"),Hs=n.n(Us),Gs=be.a.createElement,Bs=Hs()((function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(10),n.e(16),n.e(18),n.e(204)]).then(n.bind(null,"I8Nj")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{loading:function(){return Gs("div",{style:{width:"100%",height:"100%",textAlign:"center",paddingTop:"30px"}},"Loading viewer...")},loadableGenerated:{webpack:function(){return["I8Nj"]},modules:["./Viewer"]}}),zs=Object(Qe.a)({files:Rr.a}),Ks=me.createElement;function Vs(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Vs(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Ws=function(e){var t=e.logs,n=e.timeRef,r=e.setTimeRef;return Ks("div",{className:"jsx-3515057655 log-list"},t.map((function(e){var t=se()(e.cmd,null,2),a=n?e.timestamp-n:e.timestamp;return Ks("div",{key:e.index,className:"jsx-3515057655 "+("log "+(e.highlighted?"highlighted ":"")+("in"===e.dir?"in":"")||!1)},Ks("div",{className:"jsx-3515057655 direction"},Ks("div",{className:"jsx-3515057655"},e.dir),Ks("div",{className:"jsx-3515057655"},"in"===e.dir?"\u25b6\ufe0f":"\u2b05\ufe0f"),Ks("div",{className:"jsx-3515057655"},Ks(ht.a,{color:"positive",size:"small",onClick:function(){return r(e.timestamp)}},a.toFixed(0),"ms"))),Ks("pre",{className:"jsx-3515057655"},t))})),Ks("div",{className:"jsx-3515057655 bottom-anchor"}),Ks(le.a,{id:"3515057655"},[".log-list.jsx-3515057655{overflow:auto;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".log-list.jsx-3515057655 *.jsx-3515057655{overflow-anchor:none;}",".bottom-anchor.jsx-3515057655{overflow-anchor:auto !important;min-height:1px;}",".log.jsx-3515057655{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:deepskyblue;border:1px solid;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".in.jsx-3515057655{color:red;}",".highlighted.jsx-3515057655{background:yellow;}",".direction.jsx-3515057655{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;text-align:center;min-width:30px;border-right:1px solid;}",".direction.jsx-3515057655>div.jsx-3515057655:not(:last-child){border-bottom:1px solid;width:100%;}"]))},Xs=function(e){var t=e.filters,n=e.updateFilters;return Ks("div",{className:"jsx-1185913860 filters"},Ks("div",{className:"jsx-1185913860"},Ks("div",{className:"jsx-1185913860"},"regex search (regex,flags)"),Ks("fieldset",{className:"jsx-1185913860"},Ks("input",{name:"regex",onChange:function(e){var t=null;if(e.currentTarget.value){var r=e.currentTarget.value.split(","),a=Object(W.a)(r,2),i=a[0],o=a[1];try{t=new RegExp(i,o)}catch(s){}}n({regexp:t})},placeholder:"\\w+,gi",className:"jsx-1185913860"}),Ks("div",{className:"jsx-1185913860"},"current value: ",t.regexp?t.regexp.toString():"null"))),Ks("div",{className:"jsx-1185913860"},Ks("div",{className:"jsx-1185913860"},"Directions:"),Ks("fieldset",{id:"log-filter-direction",className:"jsx-1185913860"},Ks("label",{className:"jsx-1185913860"},"both:",Ks("input",{type:"radio",onChange:function(e){return n({direction:e.target.value})},value:"",checked:""===t.direction,name:"log-filter-direction",className:"jsx-1185913860"})),Ks("label",{className:"jsx-1185913860"},"in:",Ks("input",{type:"radio",onChange:function(e){return n({direction:e.target.value})},value:"in",checked:"in"===t.direction,name:"log-filter-direction",className:"jsx-1185913860"})),Ks("label",{className:"jsx-1185913860"},"out:",Ks("input",{type:"radio",onChange:function(e){return n({direction:e.target.value})},value:"out",checked:"out"===t.direction,name:"log-filter-direction",className:"jsx-1185913860"})))),Ks("div",{className:"jsx-1185913860"},Ks("div",{className:"jsx-1185913860"},"Filter style:"),Ks("fieldset",{id:"log-filter-style",className:"jsx-1185913860"},Ks("label",{className:"jsx-1185913860"},"highlight:",Ks("input",{type:"radio",onChange:function(){return n({highlightOnly:!0})},checked:t.highlightOnly,name:"log-filter-style",className:"jsx-1185913860"})),Ks("label",{className:"jsx-1185913860"},"hide:",Ks("input",{type:"radio",onChange:function(){return n({highlightOnly:!1})},checked:!t.highlightOnly,name:"log-filter-style",className:"jsx-1185913860"})))),Ks(le.a,{id:"1185913860"},[".filters.jsx-1185913860{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".filters.jsx-1185913860>*.jsx-1185913860{padding:20px 0;}","fieldset.jsx-1185913860{border:0;}","fieldset.jsx-1185913860>label.jsx-1185913860{margin-right:5px;}"]))},Ys=function(e,t){if(!t.regexp&&!t.direction)return e.map((function(e){return qs({},e,{highlighted:!1})}));var n=function(e){var n=e.dir,r=e.cmd;return(!t.direction||n===t.direction)&&!(t.regexp&&t.regexp.test&&!t.regexp.test(se()(r)))};return t.highlightOnly?e.map((function(e){return n(e)?qs({},e,{highlighted:!0}):e})):e.filter(n)},Qs=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=me.useState(e),n=Object(W.a)(t,2),r=n[0],a=n[1],i=me.useCallback((function(){return a((function(e){return!e}))}),[]);return[r,i]},Js=function(e){var t=e.wid,n=e.pud,r=Qs(!0),a=Object(W.a)(r,2),i=a[0],o=a[1],s=me.useState(null),c=Object(W.a)(s,2),l=c[0],u=c[1],d=Object(vt.b)(t,n,"adminpanel"),p=Object(W.a)(d,2),f=p[0],m=f.crosisDebug,b=f.filters,g=f.crosisLogs,h=p[1],v=Object(De.e)();return m?Ks("div",{className:"jsx-1975817957 crosis-logs"},Ks("div",{className:"jsx-1975817957"},Ks("div",{className:"jsx-1975817957 buttons"},Ks(ht.a,{color:"warning",onClick:o},i?"hide filters":"show filters"),l&&Ks(ht.a,{color:"negative",onClick:function(){return u(null)}},"Reset Time Ref"),Ks(ht.a,{color:"negative",onClick:function(){return v({type:"CLEAR_CROSIS_LOGS",wid:t})}},"Clear logs")),i?Ks(Xs,{filters:b,updateFilters:function(e){h({filters:qs({},b,{},e)})}}):null),Ks(Ws,{logs:Ys(g,b),timeRef:l,setTimeRef:u}),Ks(le.a,{id:"1975817957"},[".crosis-logs.jsx-1975817957{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".buttons.jsx-1975817957{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"])):Ks(ht.a,{color:"positive",filled:!0,onClick:function(){h({crosisDebug:!0}),v({type:"START_CROSIS_ADMIN_LOGS",wid:t})}},"Start logging goval")},Zs=n("LBzQ"),$s=me.createElement;function ec(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):ec(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var nc=function(e){return JSON.parse(window.atob(window.atob(e).split(":")[0]))},rc=function(e){var t=e.wid,n=e.pud,r=Object(vt.b)(t,n,"adminpanel"),a=Object(W.a)(r,1)[0].token,i=Object(De.e)();return a?$s("div",{className:"jsx-4043509441 token-viewer"},$s("div",{className:"jsx-4043509441"},"raw:",$s("pre",{className:"jsx-4043509441"},a)),$s("br",{className:"jsx-4043509441"}),$s("div",{className:"jsx-4043509441"},"parsed:",$s("pre",{className:"jsx-4043509441"},se()(nc(a),null,2))),$s("br",{className:"jsx-4043509441"}),$s("br",{className:"jsx-4043509441"}),$s(ac,{token:a,setToken:function(e){i({wid:t,type:"USE_CUSTOM_TOKEN",customToken:e})},becomeOwner:function(){i({wid:t,type:"REPL_UPDATED",updates:{isOwner:!0}})}}),$s(le.a,{id:"4043509441"},[".token-viewer.jsx-4043509441{height:100%;overflow:auto;padding:10px;}","pre.jsx-4043509441{white-space:pre-wrap;word-wrap:break-word;}"])):$s("div",null,"no token yet, wait for connection")},ac=function(e){var t=e.token,n=e.setToken,r=e.becomeOwner,a=me.useState((function(){var e=nc(t),n=(e.salt,e.created,Object(Xe.a)(e,["salt","created"]));return se()(n,null,2)})),i=Object(W.a)(a,2),o=i[0],s=i[1],c=me.useState(!1),l=Object(W.a)(c,2),u=l[0],d=l[1],p=function(e){var t;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return d(!0),r.next=3,Y.a.awrap(Object(Me.d)("/data/admin/custom_token_please_be_careful_or_you_will_be_fired",{tokenOptions:e}));case 3:(t=r.sent).token&&"string"===typeof t.token&&n(t.token),d(!1);case 6:case"end":return r.stop()}}))};return u?$s("div",null,"Getting yer token, please wait..."):$s("div",null,$s(ht.a,{color:"negative",onClick:function(){var e,n,a,i,o,s,c,l;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=nc(t),e.salt,e.created,e.bearerId,e.bearerName,n=e.sourceRepl,a=Object(Xe.a)(e,["salt","created","bearerId","bearerName","sourceRepl"]),n){u.next=4;break}return window.alert("You own this repl?!"),u.abrupt("return");case 4:return i=je.a.query.replUrl.split("/"),o=Object(W.a)(i,3),s=o[1],c=o[2],l=tc({},a,{id:n,path:c,user:s.replace("@",""),presenced:!1}),r(),u.next=9,Y.a.awrap(p(l));case 9:case"end":return u.stop()}}))}},"\ud83d\udea7 Experimental. Impersonate Owner & RECONNECT\ud83d\udea7"),$s("br",null),$s("br",null),$s("div",null,"\u26a0\ufe0fBE REALL CAREFUL HERE!\u26a0\ufe0f You can possibly break the world! \ud83d\ude35",$s("br",null),$s("br",null),"Double check all the values, double check the flags and everything.",$s("br",null),$s("br",null),"You should probably go look at the code and how these values are used"),$s("br",null),$s(Zs.a,{rows:25,value:o,onChange:function(e){return s(e.currentTarget.value)}}),$s(ht.a,{color:"negative",onClick:function(){var e;try{e=JSON.parse(o)}catch(t){return void window.alert("INVALID JSON!! Be careful!")}p(e)}},"\u26a0\ufe0fGIMME TOKEN & RECONNECT\u26a0\ufe0f"))},ic=n("XWHH"),oc=n.n(ic);function sc(){var e,t,n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!localStorage.getItem("gurl")){r.next=3;break}return console.log("Getting gurl from localstorage"),r.abrupt("return",localStorage.getItem("gurl"));case 3:if(r.t0=!1,!r.t0){r.next=8;break}return r.next=7,Y.a.awrap(cc());case 7:r.t0=r.sent;case 8:if(!r.t0){r.next=12;break}return console.log("Using local goval"),e=window.location,t=e.protocol,n=e.hostname,r.abrupt("return","".concat("https:"===t?"wss":"ws","://").concat(n,":4560"));case 12:return r.abrupt("return",null);case 13:case"end":return r.stop()}}))}function cc(){var e,t,n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=window.location,t=e.protocol,n=e.hostname,r.next=4,Y.a.awrap(oc()(t+"//"+n+":4560").then((function(e){if(200!==e.status)throw new Error("Expected 200 status from goval dev ping")})));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(0),console.info("Could not connect to local goval, falling back to production"),console.error(r.t0),r.abrupt("return",!1);case 11:return r.abrupt("return",!0);case 12:case"end":return r.stop()}}),null,null,[[0,6]])}var lc=me.createElement,uc=function(e){var t=e.wid,n=e.pud,r=Object(vt.b)(t,n,"adminpanel"),a=Object(W.a)(r,1)[0].customGurl,i=Object(De.e)(),o=me.useState(a),s=Object(W.a)(o,2),c=s[0],l=s[1],u="default";return localStorage.getItem("gurl")?u="from localStorage: "+localStorage.getItem("gurl"):a&&(u="from session state "+a),lc("div",{style:{height:"100%",overflow:"auto"}},lc(kn.a,{value:c,onChange:function(e){return l(e.currentTarget.value)}}),lc("br",null),lc("div",{style:{display:"flex",justifyContent:"space-between"}},lc(ht.a,{color:"positive",onClick:function(){i({type:"SET_CUSTOM_GURL",wid:t,gurl:c})}},"Set gurl"),lc(ht.a,{color:"warning",onClick:function(){i({type:"SET_CUSTOM_GURL",wid:t,gurl:"wss://eval.repl.it"}),localStorage.removeItem("gurl")}},"reset")),lc("br",null),lc("br",null),lc("div",null,"Current gurl: ",u),lc("br",null),a&&lc(ht.a,{color:"negative",onClick:function(){localStorage.setItem("gurl",a)}},'Persist "',a,'" in local storage'),lc("br",null),lc("br",null),"Gurl order of precedence:",lc("ol",{style:{margin:20}},lc("li",null,"gurl set in the form above"),lc("li",null,"gurl in localStorage"),lc("li",null,"If in development webapp and a there's a response from",lc("code",null,"http://currenthost:4560"),", then it will use",lc("code",null,"ws://currenthost:4560")),lc("li",null,"default is ",lc("code",null,"wss://eval.repl.it"))))},dc=n("EMhG"),pc=be.a.createElement;function fc(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function mc(){var e=Object(sa.a)().container,t=Qs(!0),n=Object(W.a)(t,2),r=n[0],a=n[1],i=Object(me.useState)(null),o=i[0],s=i[1],c=Object(me.useState)([]),l=c[0],u=c[1],d=Object(me.useState)({regexp:null,direction:"",highlightOnly:!0}),p=d[0],f=d[1];return Object(me.useEffect)((function(){e.client().setDebugFunc((function(e){"breadcrumb"!==e.type?"log"===e.type&&u((function(t){return[].concat(Object(Hr.a)(t),[{index:t.length+1,dir:e.log.direction,cmd:e.log.cmd,timestamp:window.performance.now()}])})):Be.a({category:"crosisV6",message:e.message,data:e.data})}))}),[e]),pc("div",{className:"jsx-1975817957 crosis-logs"},pc("div",{className:"jsx-1975817957"},pc("div",{className:"jsx-1975817957 buttons"},pc(ht.a,{color:"warning",onClick:a},r?"hide filters":"show filters"),o&&pc(ht.a,{color:"negative",onClick:function(){return s(null)}},"Reset Time Ref"),pc(ht.a,{color:"negative",onClick:function(){return u([])}},"Clear logs")),r?pc(Xs,{filters:p,updateFilters:function(e){return f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):fc(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},p,{},e))}}):null),pc(Ws,{logs:Ys(l,p),timeRef:o,setTimeRef:s}),pc(le.a,{id:"1975817957"},[".crosis-logs.jsx-1975817957{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".buttons.jsx-1975817957{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]))}function bc(){var e=Object(me.useState)(!1),t=e[0],n=e[1];return t?pc(mc,null):pc(be.a.Fragment,null,pc("p",null,"Logs for crosisV6 client"),pc(ht.a,{color:"primary",filled:!0,onClick:function(){n(!0)}},"Start logging goval"))}var gc=n("IjuC"),hc=be.a.createElement,vc=function(){var e,t,n=Object(_t.a)(),r=Object(at.V)({variables:{replId:n}}).data,a="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?JSON.parse(se()(r.repl)):void 0;a&&(delete a.__typename,null===(e=a.user)||void 0===e||delete e.__typename,null===(t=a.origin)||void 0===t||delete t.__typename,delete a.config.__typename);return hc("div",{className:"jsx-3817476767"},hc("div",{onClick:function(){Object(gc.a)(n)},className:"jsx-3817476767"},hc("span",{className:"jsx-3817476767"}," repl ID: "),hc("input",{id:"replId",readOnly:!0,value:n,className:"jsx-3817476767"})),hc("div",{className:"jsx-3817476767"},a&&hc("pre",{className:"jsx-3817476767"},se()(a,null,2))),hc(le.a,{id:"3817476767"},["pre.jsx-3817476767{white-space:pre-wrap;word-wrap:break-word;}"]))},xc=me.createElement;function wc(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):wc(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var kc=Object(dc.a)((function(){return{crosisDebug:!1,crosisLogs:[],filters:{regexp:null,direction:"",highlightOnly:!0},token:"",customGurl:""}}),(function(e,t){return"START_CROSIS_ADMIN_LOGS"===t.type?yc({},e,{crosisDebug:!0}):"CROSIS_ADMIN_LOG"===t.type?yc({},e,{crosisLogs:[].concat(Object(Hr.a)(e.crosisLogs),[{index:e.crosisLogs.length,dir:t.dir,cmd:t.cmd,timestamp:t.timestamp}])}):"CLEAR_CROSIS_LOGS"===t.type?yc({},e,{crosisLogs:[]}):"GOVAL_TOKEN"===t.type?yc({},e,{token:t.token}):"SET_CUSTOM_GURL"===t.type?yc({},e,{customGurl:t.gurl}):e})).reducer,jc=Object(Qe.a)({primary:kc});function Ec(e,t,n){return"WORKSPACE_MOUNTED"===n.type?function(t){var n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y.a.awrap(sc());case 2:(n=r.sent)&&t({type:"SET_CUSTOM_GURL",wid:e,gurl:n});case 4:case"end":return r.stop()}}))}:null}var Oc=function(e){var t,n=e.wid,r=e.pud,a=e.style,i=me.useState("repl"),o=Object(W.a)(i,2),s=o[0],c=o[1];t="repl"===s?vc:"logs"===s?Js:"logs2"===s?bc:"token"===s?rc:uc;var l=["repl","logs","logs2","token","gurl"].map((function(e){return xc(ht.a,{key:e,color:"primary",filled:e===s,onClick:function(){return c(e)}},e)}));return xc("div",{style:a,className:"jsx-1184814387 admin-panel"},xc("div",{className:"jsx-1184814387 buttons"},l),xc("div",{className:"jsx-1184814387 section"},xc(t,{wid:n,pud:r,className:"jsx-1184814387"})),xc(le.a,{id:"1184814387"},[".admin-panel.jsx-1184814387{background-color:var(--color-background-1);color:var(--color-foreground-1);}",".buttons.jsx-1184814387{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;margin-bottom:10px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".section.jsx-1184814387{height:calc(100% - 50px);}"]))},_c=n("2T9W"),Nc=me.createElement,Sc=function(){return Nc("svg",{viewBox:"0 0 50 50",className:"logo-svg"},Nc("defs",{className:"jsx-3902188783"},Nc(le.a,{id:"3902188783"},[".logo-svg{height:100%;width:100%;}",".logo-svg path{fill:currentColor;}"])),Nc("path",{d:"M49.424 22.596zM13.02 22.466S6.196 47.61 33.548 47.828c8.581-3.194 14.905-11.027 15.863-20.47.066-.652.086-1.319.1-1.986.004-.176.027-.346.027-.523 0-.76-.046-1.51-.114-2.253-7.226 28.446-39.194 17.304-36.404-.13z"}),Nc("path",{d:"M27.163 13.133S1.697 6.022 2.089 33.79a24.608 24.608 0 0 0 5.934 8.87c.11.104.223.202.333.304a24.622 24.622 0 0 0 2.327 1.896c.127.09.245.19.372.278.86.588 1.758 1.121 2.687 1.595.27.139.547.266.82.396.8.376 1.618.708 2.454.995.205.07.4.158.609.223a24.32 24.32 0 0 0 3.054.722c.312.054.628.1.944.144 1.07.155 2.151.239 3.233.251.042 0 .082.007.123.007.816 0 1.622-.044 2.417-.122-28.573-6.814-17.713-38.765-.233-36.215z"}),Nc("path",{d:"M37.09 26.302S43.113.902 15.993 2.036C6.9 5.628.462 14.477.462 24.846c.008 1.118.093 2.232.252 3.338C6.422-.553 38.938 8.754 37.089 26.302z"}),Nc("path",{d:"M24.067 37.232s25.51 3.33 23.914-20.924C44.509 6.972 35.544.308 25 .308a24.628 24.628 0 0 0-4.45.424c28.425 3.489 21.037 36.749 3.517 36.5z"}),Nc("path",{d:"M32.082 24.85a6.873 6.873 0 1 1-13.746 0 6.873 6.873 0 0 1 13.746 0z"}))},Cc=me.createElement;function Tc(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Tc(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var Rc=function(e){var t=e.reason;return Cc("div",{className:"jsx-3815767023 spinner-modal-container"},Cc("div",{className:"jsx-3815767023 spinner"},Cc(Sc,null)),Cc("h3",{className:"jsx-3815767023 reason"},t,"..."),Cc(le.a,{id:"3815767023"},["@-webkit-keyframes replit-logo-spin-jsx-3815767023{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes replit-logo-spin-jsx-3815767023{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".spinner-modal-container.jsx-3815767023{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:225px;height:225px;cursor:not-allowed;background-color:rgba(0,0,0,0.35);border-radius:5px;z-index:500000;padding:16px;color:white;}",".spinner.jsx-3815767023{width:80px;height:80px;-webkit-animation:replit-logo-spin-jsx-3815767023 1.5s linear infinite;animation:replit-logo-spin-jsx-3815767023 1.5s linear infinite;}",".reason.jsx-3815767023{margin-top:20px;font-size:18px;font-weight:500;}"]))},Ac=function(e){var t=e.style,n=e.wid,r=e.pud,a=Object(De.f)((function(e){return Object(vt.a)(e,n,r,"lock")})),i=a.isLocked,o=a.showSpinner,s=a.reason;return i?o?Cc("div",{style:t,className:"jsx-2297509473"},Cc(Rc,{reason:s}),Cc(le.a,{id:"2297509473"},[".jsx-2297509473{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:fixed;top:0;bottom:0;left:0;right:0;cursor:not-allowed;background-color:rgba(0,0,0,0.25);z-index:500000;}"])):Cc("div",{style:t,className:"jsx-2427369210"},Cc(le.a,{id:"2427369210"},[".jsx-2427369210{position:fixed;top:0;bottom:0;left:0;right:0;cursor:not-allowed;z-index:500000;}"])):null},Pc=Object(Qe.a)({primary:function(e,t){switch(t.type){case"LOCK_WORKSPACE":return Ic({},e,{showSpinner:t.showSpinner,reason:t.reason,isLocked:!0});case"UNLOCK_WORKSPACE":return Ic({},e,{showSpinner:!1,isLocked:!1});default:return e}},preferences:Pa.b});function Lc(e,t,n){switch(n.type){case"LOCK_WORKSPACE":return function(t,n){var r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().workspace[e].layout,!qe.a(r,"lock")){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Y.a.awrap(t(Ic({wid:e,type:"UPDATE_LAYOUT"},qe.h(r,"lock","inside",["floating"]))));case 6:case"end":return a.stop()}}))};case"UNLOCK_WORKSPACE":return function(t,n){var r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().workspace[e].layout,a.next=3,Y.a.awrap(t(Ic({wid:e,type:"UPDATE_LAYOUT"},qe.j(r,"lock"))));case 3:case"end":return a.stop()}}))};default:return null}}var Dc=n("HO+9"),Mc=n("GHe4"),Fc=be.a.createElement;function Uc(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closable:!0,title:"",message:"",trackingCtx:"",isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROMPT_HACKER_UPGRADE":return{isOpen:!0,title:t.title,message:t.message,closable:t.closable,trackingCtx:t.trackingCtx};case"DISMISS_HACKER_UPGRADE":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Uc(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},e,{isOpen:!1});default:return e}}var Gc=function(e){var t=e.wid,n=e.pud,r=Object(vt.b)(t,n,"hackerupgradeprompt"),a=Object(W.a)(r,1)[0],i=a.title,o=a.message,s=a.trackingCtx,c=a.isOpen,l=a.closable,u=be.a.useState(!1),d=Object(W.a)(u,2),p=d[0],f=d[1],m=be.a.useState(!1),b=Object(W.a)(m,2),g=b[0],h=b[1],v=be.a.useState(!1),x=Object(W.a)(v,2),w=x[0],y=x[1],k=be.a.useState(!1),j=Object(W.a)(k,2),E=j[0],O=j[1],_=function(){return h(!1)},N=Object(at.Ib)({ssr:!1}),S=function(e){var t=e.loading,n=e.data;return t?"loading":n&&n.currentUser?n.currentUser.isHacker?"hacker":"signedUp":"anon"}(N),C=Object(De.e)();return be.a.useEffect((function(){E&&"hacker"===S&&y(!0)}),[E,S]),be.a.useEffect((function(){if(w){var e=setTimeout((function(){window.location.reload()}),1500);return function(){return clearTimeout(e)}}}),[w]),w?Fc(Ht.default,{onRequestClose:function(){return!1},hideX:!0,preventClose:!0},Fc("div",{className:"jsx-3902013120"},Fc("h3",{className:"jsx-3902013120"},"The page will reload soon with your new superpowers"),Fc("br",{className:"jsx-3902013120"}),Fc(Qt.a,{style:{width:76,height:76,margin:"0 auto"}})),Fc(le.a,{id:"3902013120"},["div.jsx-3902013120{padding:75px 52.5px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-weight:100;text-align:center;}"])):c?Fc(be.a.Fragment,null,function(){if(p){var e=function(){f(!1),C({type:"DISMISS_HACKER_UPGRADE",wid:t}),y(!0)};return Fc(Ht.default,{onRequestClose:e,noBorder:!0,hideX:!0},Fc(Dc.a,{onConfirm:e,confirmButtonText:"Continue hacking \ud83d\udd25"}))}return g?"loading"===S?Fc(Ht.default,{onRequestClose:function(){return!1},hideX:!0,preventClose:!0,noBorder:!0},Fc(Qt.a,{style:{width:76,height:76,margin:"0 auto"}})):"anon"===S?Fc(Ht.default,{onRequestClose:_,noBorder:!0,hideX:!0},Fc(an.a,{onSuccess:function(){N.refetch(),O(!0)}})):Fc(Mc.a,{closeModal:_,isOpen:g,trackingInfo:{context:s},onSubscribe:function(){return f(!0)}}):null}(),Fc("div",{className:"jsx-2371373952 warning-label-outer"},Fc("div",{className:"jsx-2371373952 warning-label-inner"},Fc("span",{className:"jsx-2371373952 warning-label-warning"},i),Fc("span",{className:"jsx-2371373952 warning-label-message"},"hacker"!==S?o:"\ud83e\udd26\u200d\u2640\ufe0f You've run out of disk space."),"hacker"!==S&&Fc("button",{onClick:function(){return h(!0)},className:"jsx-2371373952 warning-label-upgrade"},"Upgrade"),l&&Fc("button",{onClick:function(){C({type:"DISMISS_HACKER_UPGRADE",wid:t})},className:"jsx-2371373952 warning-label-x"},"\xd7")),Fc(le.a,{id:"2371373952"},[".warning-label-outer.jsx-2371373952{display:table;background:var(--color-background-1);position:absolute;bottom:24px;left:50%;-webkit-transform:translate(-50%,0);-ms-transform:translate(-50%,0);transform:translate(-50%,0);border-radius:5px;z-index:30;box-shadow:0px 4px 5px rgba(0,0,0,0.25);}",".warning-label-inner.jsx-2371373952{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:white;padding:8px;background-color:rgba(219,121,11,0.05);color:var(--color-orange-default);border-radius:5px;min-width:400px;max-width:600px;}",".warning-label-upgrade.jsx-2371373952{margin:8px;padding:8px 16px;background-color:var(--color-positive);color:var(--color-white);border-radius:5px;border:none;font-size:1em;font-weight:bold;}",".warning-label-warning.jsx-2371373952{font-weight:bold;margin:0px 8px;}",".warning-label-x.jsx-2371373952{font-weight:bold;font-size:1.5em;text-align:center;vertical-align:center;color:grey;outline:none;background:none;border:none;cursor:pointer;margin:8px;}"]))):null},Bc=n("F4R0"),zc=5900,Kc=Object(wr.a)(["OPEN_SHELL","PORT_OPEN","SET_VNC_URL"]),Vc=Kc.receiver,qc=Kc.useReceiver;function Wc(){var e=Object(_t.a)(),t=me.useState(""),n=Object(W.a)(t,2),r=n[0],a=n[1],i=Object(De.e)();return qc((function(t){var n=t.action,o=t.wid;switch(n.type){case"SET_VNC_URL":a(n.vncUrl);break;case"OPEN_SHELL":i(Object(Bc.b)({wid:o}));break;case"PORT_OPEN":if(n.port===zc){i(Object(Bc.c)({wid:o,replId:e,vncUrl:r}));break}i(Object(Bc.d)({wid:o,replId:e}))}return null})),null}var Xc=n("EVOq"),Yc=n("YexM"),Qc=function e(){var t=this;Object(Q.a)(this,e),Object(ne.a)(this,"samples",void 0),Object(ne.a)(this,"bufferSource",void 0),Object(ne.a)(this,"audioCtx",void 0),Object(ne.a)(this,"gainNode",void 0),Object(ne.a)(this,"startTime",void 0),Object(ne.a)(this,"audioStart",0),Object(ne.a)(this,"correction",void 0),Object(ne.a)(this,"feed",(function(e){var n=t.getFormatedValue(e),r=new Float32Array(t.samples.length+n.length);r.set(t.samples,0),r.set(n,t.samples.length),t.samples=r})),Object(ne.a)(this,"getFormatedValue",(function(e){for(var t=new Float32Array(e.length),n=0;n<e.length;n++)t[n]=e[n]/2147483648;return t})),Object(ne.a)(this,"stop",(function(){if(t.bufferSource)try{t.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}})),Object(ne.a)(this,"flush",(function(e){if(t.audioCtx&&t.samples.length){var n=0,r=t.audioCtx.currentTime;if(0===e)t.startTime=r,t.audioStart=r;else{for(var a=r-t.audioStart,i=Math.floor(44100*a);i>e-32896;)t.audioStart+=32896/44100,i-=32896;i>e&&(n=i-e,t.startTime=r),t.startTime=r}t.samples=t.samples.slice(n,t.samples.length);for(var o,s,c,l=t.audioCtx.createBufferSource(),u=t.samples.length/1,d=t.audioCtx.createBuffer(1,u,44100),p=0;p<1;p++)for(o=d.getChannelData(p),s=p,c=0;c<u;c++)o[c]=t.samples[s],s+=1;t.startTime<t.audioCtx.currentTime&&(t.startTime=t.audioCtx.currentTime),l.buffer=d,l.connect(t.gainNode),l.start(t.startTime),t.stop(),t.bufferSource=l,t.startTime+=d.duration,t.samples=new Float32Array}})),this.samples=new Float32Array;var n=window.AudioContext||window.webkitAudioContext;this.audioCtx=new n,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},Jc=me.createElement,Zc=Hs()((function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}});var $c=function(e){return Jc(Zc,{noBorder:!0,hideX:!0,onRequestClose:e.onCancel},Jc("div",{className:"jsx-1116685669 audio-prompt-container"},Jc("div",{className:"jsx-1116685669 infobox"},Jc("h2",{className:"jsx-1116685669 title"},"We hear audio!"),Jc("div",{className:"jsx-1116685669"},"Hey! It appears that this repl has audio! In order for us to play the audio you're recieving, please click confirm.",Jc("br",{className:"jsx-1116685669"}),Jc("br",{className:"jsx-1116685669"}),'Clicking "run" to start your repl will also enable audio.')),Jc("div",{className:"jsx-1116685669 controlbox"},Jc(ht.a,{onClick:e.onCancel},"Cancel"),Jc(ht.a,{color:"positive",filled:!0,onClick:e.onConfirm},"Confirm"))),Jc(le.a,{id:"1116685669"},[".audio-prompt-container.jsx-1116685669{padding:30px;width:475px;}",".infobox.jsx-1116685669{padding-bottom:75px;}",".infobox.jsx-1116685669 .title.jsx-1116685669{padding-bottom:22px;}",".controlbox.jsx-1116685669{display:grid;grid-template-columns:auto auto;grid-column-gap:10px;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;}"]))},el=be.a.createElement;function tl(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):tl(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var rl=Object(Yc.a)((function(e,t,n,r){switch(n.type){case"CREATE_AUDIO_PLAYER":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(a=Object(vt.a)(r(),t,n,"audio")).loading&&!a.player){o.next=3;break}return o.abrupt("return");case 3:if(a.channelHandle){o.next=5;break}return o.abrupt("return");case 5:e({type:"SET_AUDIO_LOADING",wid:t,pud:n,loading:!0}),i=new Qc,Ea.a.safeGet(a.channelHandle).on("command",(function(e){e.audio2&&e.audio2.data&&(e.audio2.samples||(e.audio2.samples=0),i.feed(Int32Array.from(e.audio2.data)),i.flush(e.audio2.samples))})),e({type:"SAVE_AUDIO_PLAYER",wid:t,pud:n,player:i});case 10:case"end":return o.stop()}}))}}({wid:e,pud:t});case"EVAL_ENDED":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=Object(vt.a)(r(),t,n,"audio").player){i.next=3;break}return i.abrupt("return");case 3:a.stop(),e({type:"SAVE_AUDIO_PLAYER",wid:t,pud:n,player:a});case 5:case"end":return i.stop()}}))}}({wid:e,pud:t});case"LOADING_GOVAL_COMPLETE":return function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!Object(vt.a)(a(),t,n,"audio").channelHandle){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,Y.a.awrap(e(Object(Xc.a)({wid:t,name:"audio",service:"audio",wait:r})));case 5:(i=o.sent).once("command",(function(r){Object(Ke.track)(Ke.events.AUDIO_PLAYING_STARTED);var i=Object(vt.a)(a(),t,n,"audio"),o=i.player,s=i.loading;o||s||e({type:"OPEN_AUDIO_PROMPT",wid:t,pud:n})})),e({type:"SAVE_AUDIO_CHANNEL",wid:t,pud:n,handle:Ea.a.getHandle(i)});case 8:case"end":return o.stop()}}))}}({wid:e,pud:t,wait:r});case"LOADING_GOVAL_STARTED":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=Object(vt.a)(r(),t,n,"audio"),i=a.player,o=a.channelHandle,i&&i.stop(),!o){c.next=7;break}if((s=Ea.a.safeGet(o)).closed){c.next=7;break}return c.next=7,Y.a.awrap(s.close());case 7:e({type:"RESET_AUDIO_DATA",wid:t,pud:n});case 8:case"end":return c.stop()}}))}}({wid:e,pud:t});default:return null}}));function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{player:null,loading:!1,channelHandle:null,showPrompt:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_AUDIO_PLAYER":return nl({},e,{player:t.player,loading:!1});case"SAVE_AUDIO_CHANNEL":return nl({},e,{channelHandle:t.handle});case"SET_AUDIO_LOADING":return nl({},e,{loading:t.loading});case"RESET_AUDIO_DATA":return nl({},e,{player:null,channelHandle:null});case"CLOSE_AUDIO_PROMPT":return nl({},e,{showPrompt:!1});case"OPEN_AUDIO_PROMPT":return nl({},e,{showPrompt:!0});default:return e}}function il(e){var t=e.wid,n=e.pud,r=Object(vt.b)(t,n,"audio"),a=Object(W.a)(r,1)[0].showPrompt,i=Object(De.e)();if(!a)return null;var o=function(){i({type:"CLOSE_AUDIO_PROMPT",wid:t,pud:n})};return el($c,{onCancel:function(){o(),Object(Ke.track)(Ke.events.AUDIO_PROMPT_CLOSED,{accepted:!1})},onConfirm:function(){o(),Object(Ke.track)(Ke.events.AUDIO_PROMPT_CLOSED,{accepted:!0}),i({type:"CREATE_AUDIO_PLAYER",wid:t,pud:n})}})}var ol=n("q0kf"),sl=n.n(ol),cl=n("34QA");function ll(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):ll(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var dl=function(e){try{return sl.a.parse(wa.a.from(e).toString("utf8")).language}catch(t){return null}},pl=function(e){return"nodejs"===e?"npm start":""},fl=function(e){var t={"go.mod":"go","package.json":"nodejs","Cargo.toml":"rust","requirements.txt":"python3","pyproject.toml":"python3","index.html":"html",Gemfile:"ruby",Makefile:"bash"};for(var n in t)if(e.includes(n))return t[n];var r=Re.a.allSupportedByPopularity().reduce((function(e,t){var n=t.ext,r=t.key;return e[n]=e[n]?e[n]:r,e}),{}),a=e.map((function(e){return e.split(".").slice(-1)[0]})).reduce((function(e,t){var n=e.find((function(e){return e.ext===t}));return n?n.count++:e.push({ext:t,count:1}),e}),[]).sort((function(e,t){return t.count-e.count}));return a.length&&(1===a.length||a[0].count>=2*a[1].count)&&r[a[0].ext]?r[a[0].count]:"bash"};var ml=Object(wr.a)(["START_GIT_CLONE","END_GIT_CLONE","INSERT_RUN_FLOW_PLUGIN"]),bl=ml.receiver,gl=ml.useReceiver;function hl(){var e=Object(_t.a)(),t=Object(De.e)(),n=Object(ke.useRouter)(),r=Object(at.Bd)({variables:{replId:e}}).data,a=me.useState(null),i=Object(W.a)(a,2),o=i[0],s=i[1];return gl((function(e){var a=e.action,i=e.wid,c=e.pud,l=e.wait;switch(a.type){case"START_GIT_CLONE":var u="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl.url:void 0;if(!u)throw new Error("expected url");n.replace({pathname:n.pathname,query:n.query},u,{shallow:!0});break;case"END_GIT_CLONE":var d="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl.language:"";t(function(e){var t=e.wid,n=e.pud,r=e.wait,a=e.replLanguage;return function(e,i){var o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y;return Y.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return e({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Detecting Language",wid:t}),s=Object(vt.a)(i(),t,n,"runflow"),c=s.files,l=K()(c),(u=l.find((function(e){return e.toLowerCase().includes("readme")}))||Object(_s.a)(l,a)||l[0])&&e({type:"OPEN_FILE",wid:t,path:u}),k.next=7,Y.a.awrap(e(Object(Xc.a)({wid:t,service:"gcsfiles",wait:r})));case 7:return d=k.sent,k.next=10,Y.a.awrap(d.request({persistMirror:{path:"."}}));case 10:if((p=k.sent).ok,p.channelClosed,d instanceof cl.Channel){k.next=15;break}throw new Error("unexpected chan response to be a chan");case 15:return k.next=17,Y.a.awrap(d.request({read:{path:".replit"}}));case 17:if(!(f=k.sent).channelClosed){k.next=20;break}return k.abrupt("return");case 20:if(m=null,b={displayName:""},g=!1,(null===(o=f.file)||void 0===o?void 0:o.content)&&(m=dl(f.file.content),b=Re.a.get(m),g="Unknown"!==b.displayName),!f.error&&f.file&&m&&g){k.next=29;break}return e({type:"UNLOCK_WORKSPACE",wid:t}),e({type:"INSERT_RUN_FLOW_PLUGIN",wid:t,pudToInsert:"config"}),f.error&&(h=fl(l),v=pl(h),x='language = "'.concat(h,'"\nrun = "').concat(v,'"'),e({type:"UPLOAD_FILE",wid:t,path:".replit",content:wa.a.from(x),create:!0})),k.abrupt("return");case 29:if(m!==a){k.next=32;break}return e({type:"UNLOCK_WORKSPACE",wid:t}),k.abrupt("return");case 32:return w=b.displayName,e({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Upgrading to ".concat(w),wid:t}),e({type:"PERSIST_FILE",wid:t,flush:!0}),y=function(){return Object(vt.a)(i(),t,n,"runflow").fsClean.status},k.next=38,Y.a.awrap(r((function(e){return"FILE_PERSISTED"===e.type&&y()})));case 38:e({type:"REQUEST_REPL_UPDATE",wid:t,refresh:!0,updates:{language:Re.a.getCanonicalName(m)}});case 39:case"end":return k.stop()}}))}}({wid:i,pud:c,wait:l,replLanguage:d}));break;case"INSERT_RUN_FLOW_PLUGIN":var p=a.pudToInsert;t(function(e){var t=e.wid,n=e.currentPud,r=e.pudToInsert,a=e.setCurrentPud;return function(e,i){var o,s,c,l,u,d;return Y.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(o=i().workspace[t],s=o.layout,c=o.plugins,l=qe.b(s,c,"console"),u=qe.b(s,c,"terminal2"),!qe.g(s,r)){p.next=5;break}return p.abrupt("return");case 5:return p.next=7,Y.a.awrap(e(ul({wid:t,type:"UPDATE_LAYOUT"},qe.h(s,r,"above",l||u||qe.k()))));case 7:if(d=i().workspace[t].layout,!n){p.next=11;break}return p.next=11,Y.a.awrap(e(ul({wid:t,type:"UPDATE_LAYOUT"},qe.j(d,n))));case 11:a(r);case 12:case"end":return p.stop()}}))}}({wid:i,currentPud:o,pudToInsert:p,setCurrentPud:s}))}return null})),null}var vl=Object(Qe.a)({files:Rr.a,fsClean:$e.a}),xl=n("U40g"),wl=n("v7Px"),yl=n.n(wl),kl=n("Wa2I"),jl=n.n(kl),El=Object(dc.a)((function(){return{channel:null,isTracking:!1}})),Ol=El.reducer,_l=El.setState;function Nl(e,t){var n,r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n="",r=function(e){e.output&&(n+=e.output)},e.on("command",r),a.next=5,Y.a.awrap(e.request({exec:{args:["bash","-c",t]}}));case 5:return e.off("command",r),a.abrupt("return",n);case 7:case"end":return a.stop()}}))}function Sl(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(i=Object(vt.a)(a(),t,n,"resourcemonitor"),!(o=i.channel)){l.next=3;break}return l.abrupt("return",o);case 3:return s=e(Object(Xc.a)({wid:t,service:"exec",wait:r})),_l(t,n,e,{channel:s}),l.next=7,Y.a.awrap(s);case 7:return c=l.sent,_l(t,n,e,{channel:c}),c.on("close",(function(){_l(t,n,e,{channel:null})})),l.abrupt("return",c);case 11:case"end":return l.stop()}}))}}var Cl=3e5;function Tl(e){var t=e.wid,n=e.pud,r=e.wait,a=e.running;return function(e,i){var o,s,c,l,u,d;return Y.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Y.a.awrap(e(Sl({wid:t,pud:n,wait:r})));case 2:if(o=p.sent,s=Object(vt.a)(i(),t,n,"resourcemonitor"),!s.isTracking){p.next=6;break}return p.abrupt("return");case 6:return _l(t,n,e,{isTracking:!0}),p.next=9,Y.a.awrap(Nl(o,"busybox top -b -n 1 | awk -v cores=$(nproc) '/%CPU/,EOF {\n            if (!/%CPU/) sum += $7\n          } END {print sum * cores}'"));case 9:if(c=p.sent,l=jl()(c),yl()(l)||Object(Ke.track)(Ke.events.CPU_USAGE_PCT_FETCHED,{cpu:l,running:a}),!o.closed){p.next=15;break}return _l(t,n,e,{isTracking:!1}),p.abrupt("return");case 15:return p.next=17,Y.a.awrap(Nl(o,"busybox ps -o rss | awk 'NR > 1 {\n          if (/m/) sum += $1*1024\n          else if (/g/) sum += $1*1024*1024\n          else sum += $1\n        } END {print sum/1024}'"));case 17:u=p.sent,d=jl()(u),yl()(d)||Object(Ke.track)(Ke.events.MEM_USAGE_MB_FETCHED,{memory:d,running:a}),_l(t,n,e,{isTracking:!1});case 21:case"end":return p.stop()}}))}}var Il=Object(Yc.a)((function(e,t,n,r){switch(n.type){case"LOADING_GOVAL_COMPLETE":return function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e){var a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Y.a.awrap(e(Sl({wid:t,pud:n,wait:r})));case 2:(i=s.sent).on("close",(function(){clearTimeout(a)})),o=function o(){return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Y.a.awrap(e(Tl({wid:t,pud:n,wait:r,running:!1})));case 2:if(!i.closed){s.next=4;break}return s.abrupt("return");case 4:a=setTimeout(o,Cl);case 5:case"end":return s.stop()}}))},i.on("open",(function(){a=setTimeout(o,Cl)}));case 6:case"end":return s.stop()}}))}}({wid:e,pud:t,wait:r});case"EVALER_STARTED":case"EVALER_ENDED":case"INTERPER_STARTED":case"INTERPER_ENDED":case"SHELLRUNNER_STARTED":case"SHELLRUNNER_ENDED":return Tl({wid:e,pud:t,wait:r,running:!0});default:return null}})),Rl=me.createElement,Al=Hs()((function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}});var Pl=function(e){return Rl(Al,{noBorder:!0,hideX:!0,onRequestClose:e.onCancel},Rl("div",{className:"jsx-729556425 notification-perm-container"},Rl("div",{className:"jsx-729556425 infobox"},Rl("h2",{className:"jsx-729556425 title"},"repl.it needs your permission to enable notifications."),Rl("div",{className:"jsx-729556425"},"Never miss messages from your collaborators if you\u2019re in another tab or window.")),Rl("div",{className:"jsx-729556425 controlbox"},Rl(ht.a,{onClick:e.onCancel},"Cancel"),Rl(ht.a,{filled:!0,color:"positive",onClick:e.onConfirm},"Confirm"))),Rl(le.a,{id:"729556425"},[".notification-perm-container.jsx-729556425{padding:30px;width:475px;}",".infobox.jsx-729556425{padding-bottom:75px;}",".infobox.jsx-729556425 .title.jsx-729556425{padding-bottom:22px;}",".controlbox.jsx-729556425{display:grid;grid-template-columns:auto auto;grid-column-gap:10px;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;}"]))},Ll=be.a.createElement,Dl=Object(wr.a)(["REQUEST_NOTIFICATION_PERMS"]),Ml=Dl.receiver,Fl=Dl.useReceiver;function Ul(){var e=Object(me.useState)(!1),t=e[0],n=e[1];Fl((function(e){var t=e.action;switch(t.type){case"REQUEST_NOTIFICATION_PERMS":var r=Object(vs.b)();("default"===r||"dismissed"===r&&t.force)&&n(!0)}return null}));return t?Ll(Pl,{onCancel:function(){Object(vs.d)(!0),n(!1)},onConfirm:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.awrap(Object(vs.c)());case 2:n(!1);case 3:case"end":return e.stop()}}))}}):null}var Hl=me.createElement;function Gl(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Gl(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var zl=Object(Qe.a)({files:Rr.a,primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cursors:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILE_CURSORS":var n=t.path,r=t.selections[0].position;return Bl({},e,{cursors:Bl({},e.cursors,Object(ne.a)({},n,r))});default:return e}}}),Kl=function(e){var t,n,r,a=e.wid,i=e.pud,o=e.style,s=Object(_t.a)(),c=Object(at.qb)({variables:{replID:s},pollInterval:1e4}),l=c.data,u=c.error,d=c.loading,p="Repl"===(null===l||void 0===l?void 0:l.repl.__typename)?l.repl.language:"";l&&("Repl"===l.repl.__typename?n=null===l||void 0===l?void 0:null===(r=l.repl)||void 0===r?void 0:r.database:t="Could not fetch Database info");u&&("GraphQL error: You don't have access to this database"===u.message?n=null:t=u.message);var f=Object(De.f)((function(e){return e.user.userInfo}));return Hl("div",{style:o,className:"jsx-2763592423 database"},Hl("div",{className:"jsx-2763592423 header"},Hl(wn.a,{level:5},"Database")),Hl("div",{className:"jsx-2763592423 wrapper"},f.isLoggedIn?Hl(me.Fragment,null,Hl("span",{className:"jsx-2763592423 description"},Hl("a",{href:"https://docs.repl.it/misc/database",target:"_blank",rel:"noopener",className:"jsx-2763592423 docs-link"},"Repl.it Database"),"is an easy to use key-value store."),t&&Hl("div",{className:"jsx-2763592423 error"},t),(n||d)&&Hl("div",{className:"jsx-2763592423 usage"},Hl(Vl,{database:n,loading:d})),!d&&Hl("div",{className:"jsx-2763592423"},Hl("span",{className:"jsx-2763592423 command-title"},"commands"),Hl(ql,{wid:a,pud:i,lang:p}))):Hl(nu,null)),Hl(tu,null),Hl(le.a,{id:"2763592423"},[".database.jsx-2763592423{text-overflow:ellipsis;background-color:var(--color-background-1);color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-width:120px;border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".header.jsx-2763592423{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-1);position:relative;color:var(--color-foreground-1);width:100%;}",".description.jsx-2763592423{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;color:var(--color-foreground-2);padding-bottom:var(--spacing-2) 0;}",".docs-link.jsx-2763592423{font-weight:var(--font-weight-medium);color:var(--color-primary-1);margin-right:var(--spacing-half);}",".wrapper.jsx-2763592423{padding:var(--spacing-1);overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;}",".error.jsx-2763592423{color:var(--color-red-1);margin-bottom:var(--spacing-2);}",".usage.jsx-2763592423{margin-bottom:var(--spacing-2);}",".command-title.jsx-2763592423{font-size:var(--font-size-desktop-text-xsmall);text-transform:uppercase;font-weight:var(--font-weight-medium);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;margin-bottom:var(--spacing-2);}"]))},Vl=function(e){var t=e.database;if(e.loading)return Hl(Qt.a,{style:{margin:"10px auto",width:"35px",height:"35px"}});if(!t)return null;var n=t.sizeMB||0,r="MB";return n<1&&(n*=1e3,r="KB"),Hl("div",{className:"jsx-2731733618 storage-section"},Hl("span",{className:"jsx-2731733618 storage-title"},"storage"),Hl("div",{className:"jsx-2731733618"},Hl("span",{className:"jsx-2731733618 storage-data"},n.toFixed(2)," ",r),Hl("span",{className:"jsx-2731733618 separator"},"|"),Hl("span",{className:"jsx-2731733618 storage-data"},"".concat(t.keysCount||0," ").concat(1===t.keysCount?"key":"keys"))),Hl(le.a,{id:"2731733618"},[".storage-section.jsx-2731733618{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--spacing-1) 0;}",".storage-title.jsx-2731733618{font-size:var(--font-size-desktop-text-xsmall);text-transform:uppercase;font-weight:var(--font-weight-medium);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;padding-bottom:var(--spacing-half);}",".separator.jsx-2731733618{color:var(--color-foreground-3);padding:0 var(--spacing-1);}",".storage-data.jsx-2731733618{color:var(--color-foreground-2);}"]))},ql=function(e){var t=e.wid,n=e.pud,r=e.lang;return Hl("div",{className:"jsx-2634600333 examples-container"},function(){switch(r){case"python3":case"python3_beta":return Hl($l,{wid:t,pud:n,examples:Ql});case"go":case"go_beta":return Hl($l,{wid:t,pud:n,examples:Jl});case"nodejs":case"nodejs_beta":return Hl($l,{wid:t,pud:n,examples:Zl});default:return Hl(eu,null)}}(),Hl(le.a,{id:"2634600333"},[".examples-container.jsx-2634600333{padding:var(--spacing-half) 0;}"]))},Wl=function(e){var t=e.title,n=e.content,r=e.wid,a=e.pud,i=me.useState(n),o=Object(W.a)(i,2),s=o[0],c=o[1],l=function(){return s.reduce((function(e,t){return"input"===t.type?e+(t.value||t.placeholder):e+t.value}),"")},u=function(){var e=t.split(" ");return[e[0],e.slice(1).join(" ")]}(),d=Object(W.a)(u,2),p=d[0],f=d[1];return Hl("div",{className:"jsx-1982888739 command-container"},Hl("span",{className:"jsx-1982888739 command-title"},Hl("span",{className:"jsx-1982888739 command-keyword"},p),f),Hl("div",{className:"jsx-1982888739 command-wrapper"},Hl("div",{className:"jsx-1982888739 command-example"},n.map((function(e,n){return"input"===e.type?Hl("input",{key:"".concat(t,"-").concat(n),onChange:function(e){var t=Object(Hr.a)(s);t[n].value=e.target.value,c(t)},placeholder:e.placeholder,value:e.value||"",className:"jsx-1982888739"}):Hl("code",{key:"".concat(t,"-").concat(n),className:"jsx-1982888739"},e.value)}))),r&&a?Hl(Xl,{wid:r,pud:a,code:l()}):Hl(ht.a,{size:"small",onClick:function(){return Object(gc.a)(l())}},"Copy")),Hl(le.a,{id:"1982888739"},[".command-container.jsx-1982888739{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;}",".command-title.jsx-1982888739{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;white-space:nowrap;margin-bottom:var(--spacing-1);color:var(--color-foreground-2);}",".command-keyword.jsx-1982888739{color:var(--color-foreground-1);font-weight:var(--font-weight-medium);margin-right:var(--spacing-half);}",".command-wrapper.jsx-1982888739{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".command-example.jsx-1982888739{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:2px 4px;border-radius:var(--border-radius-1);background-color:var(--color-control-3);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:var(--spacing-half);margin-bottom:var(--spacing-half);}",".command-example.jsx-1982888739:hover,.command-example.jsx-1982888739:hover>code.jsx-1982888739{background-color:var(--color-control-2);}","code.jsx-1982888739{padding:2px;background-color:var(--color-control-3);color:var(--color-red-1);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;white-space:nowrap;}","input.jsx-1982888739{text-align:center;width:40px;height:auto;background-color:var(--color-background-1);border:1px solid var(--color-control-1);color:var(--color-foreground-1);border-radius:var(--border-radius-1);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;cursor:text;}","input.jsx-1982888739:focus{border:0.5px solid var(--color-primary-1);outline:none;}"]))},Xl=function(e){var t=e.wid,n=e.pud,r=e.code,a=Object(vt.b)(t,n,"database"),i=Object(W.a)(a,1)[0],o=i.files,s=i.cursors,c=Object(De.e)(),l=Object(fa.a)(),u=o[l||""];if(!(null===u||void 0===u?void 0:u.loaded))return Hl(ht.a,{className:"button",size:"small",loading:!0},"Insert \u2192");var d=u.content.toString("utf8"),p=-1!==d.indexOf(r);return Hl(ht.a,{className:"button",size:"small",disabled:p,onClick:function(){var e=l&&Object.prototype.hasOwnProperty.call(s,l)?s[l]:d.length,n="",a="\n";e>0&&"\n"!==d[e]&&"\n"!==d[e-1]?a="":e>0&&"\n"!==d[e-1]&&(n="\n",a=""),c({type:"OT_FILE_OP",wid:t,path:l,op:[e,n+r+a],changeSource:"database"})}},"Insert \u2192")},Yl=[{title:"Set a key to a value",content:[{type:"code",value:"curl $REPLIT_DB_URL -d '"},{type:"input",placeholder:"key"},{type:"code",value:"="},{type:"input",placeholder:"value"},{type:"code",value:"'"}]},{title:"Get a key's value",content:[{type:"code",value:"curl $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"Delete a key",content:[{type:"code",value:"curl -XDELETE $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"List all keys",content:[{type:"code",value:'curl "$REPLIT_DB_URL?prefix='},{type:"input",placeholder:"key"},{type:"code",value:'"'}]}],Ql=[{title:"Import the database",content:[{type:"code",value:"from replit import db"}]},{title:"Set a key to a value",content:[{type:"code",value:'db["'},{type:"input",placeholder:"key"},{type:"code",value:'"] = "'},{type:"input",placeholder:"value"},{type:"code",value:'"'}]},{title:"Get a key's value",content:[{type:"code",value:'value = db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"Delete a key",content:[{type:"code",value:'del db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"List all keys",content:[{type:"code",value:"keys = db.keys()"}]},{title:"List keys with a prefix",content:[{type:"code",value:'matches = db.prefix("'},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],Jl=[{title:"Import the database",content:[{type:"code",value:'import "github.com/replit/database-go"'}]},{title:"Set a key to a value",content:[{type:"code",value:'database.Set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'")'}]},{title:"Get a key's value",content:[{type:"code",value:'value, _ := database.Get("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"Delete a key",content:[{type:"code",value:'database.Delete("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"List all keys",content:[{type:"code",value:'keys, _ := database.ListKeys("")'}]},{title:"List keys with a prefix",content:[{type:"code",value:"matches, _ := database.ListKeys("},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],Zl=[{title:"Import the database",content:[{type:"code",value:'const Database = require("@replit/database")'}]},{title:"Create a new database",content:[{type:"code",value:"const db = new Database()"}]},{title:"Set a key to a value",content:[{type:"code",value:'db.set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'").then(() => {});'}]},{title:"Get a key's value",content:[{type:"code",value:'db.get("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(value => {});'}]},{title:"Delete a key",content:[{type:"code",value:'db.delete("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(() => {});'}]},{title:"List all keys",content:[{type:"code",value:"db.list().then(keys => {});"}]},{title:"List keys with a prefix",content:[{type:"code",value:'db.list("'},{type:"input",placeholder:"prefix"},{type:"code",value:'").then(matches => {});'}]}],$l=function(e){var t=e.wid,n=e.pud,r=e.examples;return Hl("div",null,Hl(sn.VStack,{spacing:2},r.map((function(e,r){return Hl(Wl,{title:e.title,content:e.content,key:r,wid:t,pud:n})}))))},eu=function(){return Hl(me.Fragment,null,Hl("span",{className:"jsx-1582133223 intro"},"We've set an environment variable called ",Hl("code",{className:"jsx-1582133223"},"REPLIT_DB_URL")," in your repl."),Hl("div",{className:"jsx-1582133223 examples"},Hl(sn.VStack,{spacing:2},Yl.map((function(e,t){return Hl(Wl,{key:t,title:e.title,content:e.content})})))),Hl("span",{className:"jsx-1582133223 disclaimer"},"We have language clients for Python, Go, and Node. But you can still use Database from this repl or any other language by making HTTP requests similar to those above."),Hl(le.a,{id:"1582133223"},[".intro.jsx-1582133223{color:var(--color-foreground-2);padding-top:var(--sapcing-1);padding-bottom:var(--spacing-2);}",".examples.jsx-1582133223{padding:var(--spacing-1) 0;}",".disclaimer.jsx-1582133223{padding-top:var(--spacing-1);padding-bottom:var(--spacing-2);color:var(--color-foreground-2);}","code.jsx-1582133223{padding:2px;background-color:var(--color-control-3);color:var(--color-red-1);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;white-space:nowrap;}"]))},tu=function(){return Hl("div",{className:"jsx-1372110282"},Hl("a",{href:"https://repl.it/talk/announcements/Replit-Database-feedback/51085",target:"_blank",rel:"noopener",className:"jsx-1372110282"},"Send feedback"),Hl(le.a,{id:"1372110282"},["div.jsx-1372110282{background-color:var(--color-background-2);color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-4);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;font-size:var(--font-size-desktop-text-small);}"]))},nu=function(){return Hl("div",{className:"jsx-2608806696 wrapper"},Hl("span",{className:"jsx-2608806696 description"},Hl("a",{href:"https://docs.repl.it/misc/database",target:"_blank",rel:"noopener",className:"jsx-2608806696 docs-link"},"Repl.it Database"),"is the fastest and easiest way to store data from your repl. Try it out by logging in or signing up."),Hl("a",{href:"/signup",className:"jsx-2608806696"},Hl(ht.a,{fullWidth:!0,color:"primary",filled:!0},"Sign up")),Hl(le.a,{id:"2608806696"},[".wrapper.jsx-2608806696{padding:var(--spacing-1) 0;color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}","span.jsx-2608806696{margin-bottom:var(--spacing-1);}",".docs-link.jsx-2608806696{font-weight:var(--font-weight-medium);color:var(--color-primary-1);margin-right:var(--spacing-half);}"]))},ru=n("LR/J"),au=n.n(ru),iu=n("Chr5"),ou=n.n(iu),su=n("ppfS"),cu=n.n(su),lu=n("EqVJ"),uu=n.n(lu),du=n("4b29"),pu=n("XpjT"),fu=n.n(pu),mu=n("tSgl"),bu=n.n(mu),gu=n("VwSA"),hu=be.a.createElement,vu=Ae.ICON_SIZE_MAP.medium,xu=function(e){var t=hu(fu.a,null);if(e in gu.a){var n=gu.a[e];t=hu(Wt.LanguageIcon,{language:e,fill:n})}return hu("div",{className:"jsx-11055842 language-icon"},t,hu(le.a,{id:"11055842"},[".language-icon.jsx-11055842{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:".concat(vu,"px;width:").concat(vu,"px;}"),".language-icon.jsx-11055842 svg{width:100% !important;height:auto !important;}"]))},wu=be.a.createElement;function yu(e){var t,n,r,a,i,o,s,c,l;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.container,n=[".git",".upm",".cache","__pycache__","node_modules"],r=window.performance.now(),u.next=5,Y.a.awrap(t.exec.apply(t,["ag","-g *","--hidden"].concat(Object(Hr.a)(n.map((function(e){return"--ignore=".concat(e)}))))));case 5:if(a=u.sent,i=a.output,o=a.error,Object(Ke.track)(Ke.events.COMMAND_BAR_FIND_FILE,{duration:window.performance.now()-r,failed:Boolean(o)&&"exit status 1"!==o}),s=t.getRepl()){u.next=12;break}throw new Error("Expected repl");case 12:if(c=function(e){return!!e&&(!bu()(e)&&!Re.a.isLangFileBinary(s.language,e))},o||!i){u.next=15;break}return u.abrupt("return",{error:null,files:i.split("\n").filter(c)});case 15:if(!o||!o.includes("not found")){u.next=22;break}return u.next=18,Y.a.awrap(t.exec("find",".","-type","f","-print0"));case 18:if(l=u.sent,Object(Ke.track)(Ke.events.AG_NOT_AVAILABLE,{language:s.language}),!l.output){u.next=22;break}return u.abrupt("return",{error:null,files:l.output.slice(2,-1).split("\0./").filter(c)});case 22:return"exit status 1"!==o&&Be.c(new Error("Find file command failed with error: ".concat(o))),u.abrupt("return",{error:o,files:null});case 24:case"end":return u.stop()}}))}function ku(e){var t=e.container,n=e.onSelect,r=null;return{type:"command",icon:wu(fu.a,null),description:"Find a file",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"},options:function(e){var a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=null===e||void 0===e?void 0:e.toLowerCase(),r){s.next=8;break}return s.next=4,Y.a.awrap(yu({container:t}));case 4:if(!(i=s.sent).error){s.next=7;break}return s.abrupt("return",[]);case 7:r=i.files;case 8:if(r){s.next=10;break}throw new Error("Expected files");case 10:return o=a?En.a.filter(a,r).map((function(e){return e.string})):r,s.abrupt("return",o.map((function(e){var t=xu(Object(ja.a)(e));return{type:"option",value:e,icon:t,run:function(){n(e)}}})));case 12:case"end":return s.stop()}}))}}}var ju=n("6BQ9"),Eu=n.n(ju),Ou=n("2xkv"),_u=n.n(Ou),Nu=be.a.createElement,Su=100,Cu=150;function Tu(e){var t,n,r,a,i,o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,j;return Y.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return t=e.query,n=e.container,r=window.performance.now(),E.next=4,Y.a.awrap(n.exec("ag","--context=0","--workers=1","--width=".concat(Cu),"--literal","--ackmate","--pager","head -".concat(3*Su),"--",t));case 4:if(a=E.sent,i=a.output,o=a.error,Object(Ke.track)(Ke.events.COMMAND_BAR_SEARCH,{duration:window.performance.now()-r,failed:Boolean(o)&&"exit status 1"!==o}),!o){E.next=11;break}return"exit status 1"!==o&&Be.c(new Error("Search command failed with error: ".concat(o))),E.abrupt("return",{error:o});case 11:if(i){E.next=13;break}return E.abrupt("return",{});case 13:s=i.split("\n"),c={},l="",u=0,d=!0,p=!1,f=void 0,E.prev=20,m=Tn()(s);case 22:if(d=(b=m.next()).done){E.next=44;break}if(g=b.value){E.next=26;break}return E.abrupt("continue",41);case 26:if(!g.startsWith(":")){E.next=30;break}return l=g.slice(1),c[l]=[],E.abrupt("continue",41);case 30:if(!(u>=Su)){E.next=32;break}return E.abrupt("break",44);case 32:h=g.indexOf(";"),v=Eu()(g.slice(0,h),10),x=g.slice(h+1),w=x.indexOf(":"),y=x.slice(0,w).split(","),k=y.map((function(e){var t=e.split(" "),n=Object(W.a)(t,2),r=n[0],a=n[1];return{column:Eu()(r,10),length:Eu()(a,10)}})),j=x.slice(w+1),u++,c[l].push({content:j,lineNumber:v,matches:k});case 41:d=!0,E.next=22;break;case 44:E.next=50;break;case 46:E.prev=46,E.t0=E.catch(20),p=!0,f=E.t0;case 50:E.prev=50,E.prev=51,d||null==m.return||m.return();case 53:if(E.prev=53,!p){E.next=56;break}throw f;case 56:return E.finish(53);case 57:return E.finish(50);case 58:return E.abrupt("return",{error:null,results:c});case 59:case"end":return E.stop()}}),null,null,[[20,46,50,58],[51,,53,57]])}function Iu(e){var t,n=e.container,r=e.onSelect;return{type:"command",icon:Nu(_u.a,null),description:"Search through your files",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"},options:function(e){var a,i,o,s,c,l,u;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(e){d.next=2;break}return d.abrupt("return",[]);case 2:return a=Math.random(),t=a,d.next=6,Y.a.awrap(Tu({query:e,container:n}));case 6:if(i=d.sent,o=i.results,a===t){d.next=10;break}return d.abrupt("return",[]);case 10:if(o){d.next=12;break}return d.abrupt("return",[]);case 12:for(s=[],c=function(){var e=Object(W.a)(u[l],2),t=e[0],n=e[1],a=xu(Object(ja.a)(t)),i=n.map((function(e){return{icon:a,value:e.content,description:"".concat(t,":").concat(e.lineNumber),matches:e.matches,type:"option",run:function(){r(t,e.lineNumber,e.matches[0].column)}}}));s.push.apply(s,Object(Hr.a)(i))},l=0,u=au()(o);l<u.length;l++)c();return d.abrupt("return",s);case 16:case"end":return d.stop()}}))}}}var Ru=me.createElement;function Au(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pu=Object(wr.a)(["TOGGLE_COMMAND_BAR"]),Lu=Pu.receiver,Du=Pu.useReceiver;function Mu(e){var t=e.wid,n=Object(sa.a)().container,r=Object(De.e)(),a=Object(at.Wc)().data,i=me.useState(null),o=Object(W.a)(i,2),s=o[0],c=o[1],l=me.useState(null),u=Object(W.a)(l,2),d=u[0],p=u[1],f=(null===a||void 0===a?void 0:a.currentUser)?{find:ku({container:n,onSelect:function(e){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"find"}),r({wid:t,type:"OPEN_FILE",path:e}),c(null)}}),search:Iu({container:n,onSelect:function(e,n,a){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"search"}),r({wid:t,type:"OPEN_DEEP_LINK",path:e,line:n,col:a}),c(null)}})}:{},m={type:"command",description:"Type a command...",commands:"undefined"!==typeof(null===a||void 0===a?void 0:a.currentUser)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Au(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},f,{multiplayer:{type:"command",icon:Ru(ct.a,null),description:"Open multiplayer mode",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"multiplayer"}),r({type:"OPEN_MULTIPLAYER_MODAL",wid:t}),c(null)}},run:{type:"command",icon:Ru(qt.a,null),description:"Run repl",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"run"}),r({wid:t,type:"RUN_REPL"}),c(null)}},shell:{type:"command",icon:Ru(ou.a,null),description:"Open shell",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"shell"}),r({wid:t,type:"OPEN_SHELL"}),c(null)}},settings:{type:"command",icon:Ru(cu.a,null),description:"Manage editor settings",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:","},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"settings"}),r({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"preferences",wid:t}),c(null)}},"version-control":{type:"command",icon:Ru(uu.a,null),description:"Open version control sidebar",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"G"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"version control"}),r({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"git",wid:t}),c(null)}}}):void 0};return me.useEffect((function(){var e=function(e){if(Object(_o.a)(e),!e.altKey&&!e.shiftKey&&Object(vo.b)(e)&&(vo.c?"k"===e.key.toLowerCase():"."===e.key.toLowerCase()))return e.preventDefault(),void c("");if(m.commands){var t=au()(m.commands),n=!0,r=!1,a=void 0;try{for(var i,o=Tn()(t);!(n=(i=o.next()).done);n=!0){var s=Object(W.a)(i.value,2),l=s[0],u=s[1],d=u.keyboardShortcut;if(d&&(d.cmdOrCtrlKey===Boolean(Object(vo.b)(e))&&d.altKey===Boolean(e.altKey)&&d.shiftKey===Boolean(e.shiftKey)&&d.key.toLowerCase()===e.key.toLowerCase()))return e.preventDefault(),!u.run||u.run.length>0?void c(l+" "):void u.run()}}catch(p){r=!0,a=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[m,c]),me.useEffect((function(){s&&Object(Ke.track)(Ke.events.COMMAND_BAR_OPENED,{initialValue:s})}),[s]),Du((function(e){switch(e.action.type){case"TOGGLE_COMMAND_BAR":c(null===s?"":null)}return null})),Ru(on.a,{disableAppearance:!0,isOpen:null!==s,onRequestClose:function(){return c(null)}},Ru("div",{className:le.a.dynamic([["3566060265",[Ae.BREAKPOINTS.mobileMax]]])},Ru(du.a,{autoFocus:!0,renderOutput:p,command:m,value:s||""}),d?Ru("div",{className:le.a.dynamic([["3566060265",[Ae.BREAKPOINTS.mobileMax]]])+" output"},d):null,Ru(le.a,{id:"3566060265",dynamic:[Ae.BREAKPOINTS.mobileMax]},["div.__jsx-style-dynamic-selector{color:var(--color-foreground-1);width:100vw;max-width:550px;margin:var(--padding-size-large) auto 0;}","@media screen and (min-width:".concat(Ae.BREAKPOINTS.mobileMax,"px){div.__jsx-style-dynamic-selector{margin-top:20vh;}}")])))}var Fu=be.a.createElement,Uu=Ae.ICON_SIZE_MAP.medium,Hu=function(e){var t=Fu(fu.a,null);if(e in gu.a){var n=gu.a[e];t=Fu(Wt.LanguageIcon,{language:e,fill:n})}return Fu("div",{className:"jsx-11055842 language-icon"},t,Fu(le.a,{id:"11055842"},[".language-icon.jsx-11055842{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:".concat(Uu,"px;width:").concat(Uu,"px;}"),".language-icon.jsx-11055842 svg{width:100% !important;height:auto !important;}"]))},Gu=be.a.createElement;function Bu(e){var t,n,r,a,i,o,s=arguments;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e.closed){c.next=2;break}return c.abrupt("return",{error:"channel closed",output:""});case 2:for(t="",n="",r=function(e){e.output&&(t+=e.output),e.error&&(n+=e.error)},e.on("command",r),a=s.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=s[o];return c.next=9,Y.a.awrap(e.request({exec:{args:i}}));case 9:return e.off("command",r),c.abrupt("return",{error:n,output:t});case 11:case"end":return c.stop()}}))}function zu(e){var t,n,r,a,i,o,s,c,l,u;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.requestExecChannel,n=e.language,d.next=3,Y.a.awrap(t());case 3:return r=d.sent,a=[".git",".upm",".cache","__pycache__","node_modules"],d.next=7,Y.a.awrap(Bu.apply(void 0,[r,"ag","-g *","--hidden"].concat(Object(Hr.a)(a.map((function(e){return"--ignore=".concat(e)}))))));case 7:if(i=d.sent,o=i.error,s=i.output,c=window.performance.now(),Object(Ke.track)(Ke.events.COMMAND_BAR_FIND_FILE,{duration:window.performance.now()-c,failed:Boolean(o)&&"exit status 1"!==o}),n){d.next=14;break}throw new Error("Expected language");case 14:if(l=function(e){return!!e&&(!bu()(e)&&!Re.a.isLangFileBinary(n,e))},o||!s){d.next=17;break}return d.abrupt("return",{error:null,files:s.split("\n").filter(l)});case 17:if(!o||!o.includes("not found")){d.next=24;break}return d.next=20,Y.a.awrap(Bu(r,"find",".","-type","f","-print0"));case 20:if(u=d.sent,Object(Ke.track)(Ke.events.AG_NOT_AVAILABLE,{language:n}),!u.output){d.next=24;break}return d.abrupt("return",{error:null,files:u.output.slice(2,-1).split("\0./").filter(l)});case 24:return"exit status 1"!==o&&Be.c(new Error("Find file command failed with error: ".concat(o))),d.abrupt("return",{error:o,files:null});case 26:case"end":return d.stop()}}))}function Ku(e){var t=e.requestExecChannel,n=e.language,r=e.onSelect,a=null;return{type:"command",icon:Gu(fu.a,null),description:"Find a file",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"},options:function(e){var i,o,s;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=null===e||void 0===e?void 0:e.toLowerCase(),a){c.next=8;break}return c.next=4,Y.a.awrap(zu({requestExecChannel:t,language:n}));case 4:if(!(o=c.sent).error){c.next=7;break}return c.abrupt("return",[]);case 7:a=o.files;case 8:if(a){c.next=10;break}throw new Error("Expected files");case 10:return s=i?En.a.filter(i,a).map((function(e){return e.string})):a,c.abrupt("return",s.map((function(e){var t=Hu(Object(ja.a)(e));return{type:"option",value:e,icon:t,run:function(){r(e)}}})));case 12:case"end":return c.stop()}}))}}}var Vu=be.a.createElement,qu=100,Wu=150;function Xu(e){var t,n,r,a,i,o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,j,E;return Y.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return t=e.query,n=e.requestExecChannel,r=window.performance.now(),O.next=4,Y.a.awrap(n());case 4:if(!(a=O.sent).closed){O.next=7;break}return O.abrupt("return",{error:"channel closed",results:null});case 7:return i="",o="",s=function(e){e.output&&(i+=e.output),e.error&&(o+=e.error)},a.on("command",s),O.next=13,Y.a.awrap(a.request({exec:{args:["ag","--context=0","--workers=1","--width=".concat(Wu),"--literal","--ackmate","--pager","head -".concat(3*qu),"--",t]}}));case 13:if(a.off("command",s),Object(Ke.track)(Ke.events.COMMAND_BAR_SEARCH,{duration:window.performance.now()-r,failed:Boolean(o)&&"exit status 1"!==o}),!o){O.next=18;break}return"exit status 1"!==o&&Be.c(new Error("Search command failed with error: ".concat(o))),O.abrupt("return",{error:o,results:null});case 18:if(i){O.next=20;break}return O.abrupt("return",{error:null,results:{}});case 20:c=i.split("\n"),l={},u="",d=0,p=!0,f=!1,m=void 0,O.prev=27,b=Tn()(c);case 29:if(p=(g=b.next()).done){O.next=51;break}if(h=g.value){O.next=33;break}return O.abrupt("continue",48);case 33:if(!h.startsWith(":")){O.next=37;break}return u=h.slice(1),l[u]=[],O.abrupt("continue",48);case 37:if(!(d>=qu)){O.next=39;break}return O.abrupt("break",51);case 39:v=h.indexOf(";"),x=Eu()(h.slice(0,v),10),w=h.slice(v+1),y=w.indexOf(":"),k=w.slice(0,y).split(","),j=k.map((function(e){var t=e.split(" "),n=Object(W.a)(t,2),r=n[0],a=n[1];return{column:Eu()(r,10),length:Eu()(a,10)}})),E=w.slice(y+1),d++,l[u].push({content:E,lineNumber:x,matches:j});case 48:p=!0,O.next=29;break;case 51:O.next=57;break;case 53:O.prev=53,O.t0=O.catch(27),f=!0,m=O.t0;case 57:O.prev=57,O.prev=58,p||null==b.return||b.return();case 60:if(O.prev=60,!f){O.next=63;break}throw m;case 63:return O.finish(60);case 64:return O.finish(57);case 65:return O.abrupt("return",{error:null,results:l});case 66:case"end":return O.stop()}}),null,null,[[27,53,57,65],[58,,60,64]])}function Yu(e){var t,n=e.requestExecChannel,r=e.onSelect;return{type:"command",icon:Vu(_u.a,null),description:"Search through your files",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"},options:function(e){var a,i,o,s,c,l,u;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(e){d.next=2;break}return d.abrupt("return",[]);case 2:return a=Math.random(),t=a,d.next=6,Y.a.awrap(Xu({query:e,requestExecChannel:n}));case 6:if(i=d.sent,o=i.results,i.error,a===t){d.next=11;break}return d.abrupt("return",[]);case 11:if(o){d.next=14;break}return d.abrupt("return",[]);case 14:for(s=[],c=function(){var e=Object(W.a)(u[l],2),t=e[0],n=e[1],a=Hu(Object(ja.a)(t)),i=n.map((function(e){return{icon:a,value:e.content,description:"".concat(t,":").concat(e.lineNumber),matches:e.matches,type:"option",run:function(){r(t,e.lineNumber,e.matches[0].column)}}}));s.push.apply(s,Object(Hr.a)(i))},l=0,u=au()(o);l<u.length;l++)c();return d.abrupt("return",s);case 18:case"end":return d.stop()}}))}}}var Qu=me.createElement;function Ju(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zu=me.createContext(null),$u=function(e){var t=e.ws,n=e.children,r=me.useState(null),a=Object(W.a)(r,2),i=a[0],o=a[1];return me.useEffect((function(){return t.register("channelrequestprovider",{reciever:Object(Yc.a)((function(e,t,n,r){return"CHANNEL_REQUESTER_INIT"!==n.type?null:function(t){o((function(n){return function(n){return t(Object(Xc.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Ju(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({wid:e,wait:r},n)))}}))}}))}),t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"channelrequestprovider",pluginType:"channelrequestprovider"}),t.store.dispatch({type:"CHANNEL_REQUESTER_INIT"}),function(){o(null)}}),[t]),Qu(Zu.Provider,{value:i},n)};var ed=me.createElement,td=Object(wr.a)(["TOGGLE_COMMAND_BAR","REPL_UPDATED"]),nd=td.receiver,rd=td.useReceiver;function ad(e){var t=e.wid,n=Object(De.e)(),r=me.useState(null),a=Object(W.a)(r,2),i=a[0],o=a[1],s=me.useState(null),c=Object(W.a)(s,2),l=c[0],u=c[1],d=me.useState(""),p=Object(W.a)(d,2),f=p[0],m=p[1],b=me.useContext(Zu),g={type:"command",description:"Type a command...",commands:{find:Ku({requestExecChannel:function(){if(!b)throw new Error("Expected requestChannel to be truthy");return b({service:"exec"})},language:f,onSelect:function(e){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"find"}),n({wid:t,type:"OPEN_FILE",path:e}),o(null)}}),search:Yu({requestExecChannel:function(){if(!b)throw new Error("Expected requestChannel to be truthy");return b({service:"exec"})},onSelect:function(e,r,a){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"search"}),n({wid:t,type:"OPEN_DEEP_LINK",path:e,line:r,col:a}),o(null)}}),multiplayer:{type:"command",icon:ed(ct.a,null),description:"Open multiplayer mode",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"multiplayer"}),n({type:"OPEN_MULTIPLAYER_MODAL",wid:t}),o(null)}},run:{type:"command",icon:ed(qt.a,null),description:"Run repl",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"run"}),n({wid:t,type:"RUN_REPL"}),o(null)}},shell:{type:"command",icon:ed(ou.a,null),description:"Open shell",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"shell"}),n({wid:t,type:"OPEN_SHELL"}),o(null)}},settings:{type:"command",icon:ed(cu.a,null),description:"Manage editor settings",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:","},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"settings"}),n({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"preferences",wid:t}),o(null)}},"version-control":{type:"command",icon:ed(uu.a,null),description:"Open version control sidebar",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"G"},run:function(){Object(Ke.track)(Ke.events.COMMAND_BAR_COMMAND_SELECTED,{command:"version control"}),n({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"git",wid:t}),o(null)}}}};return me.useEffect((function(){var e=function(e){if(Object(_o.a)(e),!e.altKey&&!e.shiftKey&&Object(vo.b)(e)&&(vo.c?"k"===e.key.toLowerCase():"."===e.key.toLowerCase()))return e.preventDefault(),void o("");var t=au()(g.commands),n=!0,r=!1,a=void 0;try{for(var i,s=Tn()(t);!(n=(i=s.next()).done);n=!0){var c=Object(W.a)(i.value,2),l=c[0],u=c[1],d=u.keyboardShortcut;if(d&&(d.cmdOrCtrlKey===Boolean(Object(vo.b)(e))&&d.altKey===Boolean(e.altKey)&&d.shiftKey===Boolean(e.shiftKey)&&d.key.toLowerCase()===e.key.toLowerCase()))return e.preventDefault(),!u.run||u.run.length>0?void o(l+" "):void u.run()}}catch(p){r=!0,a=p}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[g,o]),me.useEffect((function(){i&&Object(Ke.track)(Ke.events.COMMAND_BAR_OPENED,{initialValue:i})}),[i]),rd((function(e){var t=e.action;switch(t.type){case"TOGGLE_COMMAND_BAR":o(null===i?"":null);break;case"REPL_UPDATED":if(!t.updates.language)break;m(t.updates.language)}return null})),ed(on.a,{disableAppearance:!0,isOpen:null!==i,onRequestClose:function(){return o(null)}},ed("div",{className:le.a.dynamic([["3566060265",[Ae.BREAKPOINTS.mobileMax]]])},ed(du.a,{autoFocus:!0,renderOutput:u,command:g,value:i||""}),l?ed("div",{className:le.a.dynamic([["3566060265",[Ae.BREAKPOINTS.mobileMax]]])+" output"},l):null,ed(le.a,{id:"3566060265",dynamic:[Ae.BREAKPOINTS.mobileMax]},["div.__jsx-style-dynamic-selector{color:var(--color-foreground-1);width:100vw;max-width:550px;margin:var(--padding-size-large) auto 0;}","@media screen and (min-width:".concat(Ae.BREAKPOINTS.mobileMax,"px){div.__jsx-style-dynamic-selector{margin-top:20vh;}}")])))}var id=n("sEfC"),od=n.n(id),sd=me.createElement,cd=function(e){var t=e.unreadDot,n=e.size,r=void 0===n?12:n;return sd("span",{className:"jsx-2142368589"},sd("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",style:{color:"currentColor"},xmlns:"http://www.w3.org/2000/svg",className:"jsx-2142368589"},sd("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-2142368589"})),t&&sd("div",{className:"jsx-2142368589 unread-indicator"}),sd(le.a,{id:"2142368589"},["span.jsx-2142368589{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".unread-indicator.jsx-2142368589{width:5px;height:5px;border-radius:10px;background-color:var(--color-multiplayer-red);-webkit-transform:translate(8px,-1px);-ms-transform:translate(8px,-1px);transform:translate(8px,-1px);position:absolute;}"]))},ld=function(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,o=Tn()(e.messages);!(n=(i=o.next()).done);n=!0){var s=i.value;s.user&&(t[s.user.id]=s.user)}}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return ae()(t)},ud="annotations/lastRead";function dd(e){if(e.messages){var t=e.messages[e.messages.length-1];if(t){var n=JSON.parse(window.localStorage.getItem(ud)||"{}");n[e.id]=new Date(t.timeCreated).getTime(),window.localStorage.setItem(ud,se()(n))}}}function pd(e){if(!e.messages)return!0;var t=e.messages[e.messages.length-1];return!t||JSON.parse(window.localStorage.getItem(ud)||"{}")[e.id]>=new Date(t.timeCreated).getTime()}var fd=me.createElement;var md=function(e){var t=e.annote,n=e.onClick,r=e.editorFontSize,a=pd(t),i=ld(t).filter((function(e){return!t.user||e.id!==t.user.id})),o="".concat(r,"px");return fd("div",{onClick:n,className:le.a.dynamic([["386290217",[r]]])+" annotation-preview"},fd("div",{className:le.a.dynamic([["386290217",[r]]])+" user-stack"},[t.user].concat(Object(Hr.a)(i)).slice(0,3).map((function(e){return e&&fd(_e.a,{url:e.image,key:e.id,size:"xs",style:{minWidth:o,minHeight:o,height:o,width:o}})}))),t.messages.length>0&&fd("div",{className:le.a.dynamic([["386290217",[r]]])+" comment-info"},fd("div",{className:le.a.dynamic([["386290217",[r]]])+" comment-count"},t.messages.length),fd(cd,{size:r,unreadDot:!a})),fd(le.a,{id:"386290217",dynamic:[r]},[".annotation-preview.__jsx-style-dynamic-selector{position:absolute;padding:4px;border-radius:var(--border-radius-1);background-color:var(--color-background-1);color:var(--color-foreground-1);display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:0.5px solid var(--color-control-3);-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);-webkit-transition:width 0.2s,background-color 0.2s,-webkit-transform 0.1s;-webkit-transition:width 0.2s,background-color 0.2s,transform 0.1s;transition:width 0.2s,background-color 0.2s,transform 0.1s;z-index:1;}",".annotation-preview.__jsx-style-dynamic-selector:hover{-webkit-transform:translateX(-100%) scale(1.1);-ms-transform:translateX(-100%) scale(1.1);transform:translateX(-100%) scale(1.1);}",".user-stack.__jsx-style-dynamic-selector{display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-half);}",".comment-info.__jsx-style-dynamic-selector{display:grid;grid-auto-flow:column;grid-gap:var(--spacing-half);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".comment-count.__jsx-style-dynamic-selector{font-weight:var(--font-weight-medium);font-size:0.8em;font-size:".concat(r,"px;}")]))},bd=n("G3rN"),gd=n.n(bd),hd=n("Lv/3"),vd=n("GLdP"),xd=n.n(vd),wd=n("Wlt/");function yd(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var kd=function(e){return/\s/.test(e)};function jd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=me.useState(null),a=Object(W.a)(r,2),i=a[0],o=a[1],s=me.useCallback(o,[o]),c=me.useRef(t);me.useEffect((function(){c.current=t}),[t]);var l=me.useState(null),u=Object(W.a)(l,2),d=u[0],p=u[1];return me.useEffect((function(){if(i){var e=function(){var e=i.value,t=i.selectionStart;if(t){var n=1===t||kd(e[t-2]||""),r=e.length?e[t-1]:null;p((function(a){if(a&&(t<a.index||0===t))return null;if(!r)return a;if(!a&&!n)return a;var i=c.current.includes(r);return a||i?a?kd(r)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):yd(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},a,{text:e.slice(a.index,t)}):{index:t,text:"",match:r}:a}))}else p(null)},t=function(){p(null)};return i.addEventListener("focus",e),i.addEventListener("keyup",e),i.addEventListener("blur",t),function(){p(null),i.removeEventListener("focus",e),i.removeEventListener("keyup",e),i.removeEventListener("blur",t)}}}),[i,p]),[d,s]}var Ed=n("DqZZ"),Od=6e5;function _d(){var e,t=Object(_t.a)(),n=Object(at.Z)({variables:{replId:t}}).data;if("Repl"!==(null===n||void 0===n?void 0:n.repl.__typename))return[];var r=[];(null===(e=n.repl.owner)||void 0===e?void 0:e.username)&&"User"===n.repl.owner.__typename&&r.push(n.repl.owner);var a=!0,i=!1,o=void 0;try{for(var s,c=Tn()(n.repl.permissions);!(a=(s=c.next()).done);a=!0){var l,u=s.value;(null===(l=u.user)||void 0===l?void 0:l.username)&&r.push(u.user)}}catch(d){i=!0,o=d}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return r}var Nd=me.createElement,Sd=function(e){var t=new Date(e),n=new Date;return xd()(n,t)<60?"now":Object(hd.ago)(t,!0)};function Cd(e){var t=e.message,n=e.messageStyle,r=t.text,a=me.useMemo((function(){return Object(ts.b)(r,{})}),[r]);return t.user?Nd("div",{className:"jsx-3114630815 "+(n||"")},Nd("div",{className:"jsx-3114630815 message"},Nd(ts.a,{message:a,codeStyles:{color:"var(--color-negative-1)",background:"var(--color-control-1)"}})),Nd(le.a,{id:"3114630815"},[".message.jsx-3114630815{background:var(--color-control-2);padding:var(--spacing-half) var(--spacing-1);border-radius:var(--border-radius-3);font-size:var(--font-size-desktop-text-small);overflow-wrap:break-word;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:calc(225px - 2 * var(--spacing-2));white-space:pre-wrap;}",".userhighlight.jsx-3114630815 .message.jsx-3114630815{background:transparent;}"])):null}function Td(e){var t=e.messages,n=e.user,r=e.timeCreated;return n?Nd("div",{className:"jsx-834516520 message-group"},Nd("div",{className:"jsx-834516520 message-info"},Nd("div",{className:"jsx-834516520 avatar"},Nd(_e.a,{url:n.image,size:"xs",style:{minHeight:"15px",minWidth:"15px",height:"15px",width:"15px"}})),Nd("div",{className:"jsx-834516520 username"},n.username),Nd("div",{className:"jsx-834516520 time"},Sd(r))),Nd("div",{className:"jsx-834516520 messages"},t.map((function(e){return Nd(Cd,{message:e,key:e.id})}))),Nd(le.a,{id:"834516520"},[".message-group.jsx-834516520{background-color:var(--color-background-1);color:var(--color-foreground-1);display:grid;position:relative;grid-template-rows:auto auto;grid-row-gap:var(--spacing-1);}",".message-info.jsx-834516520{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-size-desktop-text-xsmall);}",".messages.jsx-834516520{display:grid;grid-row-gap:var(--spacing-half);}",".avatar.jsx-834516520{margin-right:5px;}",".username.jsx-834516520{color:var(--color-foreground-2);font-weight:var(--font-weight-medium);margin-right:3px;}",".time.jsx-834516520{color:var(--color-foreground-3);}"])):null}var Id=function(e){var t=e.annote,n=e.currentUserId,r=e.onFinalizeMessage,a=void 0===r?function(){}:r,i=e.onChangeMessage,o=void 0===i?function(){}:i,s=e.onResolve,c=void 0===s?function(){}:s,l=e.onRequestClose,u=void 0===l?function(){}:l,d=e.style,p=e.width,f=t.messages,m=me.useState(""),b=Object(W.a)(m,2),g=b[0],h=b[1],v=me.useRef(null),x=me.useRef(null),w=Object(An.a)({accept:[oa.a.FileNode,oa.a.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver({shallow:!0})&&!n}},canDrop:function(e){return!e.isFolder},drop:function(e){e&&!e.isFolder&&a("#".concat(e.path))}}),y=Object(W.a)(w,2),k=y[0],j=y[1],E=Object(Ed.a)(),O=E.ref,_=E.update,N=_d(),S=function(e){var t=me.useRef(e);me.useEffect((function(){t.current=e}),[e]);var n=me.useState(!1),r=Object(W.a)(n,2),a=r[0],i=r[1],o=me.useState(null),s=Object(W.a)(o,2),c=s[0],l=s[1],u=jd.apply(void 0,Object(Hr.a)(K()(e))),d=Object(W.a)(u,2),p=d[0],f=d[1],m=me.useRef(p);me.useEffect((function(){m.current=p}),[p]);var b=Object(wd.a)(p,100);return me.useEffect((function(){if(b){var e=b.match,n=b.text,r=t.current[e]?t.current[e]:null;if(r){var a=!1;return i(!0),r(n).then((function(e){a||m.current===b&&(i(!1),l({textTrigger:b,results:e,applySuggestion:function(e){var t=e.targetValue,n=e.suggestionValue,r=t.slice(0,b.index),a=n,i=t.slice(b.index+b.text.length);i&&i.startsWith(" ")||(a+=" ");var o=r+a+i;return{cursorIndex:(r+a).length+(i&&i.startsWith(" ")?1:0),fullValue:o}}}))})),function(){a=!0}}l(null)}else l(null)}),[b,l]),[{isLoading:a,suggestions:c},f]}({"@":function(e){var t,r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=N.filter((function(e){return e.id!==n})),e&&(r=e.toLowerCase(),t=t.filter((function(e){return e.username.toLowerCase().startsWith(r)}))),a.abrupt("return",t.slice(0,5).map((function(e){return{icon:Nd(_e.a,{url:e.image,style:{height:"24px",width:"24px",minWidth:"24px",minHeight:"24px"}}),value:e.username}})));case 3:case"end":return a.stop()}}))}}),C=Object(W.a)(S,2),T=C[0].suggestions,I=C[1],A=Object(Dn.useCombobox)({items:(null===T||void 0===T?void 0:T.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(null===T||void 0===T?void 0:T.results.length),onSelectedItemChange:function(e){var t=e.selectedItem;if(T&&t){var n=T.applySuggestion({targetValue:g,suggestionValue:t.value}),r=n.fullValue,a=n.cursorIndex;h(r),setTimeout((function(){v.current&&(v.current.setSelectionRange(a,a),v.current.focus())}))}}}),P=A.isOpen,L=A.getInputProps,D=A.getMenuProps,M=A.getItemProps,F=A.highlightedIndex,U=Object(ho.a)((function(e){var t=e.target;t.closest(".node-row")||t.closest(".file-header-tab")||u()}),[]);me.useEffect((function(){v.current&&v.current.focus()}),[v]),me.useEffect((function(){function e(e){"Escape"===e.key&&u()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[u]),me.useEffect((function(){dd(t)}),[t]),me.useEffect((function(){x.current&&(x.current.scrollTop=x.current.scrollHeight)}),[f]);var H=me.useMemo((function(){return f.sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}))}),[f]);function G(){""!==g.trim()&&(a(g.trim()),h(""),setTimeout(_))}var B=ld(t).filter((function(e){return e.id!==n})),z="Add a comment";1===B.length?z="Reply to @".concat(B[0].username):B.length>1&&(z="Reply");var V=function(e){var t=[],n=null,r=!0,a=!1,i=void 0;try{for(var o,s=Tn()(e);!(r=(o=s.next()).done);r=!0){var c,l,u,d=o.value;!n||(null===d||void 0===d?void 0:null===(c=d.user)||void 0===c?void 0:c.id)!==(null===(l=n)||void 0===l?void 0:null===(u=l.user)||void 0===u?void 0:u.id)||new Date(d.timeCreated).getTime()-new Date(n.timeCreated).getTime()>Od?(n&&t.push(n),n={user:d.user,timeCreated:d.timeCreated,messages:[d]}):n.messages.push(d)}}catch(p){a=!0,i=p}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n&&t.push(n),t}(H);return Nd("div",{style:d,ref:function(e){j(e),U.current=e},className:le.a.dynamic([["1506732134",[p]]])+" "+(nt()("annotation-group",{"is-over":k.isOver})||"")},V.length>0&&Nd("div",{ref:x,className:le.a.dynamic([["1506732134",[p]]])+" message-group-container"},V.map((function(e){return Nd(Td,{key:e.messages[0].id,messages:e.messages,user:e.user,timeCreated:e.timeCreated})}))),Nd("div",{className:le.a.dynamic([["1506732134",[p]]])+" input-group"},Nd("textarea",Object(R.a)({},L({autoFocus:!0,placeholder:z,value:g,onChange:function(e){var t=e.target.value;h(t),o(t)},onKeyDown:function(e){P||(e.nativeEvent.preventDownshiftDefault=!0,"Enter"!==e.key||e.shiftKey||(e.preventDefault(),G()))},rows:1,ref:function(e){v.current=e,I(e),O(e)}}),{className:le.a.dynamic([["1506732134",[p]]])+" "+(nt()("inputbox",{hasContent:g.length>0})||"")})),Nd("button",{onClick:G,className:le.a.dynamic([["1506732134",[p]]])+" "+(nt()("send-button",{isValid:g.length>0})||"")},Nd(qt.a,{filled:!0,size:"small"}))),P&&Nd("div",Object(R.a)({},D({}),{className:le.a.dynamic([["1506732134",[p]]])+" mention-suggestions-container"}),T.results.map((function(e,t){return Nd("div",Object(R.a)({},M({item:e,index:t}),{key:e.value,className:le.a.dynamic([["1506732134",[p]]])+" "+(nt()("mention-suggestion",{selected:F===t})||"")}),e.icon,Nd("div",{className:le.a.dynamic([["1506732134",[p]]])},e.value))}))),Nd("div",{className:le.a.dynamic([["1506732134",[p]]])+" floating-group"},Nd("a",{href:"https://replit.canny.io/feedback/p/teams-beta-feedback",target:"_blank",className:le.a.dynamic([["1506732134",[p]]])+" feedback show-on-hover"},Nd(Yn.Button,{size:"small",textColor:"var(--color-foreground-2)"},"Have feedback?")),Nd("div",{className:le.a.dynamic([["1506732134",[p]]])+" delete show-on-hover"},Nd("button",{"aria-label":"Delete","data-microtip-position":"top",role:"tooltip",onClick:function(e){window.confirm("Are you sure you want to delete this annotation?")&&c(e)},className:le.a.dynamic([["1506732134",[p]]])+" floating-button delete"},Nd(gd.a,null))),Nd("div",{className:le.a.dynamic([["1506732134",[p]]])+" close"},Nd("button",{"aria-label":"Close","data-microtip-position":"top",role:"tooltip",onClick:u,className:le.a.dynamic([["1506732134",[p]]])+" floating-button close"},Nd(gn.a,null)))),Nd(le.a,{id:"1506732134",dynamic:[p]},[".annotation-group.__jsx-style-dynamic-selector{position:absolute;z-index:10;position:relative;display:grid;grid-row-gap:var(--spacing-2);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;background-color:var(--color-background-1);padding:var(--spacing-1);border-radius:var(--border-radius-1);width:".concat(p,"px;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);border:0.5px solid var(--color-control-3);}"),".annotation-group.is-over.__jsx-style-dynamic-selector{background-color:var(--color-background-2);}",".annotation-group.__jsx-style-dynamic-selector *.__jsx-style-dynamic-selector{-webkit-transition:all 0.2s;transition:all 0.2s;}",".message-group-container.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--spacing-2);max-height:275px;overflow-y:auto;overflow-y:overlay;padding:var(--spacing-1);padding-bottom:0;}",".__jsx-style-dynamic-selector::-webkit-scrollbar{background-color:transparent;width:4px;}",".__jsx-style-dynamic-selector::-webkit-scrollbar-track{background-color:transparent;}",".__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background-color:var(--color-control-2);}",".input-group.__jsx-style-dynamic-selector{display:grid;grid-template-columns:1fr min-content;grid-gap:10px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}",".inputbox.__jsx-style-dynamic-selector{background:var(--color-control-3);color:var(--color-foreground-1);border:none;border-radius:var(--border-radius-3);padding:var(--spacing-1);outline:none;resize:none;font-family:'IBM Plex Sans',sans-serif;font-size:var(--font-size-desktop-text-small);line-height:16px;overflow-y:auto;max-height:calc(var(--font-size-desktop-text-small) * 18);}",".inputbox.hasContent.__jsx-style-dynamic-selector{border-radius:6px;}",".send-button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:24px;height:24px;background:var(--color-control-1);color:var(--color-foreground-3);border:none;border-radius:50%;}",".send-button.__jsx-style-dynamic-selector:focus{outline:none;}",".send-button.isValid.__jsx-style-dynamic-selector{background:var(--color-primary-1);color:var(--color-white);cursor:pointer;}",".send-button.isValid.__jsx-style-dynamic-selector:hover{background:var(--color-primary-2);}",".send-button.isValid.__jsx-style-dynamic-selector:active{background:var(--color-primary-3);}",".floating-group.__jsx-style-dynamic-selector{position:absolute;display:grid;grid-auto-flow:column;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;grid-column-gap:8px;top:-32px;left:0;right:0;}",".floating-group.__jsx-style-dynamic-selector .show-on-hover.__jsx-style-dynamic-selector{opacity:0;}",".annotation-group.__jsx-style-dynamic-selector:hover>.floating-group.__jsx-style-dynamic-selector .show-on-hover.__jsx-style-dynamic-selector{opacity:1;}",".feedback.__jsx-style-dynamic-selector{position:absolute;-webkit-text-decoration:none;text-decoration:none;}",".floating-button.__jsx-style-dynamic-selector{width:24px;height:24px;border-radius:50%;background:var(--color-control-3);color:var(--color-foreground-2);border:1px solid var(--color-control-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".floating-button.__jsx-style-dynamic-selector:focus{outline:none;}",".floating-button.__jsx-style-dynamic-selector:hover{color:var(--color-foreground-1);background:var(--color-control-2);}",".floating-button.delete.__jsx-style-dynamic-selector:hover{color:var(--color-white);background:var(--color-negative-1);border-color:var(--color-negative-2);}",".floating-button.__jsx-style-dynamic-selector:active{background:var(--color-control-1);}",".mention-suggestions-container.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--spacing-half);overflow:hidden;}",".mention-suggestion.__jsx-style-dynamic-selector{display:grid;grid-template-columns:min-content max-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-column-gap:var(--spacing-1);padding:var(--spacing-1) 0;cursor:pointer;color:var(--color-foreground-1);}",".mention-suggestion.selected.__jsx-style-dynamic-selector{background-color:var(--color-background-2);}",".mention-suggestion.selected.__jsx-style-dynamic-selector>*.__jsx-style-dynamic-selector{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}"]))},Rd=me.createElement,Ad=3e3;function Pd(e){var t=e.annote,n=me.useState(null),r=Object(W.a)(n,2),a=r[0],i=r[1];me.useEffect((function(){var e=t.messages[t.messages.length-1];if(e&&!e.currentUserIsAuthor){var n=new Date(e.timeCreated).getTime();if(!(Ja()()-n>5e3)){i(e);var r=setTimeout((function(){i(null)}),Ad);return function(){return clearTimeout(r)}}i(null)}else i(null)}),[t]);var o=me.useMemo((function(){return a?Object(ts.b)(a.text,{}):null}),[a]);return a&&o?Rd("div",{className:"jsx-1289033568 annotation-message-popup"},a.user&&Rd(_e.a,{url:a.user.image,key:a.user.id,size:"xs",style:{minWidth:"16px",minHeight:"16px",height:"16px",width:"16px"}}),Rd("div",{className:"jsx-1289033568 annotation-message-popup-text"},Rd(ts.a,{message:o})),Rd(le.a,{id:"1289033568"},[".annotation-message-popup.jsx-1289033568{position:absolute;background-color:var(--color-background-1);padding:4px;border-radius:var(--border-radius-1);border:0.5px solid var(--color-control-3);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);grid-template-columns:min-content max-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-transform:translateX(5px);-ms-transform:translateX(5px);transform:translateX(5px);}",".annotation-message-popup-text.jsx-1289033568{font-family:IBM Plex Sans;font-style:normal;font-weight:normal;font-size:0.8em;color:var(--color-foreground-1);}"])):null}function Ld(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Ld(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}function Md(e,t){var n=t.onReceiveAnnotationUpdate,r=void 0===n?function(){}:n,a=Object(mn.a)().showError,i=me.useState(null),o=Object(W.a)(i,2),s=o[0],c=o[1],l=Object(at.X)({variables:{replId:e}}),u=function(){var e,t=null===(e=l.data)||void 0===e?void 0:e.currentUser;return t?{user:{__typename:"User",id:t.id,username:t.username,image:t.image}}:{}},d=function(t,n){var r=t.readQuery({query:at.g,variables:{replId:e}}),a=[],i=r.repl.annotationAnchors,o=i.findIndex((function(e){return e.id===n.id}));a=-1===o?[].concat(Object(Hr.a)(i),[n]):[].concat(Object(Hr.a)(i.slice(0,o)),[n],Object(Hr.a)(i.slice(o+1))),t.writeQuery({query:at.g,variables:{replId:e},data:Dd({},r,{repl:Dd({},r.repl,{annotationAnchors:a})})})},p=Object(at.jb)({onError:function(e){return a(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return a(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createAnnotationAnchor;r&&("UserError"===r.__typename?a(r.message):"AnnotationAnchor"===r.__typename&&d(e,r))}}}),f=Object(W.a)(p,1)[0],m=Object(at.kb)({onError:function(e){return a(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return a(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createAnnotationMessage;r&&("UserError"===r.__typename?a(r.message):"AnnotationAnchor"===r.__typename&&(d(e,r),dd(r)))}}}),b=Object(W.a)(m,1)[0],g=Object(at.Ud)({onError:function(e){return a(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return a(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.updateAnchorMutation;r&&("UserError"===r.__typename?a(r.message):"AnnotationAnchor"===r.__typename&&d(e,r))}}}),h=Object(W.a)(g,1)[0];Object(at.ab)({variables:{replId:e},onSubscriptionData:function(e){var t=e.subscriptionData.data,n=e.client,a=null===t||void 0===t?void 0:t.updatedAnnotation;a&&(d(n,a),r(a))}});var v=me.useState([]),x=Object(W.a)(v,2),w=x[0],y=x[1];me.useEffect((function(){var e,t=[];"Repl"===(null===(e=l.data)||void 0===e?void 0:e.repl.__typename)&&t.push.apply(t,Object(Hr.a)(l.data.repl.annotationAnchors)),s&&t.push(Dd({},s,{messages:[],isResolved:!1,__typename:"AnnotationAnchor"})),y(t)}),[l,s]);var k=function(e){var t=e.annotationAnchor,n=e.annotationMessage,r=e.highlight;f({variables:{annotationAnchor:t,annotationMessage:n,highlight:r},optimisticResponse:{createAnnotationAnchor:Dd({},u(),{},t,{__typename:"AnnotationAnchor",messages:n?[Dd({},u(),{},n,{__typename:"AnnotationMessage",timeCreated:Ja()(),currentUserIsAuthor:!0})]:[],isResolved:!1})}})};return{annotations:w,placeholderAnchorId:null===s||void 0===s?void 0:s.id,createAnnotationAnchorPlaceholder:function(e){var t=e.annotationAnchor;c(t)},deleteAnnotationAnchorPlaceholder:function(){c(null)},createAnnotationAnchor:k,createAnnotationMessage:function(t){var n=t.anchor,r=t.annotationMessage,a=t.highlight;(null===s||void 0===s?void 0:s.id)===n.id?(c(null),k({annotationAnchor:Dd({},s),annotationMessage:r,highlight:a})):b({variables:{replId:e,anchorId:n.id,annotationMessage:r,highlight:a},optimisticResponse:{createAnnotationMessage:Dd({},n,{messages:[].concat(Object(Hr.a)(n.messages),[Dd({},u(),{},r,{__typename:"AnnotationMessage",timeCreated:Ja()(),currentUserIsAuthor:!0})])})}})},updateAnnotationAnchor:function(e){var t=e.annotationAnchor,n=e.changes;h({variables:{id:t.id,changes:n},optimisticResponse:{updateAnnotationAnchor:Dd({},t,{},n,{isResolved:"boolean"===typeof n.isResolved?n.isResolved:t.isResolved})}})}}}var Fd=n("cHV+");function Ud(e,t){var n,r,a,i,o,s,c,l;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e.path&&"number"===typeof e.indexStart&&"number"===typeof e.indexEnd&&e.otVersion){u.next=2;break}return u.abrupt("return");case 2:if(n=t[e.path]){u.next=5;break}return u.abrupt("return");case 5:if(n.version!==e.otVersion){u.next=7;break}return u.abrupt("return",{indexStart:e.indexStart,indexEnd:e.indexEnd,otVersion:e.otVersion});case 7:return r=n.version,u.next=10,Y.a.awrap(n.fetchOps(e.otVersion+1,r));case 10:return a=u.sent,Object(Ke.track)(Ke.events.ANNOTATION_FASTFORWARDED,{opCount:r-e.otVersion,anchorId:e.id}),i=a.reduce((function(e,t){return Fd.type.compose(e,t.ops)}),[]),o=Fd.type.transformSelection([e.indexStart,e.indexEnd],i),s=Object(W.a)(o,2),c=s[0],l=s[1],u.abrupt("return",{indexStart:c,indexEnd:l,otVersion:r});case 15:case"end":return u.stop()}}))}function Hd(e){return Ea.a.get(e)}function Gd(e){return Ea.a.get(e)}var Bd=me.createElement;function zd(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kd=Object(wr.a)(["CREATE_ANNOTATION","REGISTER_MONACO_EDITOR_HANDLE","REGISTER_MODEL_HANDLE"]),Vd=Kd.receiver,qd=Kd.useReceiver;var Wd=225;function Xd(e){var t=e.wid,n=me.useState(),r=Object(W.a)(n,2),a=r[0],i=r[1],o=me.useState({}),s=Object(W.a)(o,2),c=s[0],l=s[1],u=Object(_t.a)(),d=Object(fa.a)(),p=Object(vt.b)(t,"fs","containerfs3"),f=Object(W.a)(p,1)[0].otClients,m=me.useState(null),b=Object(W.a)(m,2),g=b[0],h=b[1],v=_d().map((function(e){return e.username})),x=Object(at.Y)(),w=me.useState(0),y=Object(W.a)(w,2),k=y[0],j=y[1],E=Md(u,{onReceiveAnnotationUpdate:function(e){var t,n,r;if(e.messages){var a=e.messages[e.messages.length-1];a&&(null===(t=a.user)||void 0===t?void 0:t.id)!==(null===(n=x.data)||void 0===n?void 0:null===(r=n.currentUser)||void 0===r?void 0:r.id)&&a.text&&a.user&&(Object(vs.a)({title:"".concat(a.user.username," made an annotation"),body:a.text,tag:"annotation-".concat(a.id),iconByUsername:a.user.username}),Object(Ke.track)(Ke.events.ANNOTATION_UPDATE_RECEIVED,{messageId:a.id,sender:a.user.id,time:new Date(a.timeCreated).getTime()}))}}}),O=E.annotations,_=E.placeholderAnchorId,N=E.createAnnotationAnchorPlaceholder,S=E.deleteAnnotationAnchorPlaceholder,C=E.createAnnotationMessage,T=E.updateAnnotationAnchor,I=me.useState(!0),R=Object(W.a)(I,2),A=R[0],L=R[1],M=function(e){var t=me.useState(0),n=Object(W.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=Hd(e);if(t){var n=t.onDidScrollChange((function(e){a(e.scrollTop)}));return function(){return n.dispose()}}}),[e]),r}(a),U=function(e){var t=me.useState(0),n=Object(W.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=Hd(e);if(t){var n=t.onDidLayoutChange((function(e){a(e.width)}));return function(){return n.dispose()}}}),[e]),r}(a),G=function(e){var t=me.useState(null),n=Object(W.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=Hd(e);if(t){var n=t.onDidChangeCursorSelection((function(e){var n=e.selection,r=n.startLineNumber,i=n.startColumn,o=n.endLineNumber,s=n.endColumn,c=t.getDomNode().getBoundingClientRect();if(r!==o||i!==s){var l=[t.getTopForLineNumber(r)+c.top,t.getOffsetForColumn(r,i)+c.left];a({top:l[0],left:l[1]})}else a(null)}));return function(){return n.dispose()}}}),[e]),r}(a),B=function(e){var t=me.useState(null),n=Object(W.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=Hd(e);if(t){var n=t.onDidChangeConfiguration((function(e){a(e)}));return function(){return n.dispose()}}}),[e]),r}(a);me.useEffect((function(){L(!0)}),[G]);var z=function(e,t,n,r,a,i,o,s){var c=me.useState([]),l=Object(W.a)(c,2),u=l[0],d=l[1],p=function(e,t,n){if(!n||!n.getDomNode())return null;if(!e)return null;var r=t.getPositionAt(e.indexStart),a=n.getDomNode().getBoundingClientRect(),i=n.getTopForPosition(r.lineNumber,r.column);return{top:a.top+i,left:a.left+a.width}};return me.useEffect((function(){!function(){var i,o,s,c,l,u,f,m,b,g,h,v,x;Y.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:if(a&&t){w.next=2;break}return w.abrupt("return");case 2:if(i=Hd(t),o=Gd(n[a]),i&&o){w.next=6;break}return w.abrupt("return");case 6:s=e.filter((function(e){return e.path===a})),c=[],l=!0,u=!1,f=void 0,w.prev=11,m=Tn()(s);case 13:if(l=(b=m.next()).done){w.next=31;break}if((g=b.value).path===a){w.next=17;break}return w.abrupt("continue",28);case 17:if(h={annotation:g},g.isResolved){w.next=27;break}return w.next=21,Y.a.awrap(Ud(g,r));case 21:if(v=w.sent){w.next=24;break}return w.abrupt("continue",28);case 24:(x=p(v,o,i))&&(h.position=x),h.selection=v;case 27:c.push(h);case 28:l=!0,w.next=13;break;case 31:w.next=37;break;case 33:w.prev=33,w.t0=w.catch(11),u=!0,f=w.t0;case 37:w.prev=37,w.prev=38,l||null==m.return||m.return();case 40:if(w.prev=40,!u){w.next=43;break}throw f;case 43:return w.finish(40);case 44:return w.finish(37);case 45:d(c);case 46:case"end":return w.stop()}}),null,null,[[11,33,37,45],[38,,40,44]])}()}),[e,r,a,t,n,i,o,s]),u}(O,a,c,f,d,U,k,B),K=function(e,t,n){var r=[t.getPositionAt(e.indexStart),t.getPositionAt(e.indexEnd)],a=r[0],i=r[1];return{range:window.monaco.Range.fromPositions(a,i),options:{className:"selection-annotation annotation-".concat(n.id),stickiness:window.monaco.editor.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}}},V=function(){var e=Hd(a);e&&e.focus()},q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,r=t.otVersion,i=t.indexStart,o=t.indexEnd,s=Hd(a),l=d&&Gd(c[d]);if(s&&l){var p=s.getSelection(),m={lineNumber:p.startLineNumber,column:p.startColumn},b={lineNumber:p.endLineNumber,column:p.endColumn},g=l.getOffsetAt(m),v=l.getOffsetAt(b),x={id:Ce()(),replId:u,path:n||d,otVersion:r||(d?null===(e=f[d])||void 0===e?void 0:e.version:void 0),indexStart:"number"===typeof i?i:g,indexEnd:"number"===typeof o?o:v};N({annotationAnchor:x}),h(x.id),L(!1)}};qd((function(e){var t=e.action;return"CREATE_ANNOTATION"===t.type&&q({path:t.path,otVersion:t.otVersion,indexStart:t.indexStart,indexEnd:t.indexEnd}),"REGISTER_MONACO_EDITOR_HANDLE"===t.type&&i(t.editorHandle),"REGISTER_MODEL_HANDLE"===t.type&&l((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):zd(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},e,Object(ne.a)({},t.filePath,t.modelHandle))})),null})),me.useEffect((function(){if(d){var e=Hd(a),t=Gd(c[d]);if(e&&t&&t.isAttachedToEditor()){var n=t._replit_annotation_highlights||{},r={};for(var i in n)r[i]=null;var o=!0,s=!1,l=void 0;try{for(var u,p=Tn()(z);!(o=(u=p.next()).done);o=!0){var f=u.value,m=f.annotation,b=f.selection;m.path===d&&(r[m.id]=b?K(b,t,m):null)}}catch(y){s=!0,l=y}finally{try{o||null==p.return||p.return()}finally{if(s)throw l}}for(var g=0,h=au()(r);g<h.length;g++){var v=Object(W.a)(h[g],2),x=v[0],w=v[1];n[x]=t.deltaDecorations(n[x]||[],w?[w]:[])}t._replit_annotation_highlights=n}}}),[z,a,c,d]);var X=function(e){if(d){var t=Hd(a),n=Gd(c[d]);if(t&&n){var r=n.getLinesContent().join("\n"),i=z.find((function(t){return t.annotation.id===e.id}));if(null===i||void 0===i?void 0:i.selection){var o=i.selection,s=o.indexStart,l=o.indexEnd,u=n.getPositionAt(s),p=n.getPositionAt(l),f=n.getOffsetAt({lineNumber:Math.max(u.lineNumber-1,1),column:1}),m=n.getOffsetAt({lineNumber:Math.max(p.lineNumber+2,1),column:1})-1;return{precode:r.slice(f,s),code:r.slice(s,l),postcode:r.slice(l,m)}}}}};if(me.useEffect((function(){if(a){var e=Hd(a);if(e){var t=od()((function(){if(d){var e=Gd(c[d]);e&&e.isAttachedToEditor()&&j(e.getLinesContent().length)}}),750),n=e.onDidChangeModelContent(t);return function(){n.dispose()}}}}),[a,d,c]),window)return Bd("div",{className:"jsx-1211829181 "+le.a.dynamic([["3514103322",[g]]])+" annotations-container"},z.map((function(e){var t,n,r=e.annotation,a=e.position;if(a){var i,o,s=a.top-M;if(!(s<0))return r.id===g?Bd(Id,{annote:r,currentUserId:null===(i=x.data)||void 0===i?void 0:null===(o=i.currentUser)||void 0===o?void 0:o.id,onFinalizeMessage:function(e){return function(e){var t=e.anchor,n=e.msg,r=Object(ts.b)(n,{users:[].concat(Object(Hr.a)(v),["everyone"])});C({anchor:t,annotationMessage:{id:Ce()(),text:n,mentions:r.mentions},highlight:X(t)})}({anchor:r,msg:e})},onResolve:function(){!function(e){if(_===e.id)S();else{T({annotationAnchor:e,changes:{isResolved:!0}})}}(r),V()},onRequestClose:function(){h(null),S(),V()},key:r.id,width:Wd,style:{top:"".concat(s,"px"),left:"min(".concat(a.left,"px, calc(").concat(window.innerWidth,"px - ").concat(Wd,"px))"),transform:"translateX(-56px)"}}):Bd("div",{style:{top:"".concat(s,"px"),left:"".concat(a.left,"px")},key:r.id,className:"jsx-1211829181 "+le.a.dynamic([["3514103322",[g]]])+" annotation-preview-container"},Bd(md,{editorFontSize:((null===(t=x.data)||void 0===t?void 0:null===(n=t.currentUser)||void 0===n?void 0:n.editorPreferences.fontSize)||14)-2,annote:r,onClick:function(){return h(r.id)}}),Bd(Pd,{annote:r}))}})),Bd("div",{style:{left:G&&A?G.left:void 0,top:G&&A?G.top-M:void 0,visibility:G&&A?"visible":"hidden",opacity:G&&A?1:0},onClick:function(){return q()},className:"jsx-1211829181 "+le.a.dynamic([["3514103322",[g]]])+" new-annotation-button"},Bd(cd,null),"Annotate"),Bd(le.a,{id:"1211829181"},[".annotations-container.jsx-1211829181{z-index:10;position:absolute;height:0;width:0;}",".new-annotation-button.jsx-1211829181{position:absolute;-webkit-transform:translateY(calc(-100% - 8px)) translateX(56px);-ms-transform:translateY(calc(-100% - 8px)) translateX(56px);transform:translateY(calc(-100% - 8px)) translateX(56px);border-radius:var(--border-radius-1);background-color:var(--color-background-1);color:var(--color-foreground-1);cursor:pointer;border:0.5px solid var(--color-control-3);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);-webkit-transition:width 0.2s,background-color 0.2s,-webkit-transform 0.1s;-webkit-transition:width 0.2s,background-color 0.2s,transform 0.1s;transition:width 0.2s,background-color 0.2s,transform 0.1s;z-index:1;font-weight:var(--font-weight-medium);font-size:var(--font-size-desktop-text-xsmall);padding:4px 8px;-webkit-transition:opacity 0.3s ease 0.3s;transition:opacity 0.3s ease 0.3s;display:grid;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-auto-flow:column;grid-gap:4px;}",".new-annotation-button.jsx-1211829181:hover{-webkit-transform:translateY(calc(-100% - 8px)) translateX(56px) scale(1.1);-ms-transform:translateY(calc(-100% - 8px)) translateX(56px) scale(1.1);transform:translateY(calc(-100% - 8px)) translateX(56px) scale(1.1);}",".annotation-preview-container.jsx-1211829181{position:absolute;}"]),Bd(le.a,{id:"3514103322",dynamic:[g]},[".selection-annotation{position:relative;background-color:#f0f;opacity:0.15;pointer-events:none;}",".annotation-".concat(g,"{opacity:0.3;}")]))}var Yd=Object(Qe.a)({files:Rr.a}),Qd=n("IUvJ");function Jd(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zd(e){var t=e.service,n=e.name,r=Object(sa.a)().container,a=me.useState({isConnecting:!0,channel:null,error:null,context:null}),i=Object(W.a)(a,2),o=i[0],s=i[1];return me.useEffect((function(){var e=r.openChannel({service:t,name:n},(function(e){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jd(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):Jd(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},e,{isConnecting:!1})),function(e){s({isConnecting:e.willReconnect,channel:null,error:null,context:null})}}));return function(){e()}}),[r,t,n]),o}var $d=n("7njZ");var ep=n("LI1+"),tp=me.createElement;function np(e){return!!e&&!(0===e.h.px&&0===e.h.pc||0===e.w.px&&0===e.w.pc)}function rp(e){var t=e.dimensions,n=me.useRef(!1);return me.useEffect((function(){!n.current&&np(t)&&(n.current=!0)}),[t]),n.current||np(t)?tp(cp,{dimensions:t}):tp("div",null)}var ap,ip=Object(wr.a)(["OPEN_SHELL"]),op=ip.receiver,sp=ip.useReceiver,cp=function(e){var t=e.dimensions,n=function(e){var t=e.autoFocus,n=Zd({service:"shell"}),r=me.useState(null),a=Object(W.a)(r,2),i=a[0],o=a[1],s=me.useState(null),c=Object(W.a)(s,2),l=c[0],u=c[1],d=Object($d.a)(),p=me.useState(null),f=Object(W.a)(p,2),m=f[0],b=f[1];return me.useEffect((function(){if(n.channel&&i){var e=i.xterm,t=i.fitAddon,r=i.searchAddon,a=e.onData((function(e){n.channel&&"closed"!==n.channel.status&&n.channel.send({input:e})}));n.channel.onCommand((function(t){t.output&&e.write(t.output)}));var o=!1,s=Ma()((function(){o||t.fit()}),50);window.addEventListener("resize",s);var c=function(){n.channel&&"open"===n.channel.status&&n.channel.send({resizeTerm:{cols:e.cols,rows:e.rows}})},l=e.onResize(c);return c(),u({focus:function(){return e.focus()},clear:function(){return e.clear()},fit:function(){return t.fit()},throttledFit:s,findPrevious:function(e){return r.findPrevious(e)},findNext:function(e){return r.findNext(e)}}),function(){o=!0,a.dispose(),l.dispose(),window.removeEventListener("resize",s),u(null)}}}),[n.channel,i]),me.useEffect((function(){if(null!==m){var e=!1,t=function(){};return Object(Qd.a)().then((function(n){e?n.xterm.dispose():(n.xterm.open(m),t=function(){return n.xterm.dispose()},o(n))})),function(){d.current&&o(null),e=!0,t()}}}),[m,d]),me.useEffect((function(){t&&l&&l.focus()}),[t,l]),[l,b]}({autoFocus:!0}),r=Object(W.a)(n,2),a=r[0],i=r[1],o=me.useState(!1),s=Object(W.a)(o,2),c=s[0],l=s[1],u=np(t);sp((function(e){return"OPEN_SHELL"===e.action.type&&u&&a?(a.fit(),a.focus(),null):null})),me.useEffect((function(){u&&a&&(a.focus(),a.fit())}),[u,a]),me.useEffect((function(){u&&a&&a.throttledFit()}),[u,t,a]);var d=c&&a?tp(ep.c,{findPrevious:a.findPrevious,findNext:a.findNext,exit:function(){return l(!1)}}):tp(ep.b,{onClick:function(){return l(!0)}});return tp("div",{onKeyDown:function(e){"f"===e.key&&Object(vo.b)(e)&&(l(!0),e.preventDefault())},className:"jsx-2460743671 root"},a?tp("div",{className:"jsx-2460743671 controls"},d,tp(ep.a,{onClick:a.clear})):tp("code",{className:"jsx-2460743671"},"Loading..."),tp("div",{ref:i,className:"jsx-2460743671 xterm-container"}),tp(le.a,{id:"3182893046"},[".xterm{height:100%;}",".xterm .xterm-viewport{overflow-y:auto !important;height:100%;}"]),tp(le.a,{id:"4045084744"},[".root.jsx-2460743671{position:relative;height:100%;padding-left:1em;padding-top:10px;overflow:hidden;background-color:var(--color-brand-dark-blue);border-radius:var(--border-radius-1);z-index:1;}",".xterm-container.jsx-2460743671{height:100%;}","code.jsx-2460743671{color:var(--color-white-50);}",".controls.jsx-2460743671{position:absolute;top:var(--spacing-1);right:var(--spacing-3);z-index:5;height:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))};!function(e){e[e.Idle=0]="Idle",e[e.Testing=1]="Testing",e[e.Preparing=2]="Preparing"}(ap||(ap={}));var lp=n("tnnq"),up=n("KxO+"),dp=n.n(up),pp=me.createElement;function fp(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):fp(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var bp=function(e){var t=e.test,n=e.onEdit,r=e.onDelete,a=e.onView,i=e.isTeacherView,o=e.status,s=e.isRunning,c=e.onShowFailed,l="";return s?l="Running":o&&(l=o),pp("div",{onClick:function(){return a()},className:"jsx-2791053507 test"},pp("div",{className:"jsx-2791053507 test-row"},pp("div",{className:"jsx-2791053507 test-text"},pp($t.a,{size:"large"},t.name)),i&&pp("div",{className:"jsx-2791053507 test-row"},pp(me.Fragment,null,pp(ht.a,{color:"primary",onClick:function(e){e.stopPropagation(),n()},Icon:Rt.PencilIcon}),pp(Fn.a,{width:"var(--spacing-half)"}),pp(ht.a,{onClick:function(e){return e.stopPropagation(),r()},color:"negative",Icon:Rt.TrashIcon})))),o&&pp(me.Fragment,null,pp(Fn.a,{height:2}),pp("div",{className:"jsx-2791053507 test-row"},pp("div",{className:"jsx-2791053507 test-text"},pp($t.a,{className:nt()([{"status-passed":"Passed"===o},{"status-failed":"Failed"===o}]),color:"Failed"===o?"var(--color":"negativee"},l)),"Failed"===o&&pp(ht.a,{onClick:function(e){return e.stopPropagation(),c(e)}},"Results"))),pp(le.a,{id:"2791053507"},[".test.jsx-2791053507{background-color:var(--color-control-3);margin:var(--spacing-1);padding:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-radius:var(--border-radius-1);cursor:pointer;}",".test-row.jsx-2791053507 .status-passed{color:var(--color-positive-1);}",".test-row.jsx-2791053507 .status-failed{color:var(--color-negative-1);}",".test-text.jsx-2791053507{width:100%;padding:var(--spacing-half) 0;padding-right:var(--spacing-1);word-break:break-all;}",".test.jsx-2791053507:hover{background-color:var(--color-control-2);}",".test-row.jsx-2791053507{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}"]))},gp=function(e){var t=e.test,n=e.actualOutput,r=e.isOpen,a=e.isResults,i=e.onRequestClose,o="";if(t)switch(t.type){case at.H.Match:o="The test passes if the expected output is in the actual output.";break;case at.H.Exact:o="The test passes if the expected output is equal to the actual output.";break;case at.H.Regex:o="The test passes if the actual output matches the regex expression for the expected output."}return pp(on.a,{onRequestClose:i,isOpen:r&&void 0!==t},pp("div",{className:"jsx-856185422 test-info"},pp(sn.VStack,{align:"center",spacing:1},pp(wn.a,{level:2},null===t||void 0===t?void 0:t.name," ",a&&"Results"),pp("div",{role:"tooltip","data-microtip-position":"bottom","aria-label":o,className:"jsx-856185422 test-type"},pp($t.a,{align:"center",size:"small"},null===t||void 0===t?void 0:t.type))),pp(Fn.a,{height:6}),pp("div",{className:"jsx-856185422 test-io-row"},pp("div",{className:"jsx-856185422 test-io-section"},pp("div",{className:"jsx-856185422 test-io-label"},pp($t.a,{size:"small"},a?"Actual output":"Input")),pp(Fn.a,{height:"var(--spacing-1)"}),pp("div",{className:"jsx-856185422 test-io-box"},((a?n:null===t||void 0===t?void 0:t.input)||"").split("\n").map((function(e,t){return pp("div",{className:"jsx-856185422 test-io-line"},pp("div",{className:"jsx-856185422 test-io-line-number"},pp($t.a,{fontFamily:"monospace",size:"xsmall",foreground:2},t+1)),pp("div",{className:"jsx-856185422 test-io-line-spacing"}),pp($t.a,{fontFamily:"monospace",size:"xsmall"},e))})))),pp(Fn.a,{width:2}),pp("div",{className:"jsx-856185422 test-io-section"},pp("div",{className:"jsx-856185422 test-io-label"},pp($t.a,{size:"small"},a?"Expected output":"Output")),pp(Fn.a,{height:"var(--spacing-1)"}),pp("div",{className:"jsx-856185422 test-io-box"},((null===t||void 0===t?void 0:t.output)||"").split("\n").map((function(e,t){return pp("div",{className:"jsx-856185422 test-io-line"},pp("div",{className:"jsx-856185422 test-io-line-number"},pp($t.a,{fontFamily:"monospace",size:"xsmall",foreground:2},t+1)),pp("div",{className:"jsx-856185422 test-io-line-spacing"}),pp($t.a,{fontFamily:"monospace",size:"xsmall"},e))})))))),pp(le.a,{id:"856185422"},[".test-info.jsx-856185422{padding:var(--spacing-3);display:relative;}",".test-io-line-spacing.jsx-856185422{width:var(--spacing-1);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".test-io-row.jsx-856185422{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".test-io-line-number.jsx-856185422{display:inline-block;min-width:1.5em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".test-io-line.jsx-856185422{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;font-family:var(--font-family-monospace);}",".test-io-line-content.jsx-856185422{display:inline-block;}",".test-io-label.jsx-856185422 .text{color:var(--color-foreground-2);}",".test-io-section.jsx-856185422{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;width:50%;}",".test-io-box.jsx-856185422{height:100%;border:1px solid var(--color-border);box-sizing:border-box;border-radius:var(--border-radius-1);padding:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-x:auto;}",".test-io-box.jsx-856185422 .text{white-space:nowrap;}",".test-type.jsx-856185422{background-color:var(--color-control-1);border-radius:20px;padding:var(--spacing-1);display:inline-block;spacing:1;}"]))},hp=function(e){var t=e.test,n=e.onSubmit,r=e.onCancel,a=e.isOpen,i=e.onRequestClose,o=me.useState({}),s=Object(W.a)(o,2),c=s[0],l=s[1],u=function(e){return{name:(null===e||void 0===e?void 0:e.name)||"",type:(null===e||void 0===e?void 0:e.type)||"",input:(null===e||void 0===e?void 0:e.input)||"",output:(null===e||void 0===e?void 0:e.output)||""}},d=Object(mn.a)().showError,p=me.useState(u(t)),f=Object(W.a)(p,2),m=f[0],b=f[1],g=me.useState(!1),h=Object(W.a)(g,2),v=h[0],x=h[1];me.useEffect((function(){b(u(t)),l({})}),[t,b]);var w=function(e,t){l((function(n){return mp({},n,Object(ne.a)({},e,t?void 0:[{message:e+" expected but not provided.",state:"error"}]))}))};return pp(on.a,{isOpen:a,onRequestClose:i},pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-tests-view"},pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" header-row"},pp(wn.a,{level:2,align:"center"},t?"Edit ":"Create test",null===t||void 0===t?void 0:t.name)),pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row"},pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row-section"},pp($t.a,{align:"center",size:"small"},"Test name"),pp(kn.a,{placeholder:"The name of the test",value:(null===m||void 0===m?void 0:m.name)||"",validationResults:c.name,onChange:function(e){var t;e.persist(),b((function(t){var n;return mp({},t,{name:(null===(n=e.target)||void 0===n?void 0:n.value)||""})})),w("name",null===(t=e.target)||void 0===t?void 0:t.value)},maxLength:20})),pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row-section"},pp($t.a,{align:"center",size:"small"},"Matching type"),pp("div",{onClick:function(){x(!v)},className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" dropdown-container"},pp(dp.a,{items:["match","exact","regex"],renderItemChildComponent:function(e){return pp(me.Fragment,null,e)},onClick:function(e){b((function(t){return mp({},t,{type:e})})),x(!1)},isMenuOpen:v,renderAnchorComponent:function(){return pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" dropdown-view"},pp($t.a,null,""!==(null===m||void 0===m?void 0:m.type)?null===m||void 0===m?void 0:m.type:"Match type"," "),pp($t.a,null,pp(Rt.ChevronIcon,null)))}})))),pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row"},pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row-section"},pp($t.a,{align:"center",size:"small"},"Input"),pp(kn.a,{validationResults:c.input,placeholder:"The input for the test",value:m.input,onChange:function(e){var t;e.persist(),b((function(t){return mp({},t,{input:e.target.value})})),w("input",null===(t=e.target)||void 0===t?void 0:t.value)}})),pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row-section"},pp($t.a,{align:"center",size:"small"},"Expected output"),pp(kn.a,{validationResults:c.output,placeholder:"The expected output for the test",value:m.output,onChange:function(e){var t;e.persist(),b((function(t){return mp({},t,{output:e.target.value})})),w("output",null===(t=e.target)||void 0===t?void 0:t.value)}}))),pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row"},pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row-section"},pp(ht.a,{color:"primary",onClick:function(){if(!m.input||!m.name||!m.output)return d("All fields must be provided."),m.input||w("input"),m.name||w("name"),void(m.output||w("output"));m.type?(n({testId:null===t||void 0===t?void 0:t.id,name:m.name,input:m.input,type:m.type,output:m.output}),b(u(void 0))):d("A test type must be provided")}},"Save")),pp("div",{className:le.a.dynamic([["110139522",[""===m.type?"--color-foreground-2":"--color-foreground-1"]]])+" manage-test-row-section"},pp(ht.a,{onClick:r},"Cancel"))),pp(le.a,{id:"110139522",dynamic:[""===m.type?"--color-foreground-2":"--color-foreground-1"]},[".dropdown-container.__jsx-style-dynamic-selector{border:1px solid var(--color-foreground-3);width:100%;box-sizing:border-box;border-radius:var(--border-radius-1);padding:var(--spacing-1);}",".dropdown-container.__jsx-style-dynamic-selector .anchor{z-index:1;}",".dropdown-container.__jsx-style-dynamic-selector .dropdown-view{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;text-align:right;}",".dropdown-container.__jsx-style-dynamic-selector .dropdown-view .text{color:var( ".concat(""===m.type?"--color-foreground-2":"--color-foreground-1"," );}"),".manage-tests-view.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--spacing-6);}",".manage-test-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:var(--spacing-10);}",".manage-test-row-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 var(--spacing-2);width:100%;}"])))},vp=function(e){var t,n=e.wid,r=e.pud,a=e.style,i=Object(vt.b)(n,r,"autograder"),o=Object(W.a)(i,1)[0],s=Object(_t.a)(),c=Object(De.e)(),l=Object(at.cb)({variables:{replId:s},fetchPolicy:"cache-and-network"}),u=Object(at.rb)({}),d=Object(W.a)(u,2),p=d[0],f=d[1],m=Object(at.Vd)({}),b=Object(W.a)(m,2),g=b[0],h=b[1],v=Object(at.lb)({}),x=Object(W.a)(v,2),w=x[0],y=x[1],k=Object(mn.a)(),j=k.showError,E=k.showConfirm,O=me.useState(!1),_=Object(W.a)(O,2),N=_[0],S=_[1],C=me.useState(!1),T=Object(W.a)(C,2),I=T[0],R=T[1],A=me.useState(!1),P=Object(W.a)(A,2),L=P[0],D=P[1],M=me.useState(),F=Object(W.a)(M,2),U=F[0],H=F[1],G=me.useState([]),B=Object(W.a)(G,2),z=B[0],K=B[1];z.sort((function(e,t){return e.id-t.id})),me.useEffect((function(){c({type:"AUTOGRADER_TESTS_RECEIVED",tests:z.map((function(e){return{input:e.input,expectedOutput:e.output,type:e.type}})),wid:n,pud:r})}),[z,c,r,n]),me.useEffect((function(){var e,t,n=null===(e=l.data)||void 0===e?void 0:e.repl;l.error?j(l.error.message):"Repl"===(null===n||void 0===n?void 0:n.__typename)&&n.template?K(n.template.tests):"Repl"===(null===n||void 0===n?void 0:n.__typename)&&(null===(t=n.origin)||void 0===t?void 0:t.template)&&K(n.origin.template.tests)}),[l,j,c]),me.useEffect((function(){var e,t,n=null===(e=f.data)||void 0===e?void 0:e.deleteTemplateTest;f.error?j(f.error):"UserError"===(null===(t=f.data)||void 0===t?void 0:t.deleteTemplateTest.__typename)?j(f.data.deleteTemplateTest.message):"ReplTemplate"===(null===n||void 0===n?void 0:n.__typename)&&(K(n.tests),E("Test deleted"))}),[j,E,f,c]),me.useEffect((function(){var e,t,n=null===(e=h.data)||void 0===e?void 0:e.updateTemplateTest;h.error?j(h.error):"UserError"===(null===(t=h.data)||void 0===t?void 0:t.updateTemplateTest.__typename)?j(h.data.updateTemplateTest.message):"ReplTemplateTest"===(null===n||void 0===n?void 0:n.__typename)&&K((function(e){for(var t=!1,r=0;r<e.length;r++)e[r].id===n.id&&(e[r]=n,t=!0);return t?(E("Test updated"),e):(l.refetch(),e)}))}),[l,h,K,E,c,j]),me.useEffect((function(){var e,t,n=null===(e=y.data)||void 0===e?void 0:e.createTemplateTest;y.error?j(y.error):"UserError"===(null===(t=y.data)||void 0===t?void 0:t.createTemplateTest.__typename)?j(y.data.createTemplateTest.message):"ReplTemplateTest"===(null===n||void 0===n?void 0:n.__typename)&&K((function(e){var t=e.concat(n);return E("Test created"),t}))}),[y,K,E,j,c]);var V="Repl"===(null===(t=l.data)||void 0===t?void 0:t.repl.__typename)&&l.data.repl.isProject,q=me.useCallback((function(e){return o.currentTest>e?"Passed":void 0===o.passed||e>o.currentTest?void 0:e!==o.currentTest||o.passed?"Passed":"Failed"}),[o.currentTest,o.passed]);return pp("div",{style:a,className:"jsx-1950584108 tests-panel"},pp("div",{className:"jsx-1950584108 tests-header"},pp(sn.HStack,{spacing:1},pp(wn.a,{level:3},"Tests"),pp(lp.a,null)),pp("div",{className:"jsx-1950584108 flex-grow"}),pp(ht.a,{color:"positive",onClick:function(){return c({type:"START_AUTOGRADER",wid:n,pud:r})},disabled:o.status!==ap.Idle},"Run tests ",pp(Rt.PlayIcon,null))),l.loading?pp("div",{className:"jsx-1950584108 spinner"},pp(Qt.a,null)):pp("div",{className:"jsx-1950584108 tests"},z.map((function(e,t){return pp(bp,{test:e,onEdit:function(){H(e),S(!0)},onDelete:function(){p({variables:{testId:e.id}})},onView:function(){H(e),R(!0),D(!1)},onShowFailed:function(){H(e),R(!0),D(!0)},key:e.id,isRunning:o.status!==ap.Idle&&t===o.currentTest,isTeacherView:V,status:q(t)})})),V&&pp(me.Fragment,null,pp("div",{className:"jsx-1950584108 create-test-block"},pp(ht.a,{color:"green",className:"create-test-button",onClick:function(){H(void 0),S(!0)}},"Create test"))),pp(hp,{test:U,isOpen:N,readOnly:!V,onRequestClose:function(){return S(!1)},onCancel:function(){S(!1),H(void 0)},onSubmit:function(e){var t,n,r,a;void 0!==e.testId?(g({variables:{input:e}}),H(void 0)):"Repl"===(null===(t=l.data)||void 0===t?void 0:null===(n=t.repl)||void 0===n?void 0:n.__typename)&&(null===(r=l.data)||void 0===r?void 0:null===(a=r.repl)||void 0===a?void 0:a.template)&&w({variables:{input:mp({},e,{templateId:l.data.repl.template.id})}}),S(!1)}}),pp(gp,{test:U,isOpen:I,actualOutput:o.actualOutput,isResults:L,onRequestClose:function(){return R(!1)}})),pp(le.a,{id:"1950584108"},[".flex-grow.jsx-1950584108{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".create-test-block.jsx-1950584108{position:relative;padding:var(--spacing-6);text-align:center;margin-bottom:var(--spacing-6);}",".create-test-block.jsx-1950584108 .create-test-button{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".spacer-1.jsx-1950584108{padding:var(--spacing-half);}",".tests-header.jsx-1950584108{margin-left:var(--spacing-2);padding-top:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".tests-header.jsx-1950584108 .beta-tag{height:var(--font-size-desktop-heading-4);}",".spinner.jsx-1950584108{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".tests-panel.jsx-1950584108{background-color:var(--color-background-1);color:var(--color-foreground-1);overflow:hidden auto;}",".buttons.jsx-1950584108{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;margin-bottom:10px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".section.jsx-1950584108{height:calc(100% - 50px);}"]))};function xp(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):xp(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}var yp=5e3,kp=["\x1b[3J\x1b[H\x1b[2J","\x1b[2J\x1b[H","\x1b[33m\ueea7\x1b[00m "];function jp(e,t,n){switch(n.type){case"START_AUTOGRADER":return function(e){var t=e.wid,n=e.pud;return function(e,r){return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(Object(vt.a)(r(),t,n,"autograder").status===ap.Idle){a.next=3;break}return a.abrupt("return");case 3:e(Object(Ye.ab)({wid:t})),e({type:"ENABLE_TEST_MODE",wid:t}),e({type:"AUTOGRADER_STARTED",wid:t,pud:n}),e({type:"PREPARE_AUTOGRADER_TEST",wid:t,pud:n}),Object(Ke.track)(Ke.events.AUTOGRADER_STARTED);case 8:case"end":return a.stop()}}))}}({wid:e,pud:t});case"AUTOGRADER_TEST_TIMEOUT":return function(e){var t=e.wid,n=e.pud;return function(e,r){return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(Object(vt.a)(r(),t,n,"autograder").status===ap.Testing){a.next=3;break}return a.abrupt("return");case 3:e(Object(Ne.b)({type:"error",content:"Test timed out",time:5e3})),e({type:"DISABLE_PIPE_MODE",wid:t}),e({type:"AUTOGRADER_STOPPED",wid:t,pud:n,passed:!1}),e(Object(Ye.ab)({wid:t}));case 7:case"end":return a.stop()}}))}}({wid:e,pud:t});case"PREPARE_AUTOGRADER_TEST":return function(e){var t=e.wid,n=e.pud;return function(e,r){return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(Object(vt.a)(r(),t,n,"autograder").status===ap.Preparing){a.next=3;break}return a.abrupt("return");case 3:e(Object(Ye.ab)({wid:t})),e({type:"RUN_REPL",wid:t});case 5:case"end":return a.stop()}}))}}({wid:e,pud:t});case"EVAL_ENDED":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s,c;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if((a=Object(vt.a)(r(),t,n,"autograder")).status===ap.Testing&&a.timeout){l.next=3;break}return l.abrupt("return");case 3:clearTimeout(a.timeout),i=a.IOTests[a.currentTest],o=a.messages,"shellrunner"===a.evalerService&&o.shift(),kp.includes(o[0])&&o.shift(),kp.includes(o[o.length-1])&&o.pop(),s=o.join(""),c=!1,l.t0=i.type,l.next="exact"===l.t0?14:"match"===l.t0?16:"regex"===l.t0?18:19;break;case 14:return s!==i.expectedOutput&&s!==i.expectedOutput+"\n"&&(c=!0),l.abrupt("break",19);case 16:return s.includes(i.expectedOutput)||(c=!0),l.abrupt("break",19);case 18:s.match(i.expectedOutput)||(c=!0);case 19:c?(e({type:"DISABLE_PIPE_MODE",wid:t}),e({type:"AUTOGRADER_STOPPED",wid:t,pud:n,passed:!1,actualOutput:s}),e({type:"CLEAR_CONSOLE"}),e(Object(Ne.b)({type:"error",content:"Tests failed",time:5e3}))):a.currentTest+1<a.IOTests.length?(e({type:"AUTOGRADER_TEST_PASSED",wid:t,pud:n}),e({type:"PREPARE_AUTOGRADER_TEST",wid:t,pud:n})):(e({type:"DISABLE_PIPE_MODE",wid:t}),e({type:"AUTOGRADER_STOPPED",wid:t,pud:n,passed:!0}),e(Object(Ne.b)({type:"confirm",content:"Tests passed",time:5e3})));case 20:case"end":return l.stop()}}))}}({wid:e,pud:t});case"INTERPER_STARTED":case"SHELLRUNNER_STARTED":return function(e){var t=e.wid,n=e.pud,r=e.action;return function(e,a){var i,o,s,c;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if((i=Object(vt.a)(a(),t,n,"autograder")).status===ap.Preparing){l.next=3;break}return l.abrupt("return");case 3:e({type:"AUTOGRADER_TEST_READY",wid:t,pud:n}),o=i.IOTests[i.currentTest],s=setTimeout((function(){return e({type:"AUTOGRADER_TEST_TIMEOUT",wid:t,pud:n})}),yp),"INTERPER_STARTED"===r.type?c="interper":"SHELLRUNNER_STARTED"===r.type&&(c="shellrunner"),e({type:"AUTOGRADER_TEST_STARTED",wid:t,pud:n,timeout:s,service:c}),e({type:"CONSOLE_INPUT",wid:t,kind:"input",input:o.input+"\n"});case 9:case"end":return l.stop()}}))}}({wid:e,pud:t,action:n});default:return null}}function Ep(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{IOTests:[],messages:[],status:ap.Idle,currentTest:0},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTOGRADER_TEST_PASSED":return wp({},t,{currentTest:t.currentTest+1,status:ap.Preparing});case"AUTOGRADER_TEST_READY":return wp({},t,{messages:[]});case"AUTOGRADER_TEST_STARTED":return n.timeout?wp({},t,{status:ap.Testing,timeout:n.timeout,evalerService:n.service}):t;case"AUTOGRADER_STARTED":return wp({},t,{passed:void 0,actualOutput:void 0,status:ap.Preparing,currentTest:0});case"AUTOGRADER_TESTS_RECEIVED":return n.tests?wp({},t,{IOTests:n.tests}):t;case"AUTOGRADER_STOPPED":return wp({},t,{passed:n.passed,actualOutput:n.actualOutput,status:ap.Idle});case"NEW_CONSOLE_MESSAGE":return(null===(e=n.message)||void 0===e?void 0:e.data)?wp({},t,{messages:t.messages.concat(n.message.data)}):t;default:return t}}var Op=n("cPJV"),_p=n.n(Op),Np=n("FUdZ"),Sp=n.n(Np),Cp=n("ppil"),Tp=n.n(Cp),Ip=n("nArr"),Rp=n.n(Ip),Ap=n("/3ys"),Pp=me.createElement,Lp=function(e){var t=e.templates,n=e.currentTemplate;return Pp("div",{className:"jsx-1461217518 template-dropdown"},Pp(Yn.Dropdown,{items:t,renderAnchorComponent:function(e){var t,r=e.innerRef,a=Object(Xe.a)(e,["innerRef"]);return Pp(Yn.Button,Object(R.a)({ref:r,Icon:Rt.ChevronIcon,iconOnRight:!0,fullWidth:!0},a),null===n||void 0===n?void 0:null===(t=n.repl)||void 0===t?void 0:t.title)},renderItemChildComponent:function(e){return Pp(kt.a,{href:e.repl.url},Pp("a",{className:"jsx-1461217518 template"},e.repl.title))}}),Pp(le.a,{id:"1461217518"},[".template-dropdown.jsx-1461217518{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;z-index:1;padding:0 var(--spacing-2);}",".template.jsx-1461217518{color:var(--color-foreground-1);border-radius:var(--border-radius-1);cursor:pointer;line-height:initial;text-align:initial;-webkit-text-decoration:none;text-decoration:none;}"]))},Dp=me.createElement;function Mp(e){var t=e.direction,n=e.url,r=Dp("span",{className:le.a.dynamic([["2805860288",["left"===t?"rotate(90deg)":"rotate(-90deg)"]]])+" "+(nt()("chevron",{hoverable:void 0!==n})||"")},Dp(Rp.a,{size:"large",color:n?"var(--color-primary-1)":"var(--color-background-3)"}),Dp(le.a,{id:"2805860288",dynamic:["left"===t?"rotate(90deg)":"rotate(-90deg)"]},[".chevron.__jsx-style-dynamic-selector{display:inline-block;border-radius:var(--border-radius-1);-webkit-transition:0.2s all;transition:0.2s all;}",".chevron.__jsx-style-dynamic-selector svg{width:24px;height:24px;-webkit-transform:".concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";-ms-transform:").concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";transform:").concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";}"),".hoverable.__jsx-style-dynamic-selector{cursor:pointer;}",".hoverable.__jsx-style-dynamic-selector:hover{background:var(--color-blue-15);}"]));return n?Dp(kt.a,{href:n},Dp("a",null,r)):r}function Fp(e){var t,n,r,a,i=e.style,o=e.wid,s=Object(ke.useRouter)(),c=Object(_t.a)(),l=Object(at.yb)({variables:{replId:c}}),u=l.data,d=l.loading,p=l.error,f=Md(c,{onReceiveAnnotationUpdate:function(){}}).annotations,m=me.useState(null),b=Object(W.a)(m,2),g=b[0],h=b[1],v=me.useState(!1),x=Object(W.a)(v,2),w=x[0],y=x[1],k=Object(De.e)();me.useEffect((function(){var e;if("Repl"===(null===u||void 0===u?void 0:u.repl.__typename)&&"ReplSubmission"===(null===(e=u.repl.submission)||void 0===e?void 0:e.__typename)){var t=Ap.a.get("submissionsViewed")||{};h(t[u.repl.id]),window.sessionStorage.getItem("submission-viewed-".concat(u.repl.id))||(t[u.repl.id]=Ja()(),Ap.a.set("submissionsViewed",t),window.sessionStorage.setItem("submission-viewed-".concat(u.repl.id),"true"))}}),[u]),d&&(a=Dp("div",null,"Loading...")),p&&(a=Dp("div",null,"Something went wrong"));if(u&&"Repl"===u.repl.__typename&&"Team"===(null===(t=u.repl.owner)||void 0===t?void 0:t.__typename)&&"ReplSubmission"===(null===(n=u.repl.submission)||void 0===n?void 0:n.__typename)&&"ReplTemplate"===(null===(r=u.repl.template)||void 0===r?void 0:r.__typename)){var j,E,O,_,N,S,C=u.repl.submission,T=u.repl.template.submissions,I=T.findIndex((function(e){return e.id===C.id})),R=T[I+1],A=T[I-1],P=f.filter((function(e){return!e.isResolved})).length,L=function(e){return(null===e||void 0===e?void 0:e.fullName)||"@".concat(null===e||void 0===e?void 0:e.username)},D=C.isGroupSubmission?"Group members":L(C.author),M=C.isGroupSubmission?"are":"is",F="number"===typeof g?Object(hd.ago)(new Date(g)):"",U=function(e){return{short:_p()(e,"do MMM"),long:_p()(e,"do MMM KK:mm b")}};a=Dp("div",{className:"jsx-2251318806"},Dp("div",{className:"jsx-2251318806 template-selector-container"},Dp(Lp,{templates:u.repl.owner.templates,currentTemplate:u.repl.template})),u.repl.submission.isGroupSubmission?Dp("div",{className:"jsx-2251318806 group-submission-nav"},Dp("div",{className:"jsx-2251318806 group-navigation"},Dp(Mp,{url:null===A||void 0===A?void 0:null===(j=A.repl)||void 0===j?void 0:j.url,direction:"left"}),Dp("div",{style:{margin:"auto"},className:"jsx-2251318806"},"In this group"),Dp(Mp,{url:null===R||void 0===R?void 0:null===(E=R.repl)||void 0===E?void 0:E.url,direction:"right"})),Dp("div",{className:"jsx-2251318806 group-members"},u.repl.submission.submissionGroup.users.map((function(e){return Dp(kt.a,{href:"/@".concat(null===e||void 0===e?void 0:e.username)},Dp("a",{className:"jsx-2251318806"},Dp("div",{className:"jsx-2251318806 group-user-card"},Dp(_e.a,{url:null===e||void 0===e?void 0:e.image}),L(e))))})))):Dp("div",{className:"jsx-2251318806 submission-nav"},Dp(Mp,{url:null===A||void 0===A?void 0:null===(O=A.repl)||void 0===O?void 0:O.url,direction:"left"}),Dp("div",{className:"jsx-2251318806 submission-identity"},Dp(kt.a,{href:"/@".concat(null===(_=C.author)||void 0===_?void 0:_.username)},Dp("a",{className:"jsx-2251318806"},Dp(_e.a,{url:null===(N=C.author)||void 0===N?void 0:N.image,style:{margin:"auto"}}),Dp("div",{className:"jsx-2251318806"},D)))),Dp(Mp,{url:null===R||void 0===R?void 0:null===(S=R.repl)||void 0===S?void 0:S.url,direction:"right"})),Dp("div",{className:"jsx-2251318806 submission-info"},Dp(sn.HStack,{align:"center",spacing:1},Dp(uu.a,null),Dp("div",{"data-microtip-position":"bottom","aria-label":"".concat(D," forked this project ").concat(U(u.repl.timeCreated).long),role:"tooltip",className:"jsx-2251318806"},"Forked ",U(u.repl.timeCreated).short)),u.repl.submission&&(u.repl.submission.timeSubmitted?Dp(sn.HStack,{align:"center",spacing:1},Dp(Sp.a,{color:"var(--color-green-1)"}),Dp("div",{"data-microtip-position":"bottom","aria-label":"".concat(D," submitted this project ").concat(U(u.repl.submission.timeSubmitted).long),role:"tooltip",className:"jsx-2251318806"},"Submitted"," ",U(u.repl.submission.timeSubmitted).short)):Dp($t.a,{foreground:2},Dp(sn.HStack,{align:"center",spacing:1},Dp(gn.a,null),Dp("div",{"data-microtip-position":"bottom","aria-label":"".concat(D," ").concat(M," yet to submit this project"),role:"tooltip",className:"jsx-2251318806"},"Unsubmitted")))),g&&Dp(sn.HStack,{align:"center",spacing:1},Dp(Tp.a,{color:"var(--color-primary-1)",size:"medium"}),Dp("div",{"data-microtip-position":"bottom","aria-label":"You last visited this submission ".concat(U(g).long),role:"tooltip",className:"jsx-2251318806"},"Last seen: ",F))),Dp("div",{"data-microtip-position":"bottom","aria-label":"See changes made to this repl over time",role:"tooltip",onClick:function(){return s.push({pathname:"".concat("Repl"===u.repl.__typename&&u.repl.url,"/history")})},className:"jsx-2251318806 repl-history"},Dp("div",{className:"jsx-2251318806 history-icon"},Dp(Wt.HistoryIcon,null)),Dp("div",{className:"jsx-2251318806 repl-history-text"},"Repl History")),Dp("div",{className:"jsx-2251318806 feedback"},f&&Dp("div",{onClick:function(){return y(!0)},className:"jsx-2251318806 annotations-summary"},P>0&&Dp("span",{className:"jsx-2251318806"},P),Dp(cd,null)),Dp(Yn.Button,{onClick:function(){k({type:"CREATE_ANNOTATION",wid:o,pud:"annotations"})},color:"primary",filled:!0,fullWidth:!0},"Leave Feedback")),Dp(le.a,{id:"2251318806"},[".template-selector-container.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".submission-nav.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--spacing-2);overflow:hidden;}",".submission-identity.jsx-2251318806{margin:auto;}",".submission-info.jsx-2251318806{padding:var(--spacing-2);width:-webkit-max-content;width:-moz-max-content;width:max-content;}",".group-navigation.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".group-submission-nav.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-row-gap:var(--spacing-2);padding:var(--spacing-2);}",".group-members.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-gap:var(--spacing-1);}",".group-user-card.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-column-gap:var(--spacing-1);}",".history-icon.jsx-2251318806{width:18px;height:18px;}",".repl-history.jsx-2251318806,.feedback.jsx-2251318806{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;grid-gap:var(--spacing-2);padding:var(--spacing-2);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}",".feedback.jsx-2251318806{overflow:hidden;}",".annotations-summary.jsx-2251318806{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--spacing-half);font-size:var(--font-size-desktop-text-small);}",".annotations-summary.jsx-2251318806 svg{width:16px;height:16px;}"]))}return Dp("div",{style:i,className:"jsx-2390246310 education-pane"},Dp("div",{className:"jsx-2390246310 education-pane-header"},Dp("div",{className:"jsx-2390246310 education-pane-heading"},"Teams for Education")),Dp("div",{className:"jsx-2390246310 education-pane-container"},a),Dp(Zn,{isOpen:w,onRequestClose:function(){return y(!1)}}),Dp(le.a,{id:"2390246310"},[".education-pane.jsx-2390246310{background-color:var(--color-background-1);color:var(--color-foreground-1);}",".education-pane-header.jsx-2390246310{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--spacing-6);padding:0 var(--spacing-1) 0 var(--spacing-2);color:var(--color-foreground-1);width:100%;}",".education-pane-heading.jsx-2390246310{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".education-pane-container.jsx-2390246310{padding:var(--spacing-1);max-width:250px;margin:auto;}"]))}var Up=n("W8YL");var Hp=n("XE6U"),Gp=n("T61/"),Bp=n("cqQc"),zp=n("uMio"),Kp=n("o40J"),Vp=n("7r0u");function qp(e){var t=Object(sa.a)(),n=t.container,r=t.presence,a=e.wid,i=Object(Ot.a)("flag-multiplayer-services");me.useEffect((function(){if(i)var t=r.onUserJoin((function(r){var a=n.getRepl();if(a){var i=r.username;return Wp(e),function(e){var t,n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y.a.awrap(Ns.a.query({query:at.E,variables:{id:e}}));case 2:return t=r.sent,n=t.data,r.abrupt("return","Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl.title:null);case 5:case"end":return r.stop()}}))}(a.id).then((function(e){e&&Object(vs.a)({title:"",body:"".concat(i," joined ").concat(e),tag:"".concat(a.id,"-").concat(i,"-joined"),iconByUsername:i,cacheDuration:9e5})})),function(){t()}}Wp(e)}))}),[a,r,n,i,e])}function Wp(e){var t=e.wid,n=e.store,r=n.dispatch,a=(0,n.getState)(),i=a.plugins,o=a.layout,s=K()(i).find((function(e){return e.includes("chat")}));if(s&&!qe.g(o,s)){var c=qe.h(o,s,"inside",["floating"]),l=c.path,u=c.to;r(Object(Ye.cb)({wid:t,path:l,to:u,property:null}))}}function Xp(e){var t=e.ws,n=Object(_t.a)();return function(e){var t=e.replId,n=Object(sa.a)().container,r=me.useState(null),a=Object(W.a)(r,2),i=a[0],o=a[1],s=Object(at.id)({variables:{id:t}}),c=s.data,l=s.loading;me.useEffect((function(){sc().then((function(e){o(Object(Kp.b)(e))}))}),[o]),me.useEffect((function(){return function(){n.destroy()}}),[n]),me.useEffect((function(){if(!l&&null!==i&&c&&"Repl"===c.repl.__typename){var e=c.repl,t=c.currentUser;n.client().setDebugFunc((function(t){if("breadcrumb"===t.type){Be.a({category:"crosisV6",message:t.message,data:t.data});var n={data:t.data,message:t.message,replId:null===e||void 0===e?void 0:e.id,language:null===e||void 0===e?void 0:e.language,url:null===e||void 0===e?void 0:e.url};switch(t.message){case"connecting":Object(Ke.track)(Ke.events.CROSIS_CONNECTION_ATTEMPTED,n);break;case"error":Object(Ke.track)(Ke.events.CROSIS_ERROR,n);break;case"connect timeout":Object(Ke.track)(Ke.events.CROSIS_CONNECTION_TIMEOUT,n);break;case"retrying":Object(Ke.track)(Ke.events.CROSIS_CONNECTION_RETRYING,n);break;case"reconnecting":Object(Ke.track)(Ke.events.CROSIS_CONNECTION_RECONNECTING,n);break;case"connect failed":Object(Ke.track)(Ke.events.CROSIS_CONNECTION_FAILED,n);break;case"falling back to polling":Object(Ke.track)(Ke.events.CROSIS_CONNECTION_FALLING_BACK_TO_POLLING,n)}}})),n.connect({overrideClusterMetadata:i,repl:e,currentUser:t||void 0})}}),[n,i,l,c])}({replId:n}),function(e){var t=Object(sa.a)().packager,n=Object(Ot.a)("flag-packager-service"),r=e.wid,a=e.store.dispatch,i=function(e){a(Object(Ye.X)({wid:r,message:e,type:"",raw:!1}))},o=function(){a(Object(Ye.X)({wid:r,message:"\n\nRepl.it: Package operation failed.\n\n",type:"error",raw:!1}))},s=function(e){if(e)return a({type:"PACKAGER_STARTED",wid:r}),void a(Object(Ye.X)({wid:r,message:"\n\nRepl.it: Updating package configuration\n\n",type:"",raw:!1}));a({type:"PACKAGER_ENDED",wid:r})};me.useEffect((function(){if(n){var e=t.onOutput(i),r=t.onError(o),a=t.onStateChanged(s);return function(){e(),r(),a()}}}),[])}(t),function(e,t){var n=Object(Ot.a)("flag-multiplayer-services"),r=e.wid,a=e.store.dispatch,i=Object(at.hd)({variables:{id:t}}),o=i.data,s=i.loading;me.useEffect((function(){!s&&o&&"Repl"===o.repl.__typename&&n&&o.repl.permissions.length&&(a({type:"REQUEST_NOTIFICATION_PERMS",wid:r}),Wp(e))}),[o,a,n,r,e,s])}(t,n),qp(t),function(e){var t=me.useRef(""),n=Object(sa.a)().container,r=e.wid,a=e.store.dispatch,i=Object(Ot.a)("flag-remove-cwd-plugin");me.useEffect((function(){if(i)return n.onConnectionStateChanged((function(e){var i,o,s,c;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e===xs.a.CONNECTED){l.next=2;break}return l.abrupt("return");case 2:return l.next=4,Y.a.awrap(n.exec("pwd"));case 4:if(i=l.sent,o=i.output){l.next=8;break}return l.abrupt("return");case 8:""===t.current&&(s=n.getRepl())&&(t.current="/home/runner/".concat(s.slug)),(c=o.replace("\n",""))!==t.current&&(a({type:"UPDATE_WORKING_DIRECTORY",wid:r,path:c}),t.current=c);case 11:case"end":return l.stop()}}))}))}),[n,a,r,i])}(t),function(e){var t=Object(sa.a)().presence,n=Object(Ot.a)("flag-multiplayer-services");me.useEffect((function(){if(n){var e=!1,r=t.onActiveUsersChange((function(t){e?e=!1:t.forEach((function(e){Object(Vp.injectUserStyle)(e.username,e.color)}))})),a=t.onUserJoin((function(t){e=!0,Object(Vp.injectUserStyle)(t.username,t.color)})),i=t.onUserLeave((function(t){e=!0,Object(Vp.removeUserStyle)(t.username)}));return function(){r(),a(),i()}}}),[e,n,t])}(t.wid),null}var Yp=me.createElement;function Qp(e){var t=e.stacked,n=e.lite;return Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" "+(nt()("root",{stacked:t,lite:n})||"")},Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" header"}),Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" sidenav"}),Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" sidebar"}),Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" content"},Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" file"}),Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" spacer"}),Yp("div",{className:le.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" output"})),Yp(le.a,{id:"1838698040",dynamic:[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]},[".root.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;width:100%;height:100%;display:grid;grid-template-areas: 'header header header header' 'sidenav sidebar content content';grid-template-columns: 50px calc(((100vw - 50px) * 0.15 - 3px)) ".concat(n?0:"var(--spacing-1)"," 1fr;grid-gap:var(--spacing-1);grid-template-rows:auto 1fr;background-color:var(--color-background-3);padding-bottom:").concat(n?0:"var(--spacing-1)",";}"),".header.__jsx-style-dynamic-selector{grid-area:header;height:60px;margin-bottom:".concat(n?"calc(-1*var(--spacing-1))":0,";background-color:var(--color-background-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.08);border-bottom:0.5px solid var(--color-control-3);}"),".sidenav.__jsx-style-dynamic-selector{width:50px;grid-area:sidenav;background-color:var(--color-background-1);margin-left:".concat(n?0:"var(--spacing-1)",";border-top-left-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);}"),".sidebar.__jsx-style-dynamic-selector{grid-area:sidebar;background-color:var(--color-background-1);border-radius:var(--border-radius-1);}",".content.__jsx-style-dynamic-selector{grid-area:content;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-right:".concat(n?0:"var(--spacing-1)",";border-radius:var(--border-radius-1);}"),".file.__jsx-style-dynamic-selector,.output.__jsx-style-dynamic-selector{height:100%;border-radius:var(--border-radius-1);}",".file.__jsx-style-dynamic-selector{background-color:var(--color-background-1);width:calc(50% + var(--spacing-1));}",".output.__jsx-style-dynamic-selector{background-color:var(--color-brand-dark-blue);width:50%;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);height:var(--spacing-1);}",".lite.__jsx-style-dynamic-selector .sidebar.__jsx-style-dynamic-selector{display:none;}",".lite.__jsx-style-dynamic-selector{grid-template-areas: 'header header' 'sidenav content';grid-template-columns:50px 1fr;grid-template-rows:auto 1fr;}",".lite.__jsx-style-dynamic-selector .header.__jsx-style-dynamic-selector{height:40px;}",".stacked.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".stacked.__jsx-style-dynamic-selector .file.__jsx-style-dynamic-selector,.stacked.__jsx-style-dynamic-selector .output.__jsx-style-dynamic-selector{width:100%;height:50%;}"]))}var Jp=me.createElement,Zp={overlimit:{title:"Multiplayer Limit Reached",body:"Repl reached its multiplayer limit. Please contact the owner."},notfound:{title:"Invite Link 404",body:"Multiplayer invite link not found. Please contact the owner."}};function $p(e){var t,n,r=e.language,a=Object(ke.useRouter)().query,i=me.useState(!1),o=Object(W.a)(i,2),s=o[0],c=o[1],l=null,u=Re.a.get(r)?null:r;a.classroom_template?l={title:"Project Template",body:"This is the template that students will be given to fork. When you are finished, close this tab, go back to the classroom, and create the project."}:u?l={title:"Unsupported Language",body:Jp("div",null,Jp("p",null,"We encountered an internal error while loading your repl"),Jp("br",null),Jp("p",null,'The language "',u,"\" doesn't exist.",Jp("br",null),Jp("br",null),"You can still view your repl but many features may not work.",Jp("br",null),"Our engineers have been notified and we will have a fix for this soon."))}:a.error&&(l=Zp[a.error.toString()]||{title:"Error",body:"Somethng went wrong"});var d=!s&&Boolean(l);return Jp(on.a,{onRequestClose:function(){return c(!0)},isOpen:d},Jp("div",{className:le.a.dynamic([["1423633573",[Ae.BREAKPOINTS.mobileMax]]])+" content"},Jp(wn.a,{level:3},null===(t=l)||void 0===t?void 0:t.title),null===(n=l)||void 0===n?void 0:n.body,Jp("div",{className:le.a.dynamic([["1423633573",[Ae.BREAKPOINTS.mobileMax]]])},Jp(Yn.Button,null,"Continue")),Jp(le.a,{id:"1423633573",dynamic:[Ae.BREAKPOINTS.mobileMax]},[".content.__jsx-style-dynamic-selector{color:var(--color-foreground-1);padding:var(--spacing-2);display:grid;grid-gap:var(--spacing-2);}","@media screen and (min-width:".concat(Ae.BREAKPOINTS.mobileMax,"px){.content.__jsx-style-dynamic-selector{padding:var(--spacing-6);}}")])))}var ef=n("IKky"),tf=n.n(ef),nf=n("Qv0/");function rf(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e,t){var r,a,i,o,s,c,l,u,d,p,f,m,b,g,h,v,x,w;return Y.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(r=window["flag-lsp-service"],a=t.preferences,i=t.editorHandle,o=t.workingDirectory,s=t.repl,c=Re.a.get(s.language),l=c.hasLanguageServer,a.codeIntelligence&&i&&!e.isConnected()&&r&&l){y.next=5;break}return y.abrupt("return");case 5:if(u=Ea.a.get(i)){y.next=8;break}throw new Error("No editor found during LSP init");case 8:return y.next=10,Y.a.awrap(Promise.all([n.e(10),n.e(12),n.e(15),n.e(31)]).then(n.t.bind(null,"nwKM",7)));case 10:return d=y.sent,p=d.MonacoServices,d.MonacoLanguages.prototype.registerCodeLensProvider=void 0,p.install(u,{rootUri:"file://".concat(o)}),y.next=17,Y.a.awrap(e.getOrCreateConnection());case 17:return f=y.sent,m=Re.a.get(s.language),b=m.ext,y.next=21,Y.a.awrap(Object(nf.createLanguageClient)(f,b));case 21:g=y.sent,Object(nf.overrideLogger)(g),h=g.start(),f.onClose((function(){return h.dispose()})),v=s.id,x=s.language,w=s.slug,Object(Ke.track)(Ke.events.LSP_CONNECTION_STARTED,{replId:v,language:x,slug:w,isService:!0});case 27:case"end":return y.stop()}}))}function of(e,t){if(window["flag-lsp-service"]){var n=t.id,r=t.language,a=t.slug;Object(Ke.track)(Ke.events.LSP_CONNECTION_ENDED,{replId:n,language:r,slug:a,isService:!0}),e.closeConnection()}}function sf(e,t){var n=t.lsp,r=t.packager,a=t.container,i=t.session,o=e.wid,s=e.store;i.onSessionStateChanged((function(e){var t=e.openFiles[e.activeTab];t||s.dispatch(Object(Os.a)({wid:o})),t!==s.getState().activeFile&&s.dispatch({type:"OPEN_FILE",wid:o,path:t,session:!0})})),e.register("services",{receiver:function(e,t,a){return"OPEN_FILE"===a.type?function(){if(void 0!==a.path&&!a.session){var e=a.path,t=a.tabIndex,n=a.newTab;i.openFile(e,{tabIndex:t,newTab:n})}}:"MOVE_FILE"===a.type?function(){var e=a.path,t=a.to;i.moveFile(e,t)}:"DELETE_FILE"===a.type?function(){var e=a.path;i.deleteFile(e)}:"CLOSE_HEADER_TAB"===a.type?function(){var e=i.getState().openFiles.indexOf(a.path);i.closeTab(e)}:"PACKAGER_ENSURE"===a.type?function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(window["flag-packager-service"]){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,Y.a.awrap(r.installPackages());case 5:t=n.sent,e(t?{type:"PERSIST_FILE",wid:o}:{type:"OPTIMISTIC_RUN_ENDED",wid:o}),Object(Ke.track)(Ke.events.PACKAGES_INSTALLED,{isService:!0,success:t}),e({type:"PACKAGER_ENSURE_COMPLETE",wid:o});case 9:case"end":return n.stop()}}))}:"LOADING_GOVAL_STARTED"===a.type?function(e,r){var a=r().workspace[o].plugins[t].state.repl;of(n,a)}:"UPDATE_WORKING_DIRECTORY"===a.type||"LANGUAGE_SERVER_DIED"===a.type?function(e,r){var a=r().workspace[o].plugins[t].state;of(n,a.repl),af(n,a)}:"LOADING_ENGINE_COMPLETE"===a.type?function(e,r){var a=r().workspace[o].plugins[t].state;af(n,a)}:"REGISTER_MONACO_EDITOR_HANDLE"===a.type?function(e,r){var a=r().workspace[o].plugins[t].state;af(n,a)}:"UPDATE_WORKSPACE_PREFERENCES"===a.type?function(e,r){var i=a.updates.codeIntelligence;if("undefined"!==typeof i){var s=r().workspace[o].plugins[t].state;i?af(n,s):of(n,s.repl)}}:null},reducer:nf.reducer});var c=0;n.onUnexpectedDisconnect((function(){var t=a.getRepl(),n=t?{replId:t.id,language:t.language,slug:t.slug}:{};c++,Object(Ke.track)(Ke.events.LSP_SERVER_DIED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):rf(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}({},n,{disconnects:c,isService:!0})),e.store.dispatch({type:"LANGUAGE_SERVER_DIED",wid:e.wid})}))}var cf=n("5RMj"),lf=n("f47c"),uf=me.createElement;function df(e,t){var n=K()(e);if(B.a){var r=B()(e);t&&(r=r.filter((function(t){return H()(e,t).enumerable}))),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?df(Object(n),!0).forEach((function(t){Object(ne.a)(e,t,n[t])})):F.a?D()(e,F()(n)):df(Object(n)).forEach((function(t){P()(e,t,H()(n,t))}))}return e}function ff(){var e=Object(ie.a)(['\n  query ReplEnvironmentQuery($replId: String!) {\n    currentUser {\n      id\n      shareToTalkPromoSeen: tourSeen(name: "share_repl_to_talk")\n      shouldShowMPInviteTour: tourSeen(name: "multiplayer_invite")\n    }\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        hasEducationPane\n      }\n    }\n  }\n']);return ff=function(){return e},e}var mf=function(e){return JSON.parse(se()(e))},bf=we()(ff());function gf(e){if(!ae()(e.getState().plugins).find((function(e){return"adminpanel"===e.type}))){var t="adminpanel-"+Ce()();e.dispatch({type:"LOAD_PLUGIN",pluginPud:t,pluginType:"adminpanel",title:"adminpanel"}),e.dispatch({type:"ADD_SIDE_NAV_ITEM",navItem:{pud:t,pluginType:"adminpanel",tooltip:"Crosis Logs",svg:"Alien"}})}}var hf=function(e){var t=function(t){function n(){return Object(Q.a)(this,n),Object(Z.a)(this,Object($.a)(n).apply(this,arguments))}return Object(te.a)(n,t),Object(J.a)(n,[{key:"render",value:function(){var t=this;return uf(De.b.Consumer,null,(function(n){var r=n.store;return uf(e,Object(R.a)({},t.props,{reduxStore:r}))}))}}]),n}(me.Component);return Object(ne.a)(t,"displayName","withStore(ReplEnvironment)"),ve()(t,e)}(function(e){function t(){var e,n;Object(Q.a)(this,t);for(var R=arguments.length,A=new Array(R),P=0;P<R;P++)A[P]=arguments[P];return n=Object(Z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(A))),Object(ne.a)(Object(ee.a)(n),"ws",void 0),Object(ne.a)(Object(ee.a)(n),"services",void 0),Object(ne.a)(Object(ee.a)(n),"unmounted",void 0),Object(ne.a)(Object(ee.a)(n),"WsComponent",void 0),Object(ne.a)(Object(ee.a)(n),"state",{forking:!1,isWorkspaceCrashed:!1,sentryEventId:"",ssredTaint:!1,isMounted:!1,showAuthOnForkPrompt:!1,serverConnectionMetadataUsed:!1}),Object(ne.a)(Object(ee.a)(n),"createNewWorkspace",(function(){var e=!1,t=new Ve.a;t.registerErrorHandler((function(t){var r=t.error,a=t.pluginType,i=t.pud,o=t.source;e||(e=!0,console.error("Plugin with type ",a," and pud ",i," errored in ",o),console.error(r),r instanceof Hp.a&&(console.log("CustomSentryError extra",r.extras),console.log("CustomSentryError tags",r.tags)),Be.m((function(e){e.setTags({pluginType:a,workspaceSource:o,workspaceError:"true"});var t=Be.c(r);(Object(Ge.a)(n.props.user,"flag-bsod")||"containerfs3"===a||"goval"===a)&&n.setState({isWorkspaceCrashed:!0,sentryEventId:t})})))})),function(e){Object(Up.a)(e),e.register("runflow",k),e.register("header",r),e.register("config",a),e.register("sidenav",i),e.register("filetree",Zr),e.register("filetree2",o),e.register("fileheader",s),e.register("editor",c),e.register("terminal2",Bi),e.register("console",zi),e.register("debugger",l),e.register("examples",po),e.register("floatingrun",fo),e.register("help",u),e.register("libsearch",ko),e.register("packager",jo),e.register("packager2",d),e.register("mediaview",p),e.register("preferences",Uo),e.register("git",Ho),e.register("replboxdisplay",Go),e.register("snack",f),e.register("vnc",Ko),e.register("webview",Vo),e.register("chat",qo),e.register("chat2",m),e.register("fileviewercontroller",b),e.register("markdownviewer",g),e.register("adminpanel",h),e.register("blank",_c),e.register("lock",v),e.register("hackerupgradeprompt",x),e.register("desktoplayout",w),e.register("audio",y),e.register("deeplink",xl),e.register("resourcemonitor",j),e.register("browsernotifications",E),e.register("database",O),e.register("commandbar",_),e.register("commandbarv5",N),e.register("annotations",S),e.register("shell",C),e.register("autograder",T),e.register("educationpane",I)}(t),t.register("audio",y),t.register("bsoder",{receiver:function(e,r,a){"BSOD"===a.type&&(n.setState({isWorkspaceCrashed:!0,sentryEventId:a.sentryEventId}),t.store.dispatch({type:"WORKSPACE_WILL_UNMOUNT",wid:e}),a.crasherPud&&t.store.dispatch({type:"PLUGIN_BROKE",pud:a.crasherPud,message:"No message"}),a.originalError&&(console.error("".concat(a.crasherPud||"plugin"," crashed}")),console.error(a.originalError)))}}),t.register("replforker",{receiver:function(e,t,r){return"OT_FILE_OP"===r.type&&"containerfs"!==r.changeSource&&!n.props.repl.isOwner&&n.setState({showAuthOnForkPrompt:!0}),null}}),t.register("replupdater",{receiver:function(e,t,r){return"REQUEST_REPL_UPDATE"===r.type?function(t){var a,i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:a=n.props.repl,i=a.id,a.isOwner||Be.m((function(e){e.setExtra("updates",r.updates),Be.c(new Error("Trying to update repl without perms"))})),n.props.updateRepl(i,r.updates),t({wid:e,type:"REPL_UPDATED",updates:r.updates}),r.refresh&&window.location.replace(window.location.pathname);case 5:case"end":return o.stop()}}))}:"REPL_UPDATED"===r.type?function(){n.props.updateReplSuccess(pf({},n.props.repl,{},r.updates))}:null}});var R=window["flag-multiplayer-services"],A=window["flag-packager-service"],P=window["flag-lsp-service"];sf(t,n.services);var L=n.props,D=L.repl,M=L.user,F=L.router,U=L.showShareToTalkPromo,H=L.shouldShowMPInviteTour,G=L.shouldShowEducationPane,B=L.shouldLoadAutograder;t.yikesInjectStore(n.props.reduxStore);var z=Object(ge.isMobile)({ua:window.navigator.userAgent,tablet:!0});window.mobileTaint=z,window.anonTaint=!M.isLoggedIn;var K=n.getAnnotationsEnabled();window["enable-annotations"]=K;var V=function(){var e=Object(Fe.a)(M);F.query.lite&&((e=Fe.b).codeIntelligence=!1);var t=Object(Ge.a)(M,"windowing")&&!F.query.lite,r=window["flag-shell-tab"],a=Object(Ge.a)(n.props.user,"flag-commandbar-services"),i=Object(Ge.a)(n.props.user,"flag-filetree-v2"),o=Boolean(window.AudioContext||window.webkitAudioContext);return function(e){var t,n,r,a,i=e.lang,o=e.lite,s=e.outputonly,c=e.sharing,l=e.isMobile,u=e.preferences,d=e.isServer,p=e.isVnc,f=e.languageServer,m=e.inspector,b=e.gitRemoteUrl,g=e.showShareToTalkPromo,h=e.shouldShowMPInviteTour,v=e.withChat,x=e.tabbedShell,w=e.isWindowingEnabled,y=e.multiplayerServicesEnabled,k=e.shouldRemoveCwdPlugin,j=e.newPackagerPlugin,E=e.newLSPService,O=e.newFiletreeEnabled,_=e.hasAudioContext,N=e.preventFocusOnTerminal,S=e.isAnnotationsEnabled,C=e.useCommandbarServices,T=e.shouldShowEducationPane,I=e.isLoggedIn,R=Re.a.get(i);if("react_native"===R.key)return{language:i,layout:{floating:[],tiling:{type:"split",fixed:!0,leftSize:o?48:68,hideHandle:!0,stacked:!0,left:{type:"pane",pud:"header"},right:{type:"pane",pud:"output"}}},files:[],plugins:{header:{type:"header",title:"header",state:{lite:o,showShareToTalkPromo:g,shouldShowMPInviteTour:h}},output:{type:"snack",title:"console"},infoprovider:{type:"infoprovider",title:"infoprovider"}},preferences:u,activeFile:void 0};var A="chat-".concat(Ce()()),P={libs:{type:"libsearch",title:"library search",isClosable:w,isDraggable:w}};Re.a.get(i).hasUPM&&(P=j?{packager2:{type:"packager2",title:"packages",isClosable:w,isDraggable:w}}:{packager:{type:"packager",title:"packages",isClosable:w,isDraggable:w}});var L=y?"chat2":"chat",D=Le({cwd:{type:"cwd"},fileviewercontroller:{type:"fileviewercontroller"},analytics:{type:"analytics"},replupdater:{type:"replupdater"},replforker:{type:"replforker"}},P,(t={examples:{type:"examples",title:"examples"},header:{type:"header",title:"header",state:{lite:o,showShareToTalkPromo:g,shouldShowMPInviteTour:h}}},Object(ne.a)(t,A,{type:L,title:"chat"}),Object(ne.a)(t,"fileheader",{type:"fileheader",title:"fileheader"}),Object(ne.a)(t,"infoprovider",{type:"infoprovider",title:"infoprovider"}),Object(ne.a)(t,"fs",{type:"containerfs3"}),Object(ne.a)(t,"formatter",{type:"formatter"}),Object(ne.a)(t,"markdownviewer-"+Ce()(),{type:"markdownviewer"}),Object(ne.a)(t,"hackerupgradeprompt",{type:"hackerupgradeprompt"}),Object(ne.a)(t,"browsernotifications",{type:"browsernotifications"}),Object(ne.a)(t,"services",{type:"services"}),Object(ne.a)(t,"commandbar",{type:C?"commandbar":"commandbarv5"}),t));s&&(delete D.fileviewercontroller,delete D.commandbar),_&&(D=Le({},D,{audio:{type:"audio"}})),S&&(D=Le({},D,{annotations:{type:"annotations"}})),k&&delete D.cwd,m&&(D=Le({},D,{inspector:{type:"inspector",title:"inspector"}}));var M,F=[];T&&(F.push({pud:"educationpane",pluginType:"educationpane",tooltip:"Teams for Education",svg:"Book"}),D.educationpane={type:"educationpane",title:"Education Pane",isClosable:w,isDraggable:w}),Re.a.supportsGit(i)&&!c&&(F.push({pud:"git",pluginType:"git",tooltip:"Version control",svg:"Fork"}),D.git={type:"git",title:"git",isClosable:w,isDraggable:w,state:{gitRemoteUrl:b}}),D.config={type:"config",title:"config",isClosable:!0,isDraggable:!1},D.lock={type:"lock",title:"lock"},Re.a.supportsPackager3(i)?j?F.push({pud:"packager2",pluginType:"packager2",tooltip:"Packages",svg:"Packages"}):F.push({pud:"packager",pluginType:"packager",tooltip:"Packages",svg:"Packages"}):(Re.a.supportsPackager2(i)||"html"===i)&&F.push({pud:"libs",pluginType:"libsearch",tooltip:"Packages",svg:"Packages"}),o||(D=Le({},D,{prefs:{type:"preferences",title:"preferences",isClosable:w,isDraggable:w},help:{type:"help",title:"help",isClosable:w,isDraggable:w},floatingrun:{type:"floatingrun",title:"floatingrun",state:{maxWidthBreakpoint:Ae.BREAKPOINTS.mobileMax+100}}}),f&&!E&&(D=Le({},D,{langserver:{type:"langserver",title:"langserver"}}))),M=Le({},M=Re.a.usesTerminal2(i)?{type:"terminal2",title:"console",state:{kind:Re.a.usesInterpreter(i)?"interp":"output",lite:o,preventFocus:N}}:{type:"console",title:"console"},{isDraggable:w}),"python_turtle"===R.key||"basic"===R.key?D=Le({},D,{output:{type:"replboxdisplay",title:"output"},console:{type:"console",title:"console"}}):"web_project"===R.key||"html"===R.key?D=Le({},D,{output:{type:"webview",title:"output",state:{canBeClosed:!1}},console:{type:"console",title:"console"}}):I&&Re.a.supportsDebugging(R.key)?(D=Le({},D,{output:M,debugger:{type:"debugger",title:"debugger"}}),F.push({pud:"debugger",pluginType:"debugger",tooltip:"Debugger",svg:"Debugger"})):D=Le({},D,{output:M});var U,H,G=Re.a.supportsFiles(R.key)||"web_project"===R.key||"html"===R.key,B=O?"filetree2":"filetree",z=O?void 0:{tree:Object(Te.a)([],void 0)};if(D=Le({},D,Object(ne.a)({},B,{type:B,title:"filetree",isClosable:w,isDraggable:w,state:z})),G&&F.unshift({pud:B,pluginType:B,tooltip:"Files",svg:"File"}),G?(D[n="file-".concat(Ce()())]={type:"blank",title:"empty",isDraggable:w},U={type:"pane",pud:n}):(D[n="main-editor"]={type:"blank",title:"empty",isDraggable:w},U={type:"pane",pud:n}),"web_project"===R.key||"python_turtle"===R.key||"html"===R.key||"basic"===R.key)if(l)H={type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"console"}]};else{var K=x?{type:"tabs",active:0,tabs:[{type:"pane",pud:"console"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"console"};H={type:"split",stacked:!u.isLayoutStacked,position:65,left:{type:"pane",pud:"output"},right:K}}else if(d&&c){r="webview-"+Ce()();var V=x?{type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"output"};D=Le({},D,Object(ne.a)({},r,{type:"webview",title:"webview",isDraggable:w,state:{renderIframe:!0,canBeClosed:!0}})),H={type:"split",stacked:!(l||o||u.isLayoutStacked),fixed:!1,left:{type:"pane",pud:r},right:V}}else if(p){a="vnc-"+Ce()(),D=Le({},D,Object(ne.a)({},a,{type:"vnc",title:"vnc",state:{}}));var q=x?{type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"output"};H={type:"split",stacked:!(l||o||u.isLayoutStacked),fixed:!1,left:{type:"pane",pud:a},right:q}}else H=x?{type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"output"};var W,X,Y=s?H:{type:"split",stacked:l||o||u.isLayoutStacked,fixed:!1,left:{type:"split",stacked:!0,leftSize:32,left:{type:"pane",pud:"fileheader"},right:U},right:H};w&&(Y=s?H:{type:"split",left:Le({},U,{header:{type:"pane",pud:"fileheader",height:32}}),right:H}),!o&&I&&F.push({pud:"prefs",pluginType:"preferences",tooltip:"Settings",svg:"Settings"}),!F.length||s?W=Y:(l||!G||o||(X=O?"filetree2":"filetree"),T&&(X="educationpane"),D=Le({},D,{sidenav:{type:"sidenav",title:"side navigation",state:{navItems:F,activePanePuds:X?[X]:[]}}}),W={type:"split",stacked:!1,leftSize:50,left:{type:"pane",pud:"sidenav"},right:X?{type:"split",stacked:!1,position:15,left:{type:"pane",pud:X},right:Y}:Y});var Q={floating:o?[]:["floatingrun","help","hackerupgradeprompt","browsernotifications","commandbar"],tiling:{type:"split",leftSize:o?48:68,stacked:!0,left:{type:"pane",pud:"header"},right:m?{type:"split",left:W,right:{type:"pane",pud:"inspector"}}:W}};return Q.floating.push("desktoplayout"),_&&!o&&Q.floating.push("audio"),v&&Q.floating.push(A),S&&Q.floating.push("annotations"),Q.floating.push("analytics"),Q.floating.push("fileviewercontroller"),D["bsoder-".concat(Ce()())]={type:"bsoder",title:"bsoder"},y||(D["cursorstyles-".concat(Ce()())]={type:"cursorstyles",title:"cursorstyles"}),D["unloadhandler-".concat(Ce()())]={type:"unloadhandler",title:"unloadhandler"},D.desktoplayout={type:"desktoplayout"},x&&(D.shell={type:"shell",title:"shell"}),D["loadingresolver-"+Ce()()]={type:"loadingresolver",title:"loadingresolver"},D["goval-"+Ce()()]={type:"goval",title:"goval",state:{isOwner:!c,lite:o}},"goval"!==R.engine&&(D["replbox-"+Ce()()]={type:"replbox",title:"replbox"}),D.deeplink={type:"deeplink"},Q.floating.push("deeplink"),{language:i,layout:Q,files:[],plugins:D,preferences:u,activeFile:void 0,editorPud:n,webviewPud:r,vncPud:a,sideNavItems:F}}({lang:D.language,lite:F.query.lite,outputonly:Boolean(F.query.outputonly),sharing:!D.isOwner,isMobile:z,preferences:e,isServer:D.config.isServer||!1,isVnc:D.config.isVnc||!1,languageServer:Re.a.get(D.language).hasLanguageServer,gitRemoteUrl:D.config.gitRemoteUrl,inspector:Boolean(F.query.inspector),showShareToTalkPromo:U,shouldShowMPInviteTour:H,shouldShowEducationPane:G,withChat:D.showChat&&!F.query.lite,shouldRemoveCwdPlugin:Object(Ge.a)(M,"flag-remove-cwd-plugin"),tabbedShell:r,isWindowingEnabled:t,multiplayerServicesEnabled:R,newPackagerPlugin:A,newLSPService:P,newFiletreeEnabled:i,hasAudioContext:o,isAnnotationsEnabled:K,useCommandbarServices:a,isLoggedIn:n.props.user.isLoggedIn})}();t.bootstrap(V),t.store.dispatch({type:"REPL_UPDATED",updates:D});var q=window.performance.now(),W=n.state.serverConnectionMetadataUsed?void 0:n.props.connectionMetadata;t.store.dispatch({type:"GOVAL_CONNECT",customConnectionMetadata:W}),n.setState({serverConnectionMetadataUsed:!0}),t.govalConnectionStarted=q,t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"reconnectprompt",pluginType:"reconnectprompt"}),t.store.dispatch(pf({type:"UPDATE_LAYOUT"},qe.h(t.store.getState().layout,"reconnectprompt","inside",qe.d()))),B&&(t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"autograder",pluginType:"autograder"}),t.store.dispatch({type:"ADD_SIDE_NAV_ITEM",navItem:{pud:"autograder",svg:"Test",pluginType:"autograder",tooltip:"Autograder Input/Output Tests"}})),n.props.doRunFlow&&(t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"runflow",pluginType:"runflow"}),t.store.dispatch(pf({type:"UPDATE_LAYOUT"},qe.h(t.store.getState().layout,"runflow","inside",qe.d())))),t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"resourcemonitor",pluginType:"resourcemonitor"}),t.store.dispatch({type:"UPDATE_WORKSPACE_PREFERENCES",updates:V.preferences});var X="/home/runner/".concat(D.slug);t.store.dispatch({type:"UPDATE_WORKING_DIRECTORY",path:X}),"replbox"!==Re.a.get(D.language).engine&&(t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"database",pluginType:"database",title:"Database"}),t.store.dispatch({type:"ADD_SIDE_NAV_ITEM",index:-1,navItem:{pud:"database",pluginType:"database",tooltip:"Database",icon:tf.a}})),M&&M.isLoggedIn&&M.roles.includes("admin")&&gf(t.store),window.debug=function(){return gf(t.store)},F.query.debug&&(gf(t.store),t.store.dispatch({type:"START_CROSIS_ADMIN_LOGS"})),t.store.dispatch({type:"TIME_TO_CODE_ID",timeToCodeId:n.props.timeToCodeId}),n.ws=t,n.WsComponent=t.component()})),Object(ne.a)(Object(ee.a)(n),"handleBeforePopState",(function(e){var t=e.as;return!e.options.shallow||(window.location.href=t,window.location.reload(),!1)})),Object(ne.a)(Object(ee.a)(n),"handleRouteChange",(function(){if(n.props.router.query.replUrl!==n.props.repl.url){var e=n.props.replsByUrl[n.props.router.query.replUrl];if(!e)return;n.props.setActiveReplId({replId:e})}})),Object(ne.a)(Object(ee.a)(n),"getAnnotationsEnabled",(function(){return!!Object(Ge.a)(n.props.user,"flag-annotations")||!(!Object(Ge.a)(n.props.user,"flag-annotations-teams")||!Boolean(n.props.profile&&n.props.profile.isTeam))})),n}return Object(te.a)(t,e),Object(J.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.state.ssredTaint&&(window.ssredTaint=!0),Object(Ge.a)(this.props.user,"flag-handicap-goval-conn")&&setInterval((function(){window.v1ws&&(window.v1ws.close(),window.v1ws=null),window.v6ws&&(window.v6ws.close(),window.v6ws=null)}),6e4),window["flag-windowing"]=Object(Ge.a)(this.props.user,"windowing"),window["flag-ot-high-consitency"]=Object(Ge.a)(this.props.user,"flag-ot-high-consitency"),window["flag-no-more-persist-mirror"]=Object(Ge.a)(this.props.user,"flag-no-more-persist-mirror"),window["open-markdown-split"]=Object(Ge.a)(this.props.user,"open-markdown-split"),window["flag-shell-tab"]=Object(Ge.a)(this.props.user,"flag-shell-tab"),window["flag-packager-service"]=Object(Ge.a)(this.props.user,"flag-packager-service"),window["flag-lsp-service"]=Object(Ge.a)(this.props.user,"flag-lsp-service"),window["flag-multiplayer-services"]=Object(Ge.a)(this.props.user,"flag-multiplayer-services"),window["flag-containerfs3"]=Object(Ge.a)(this.props.user,"flag-containerfs3"),window["flag-filetree-v2"]=Object(Ge.a)(this.props.user,"flag-filetree-v2"),this.services=Object(Bp.a)({onUnrecoverableError:function(t){console.error(t);var n=Be.c(t);e.setState({isWorkspaceCrashed:!0,sentryEventId:n})}}),this.createNewWorkspace(),je.a.replace({pathname:je.a.pathname,query:je.a.query},je.a.asPath,{shallow:!0}),this.props.router.events.on("routeChangeComplete",this.handleRouteChange),window.performance&&window.performance.navigation&&1===window.performance.navigation.type&&Object(Ke.track)(Ke.events.PAGE_RELOADED,{repl:this.props.repl}),Object(Ke.track)(Ke.events.CLIENT_PING,{}),Object(Me.b)("/data/t/ping")}},{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),this.props.router.beforePopState(this.handleBeforePopState),this.props.user&&!this.props.repl.isOwner&&Object(Ke.track)(Ke.events.REPL_GUEST_VIEW,{page:"replEnvironment"})}},{key:"componentWillUnmount",value:function(){window.navigatedTaint=!0,this.props.router.beforePopState((function(){return!0})),this.props.router.events.off("routeChangeComplete",this.handleRouteChange),window.debug=void 0,this.services&&this.services.container.destroy(),this.unmounted=!0}},{key:"componentDidUpdate",value:function(e){var t=e.repl.id!==this.props.repl.id,n=e.repl.url!==this.props.repl.url;if(t||n){var r=this.props.repl,a=r.url,i=pf({},this.props.router.query,{replUrl:r.url}),o=Object(We.a)(i);je.a.push({pathname:"/replEnvironment",query:i},{pathname:a,query:o},{shallow:!0}),this.state.forking||t&&this.services&&(this.createNewWorkspace(),this.forceUpdate())}}},{key:"getDescription",value:function(e){return this.props.repl.description?this.props.repl.description:this.props.profile?"A ".concat(e," repl by ").concat(this.props.profile.username):"A ".concat(e," repl created by an anonymous user")}},{key:"render",value:function(){var e=this,t=this.props,n=t.profile,r=void 0===n?{}:n,a=t.repl,i=t.lite,o=t.stacked,s="https://repl.it"+a.url,c=Re.a.get(this.props.repl.language).displayName,l=this.getDescription(c),u=this.props.repl.title,d=_e.a.getImage({emailHash:r.emailHash,image:r.icon,id:r.id}).url,p=this.WsComponent,f=Object(Ge.a)(this.props.user,"flag-commandbar-services")||Object(Ge.a)(this.props.user,"flag-lsp-service")||Object(Ge.a)(this.props.user,"flag-multiplayer-services")||Object(Ge.a)(this.props.user,"flag-shell-tab")||Object(Ge.a)(this.props.user,"flag-packager-service")||Object(Ge.a)(this.props.user,"flag-remove-cwd-plugin")||Object(Ge.a)(this.props.user,"flag-filetree-v2");return uf("div",{className:nt()("workspace-wrapper",{desktop:!i,lite:i}),id:cf.a,tabIndex:1},uf(He.a,null,uf(Ee.a,{title:u,oembedUrl:s,description:l||void 0,image:d,theme:i?"replitLight":void 0,noHeader:!0,noFooter:!0,forceDrawer:!0,hideEmailVerify:!0},uf($p,{language:a.language}),this.state.isWorkspaceCrashed&&uf(zp.a,{sentryEventId:this.state.sentryEventId,user:this.props.user.isLoggedIn?{username:this.props.user.username,email:this.props.user.email}:void 0,devHide:function(){return e.setState({isWorkspaceCrashed:!1})}}),uf("div",{className:"jsx-1913007021 "+(nt()("workspace-page-wrapper",{desktop:!i,lite:i})||"")},p&&this.ws&&this.services&&this.state.isMounted?uf($u,{ws:this.ws},uf(Gp.a.Provider,{value:this.services},uf(lf.a.Provider,{value:a.id},uf(p,{className:"jsx-1913007021"}),f?uf(Xp,{ws:this.ws}):null))):uf(Qp,{lite:Boolean(i),stacked:o})),this.props.repl.isOwner?null:uf(lr.a,{isLoggedIn:this.props.user.isLoggedIn,isOpen:this.state.showAuthOnForkPrompt,onRequestClose:function(){return e.setState({showAuthOnForkPrompt:!1})},replId:a.id}),uf(le.a,{id:"1913007021"},[".workspace-page-wrapper.jsx-1913007021{height:100%;width:100%;position:fixed;left:0px;right:0px;top:0;bottom:0px;background-color:var(--color-background-3);}",".workspace-page-wrapper.desktop.jsx-1913007021{padding:var(--spacing-1);padding-top:0;}",".banner+.content>.workspace-page-wrapper.jsx-1913007021{height:calc(100% - 36px);top:36px;}"]))))}}],[{key:"getInitialProps",value:function(e){var t,n,r,a,i,o,s,c,l,u,d,p,f,m,b,g,h,v,x,w,y,k,j,E,O,_,N,S,C,T,I,R,A,P;return Y.a.async((function(L){for(;;)switch(L.prev=L.next){case 0:return t=e.req,n=e.store,r=e.query,a=e.apolloClient,L.next=3,Y.a.awrap(Object(Me.a)({req:t}));case 3:if(i=L.sent,o="string"===typeof r.lite&&r.lite?r.lite:!!r.lite,l=!1,r.replUrl){L.next=8;break}throw new Error("Please add replUrl to query");case 8:return u=Ce()(),Object(Ke.track)(Ke.events.TIME_TO_CODE_STARTED,{ttcid:u,isServer:!1}),d=r.replUrl.split("/"),p=Object(W.a)(d,3),f=p[1],m=p[2],b="/data/repls/","repls"!==f?(h=f.replace(/^@/,""),g=i("/data/profiles/".concat(h),{normalize:!0}),b+=f+"/"):b+="anon/",L.next=16,Y.a.awrap(q.a.all([i("".concat(b).concat(m),{normalize:!0}),g,Object(ze.a)(t,n)]));case 16:v=L.sent,x=Object(W.a)(v,2),s=x[0],c=x[1],l=s.is_mobile,L.next=35;break;case 23:if(u=r.timeToCodeId,t&&t.headers["user-agent"]){L.next=26;break}throw new Error("Invalid request");case 26:return s=mf(t.repl),l=mf(t.isMobile),t.profile&&(c=mf(t.profile)),L.next=31,Y.a.awrap(Object(ze.a)(t,n));case 31:if(w=L.sent,!(y=w.error)){L.next=35;break}return L.abrupt("return",{error:y});case 35:if((k=n.getState().user.userInfo).isLoggedIn||(k=null),j=Object(Fe.a)(k),r.lite&&((j=Fe.b).codeIntelligence=!1),n.dispatch(Object(Ue.a)(s)),E=n.getState().repls.data[s.id],n.dispatch(Oe({replId:E.id})),O=!1,_=!1,N=!1,S=!1,!k){L.next=59;break}return L.next=49,Y.a.awrap(a.query({query:bf,variables:{replId:E.id}}));case 49:if(T=L.sent,(null===(I=T.data)||void 0===I?void 0:I.currentUser)&&(O=!I.currentUser.shareToTalkPromoSeen,_=!I.currentUser.shouldShowMPInviteTour),"Repl"===(null===I||void 0===I?void 0:null===(C=I.repl)||void 0===C?void 0:C.__typename)&&(N=I.repl.hasEducationPane),!Object(Ge.a)(k,"flag-edu-teams-autograding")){L.next=59;break}return L.next=56,Y.a.awrap(a.query({query:at.R,variables:{replId:E.id}}));case 56:R=L.sent,"Repl"===(A=R.data).repl.__typename&&(A.repl.isProject||A.repl.isProjectFork)&&(S=!0);case 59:return r.token&&r.gurl&&r.conmanURL&&(P={token:r.token,gurl:r.gurl,conmanURL:r.conmanURL}),L.abrupt("return",{profile:fe()(c),timeToCodeId:u,doRunFlow:r.doRunFlow,showShareToTalkPromo:O,shouldShowMPInviteTour:_,shouldShowEducationPane:N,isMobile:l,shouldLoadAutograder:S,lite:o,connectionMetadata:P,stacked:l||o||j.isLayoutStacked,theme:j.theme});case 61:case"end":return L.stop()}}))}}]),t}(me.Component));t.default=Object(De.c)((function(e){var t=e.repls.data[e.replEnvironment.activeReplId];return pf({},e.replEnvironment,{repl:t,replsByUrl:e.replsByUrl,isAnon:!e.user.userInfo.isLoggedIn,user:e.user.userInfo})}),(function(e){return Object(ye.b)({showMessage:Ne.b,setActiveReplId:Oe,updateRepl:Ue.b,updateReplSuccess:Ue.c},e)}))(Object(ke.withRouter)(hf))},ZU0V:function(e,t){function n(e){return e&&"object"===typeof e?i(e)||o(e)?e:a(e)?function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}(e,n):function(e,t,n){if(e.reduce)return e.reduce(t,n);for(var r=0;r<e.length;r++)n=t(n,e[r],r);return n}(c(e),(function(t,a){return t[r(a)]=n(e[a]),t}),{}):e}function r(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))}e.exports=function(e){return"string"===typeof e?r(e):n(e)};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e){return"[object Date]"===Object.prototype.toString.call(e)},o=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},s=Object.prototype.hasOwnProperty,c=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}},aMZS:function(e,t,n){"use strict";var r=n("q1tI"),a=n("aKzv"),i=n("RQA8"),o=n("2mtm"),s=n("wSlI"),c=n("K/u7"),l=n("oQVV"),u=n("pdp2");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=Object(r.useRef)(e);t.current=e,Object(a.a)(null!=e.accept,"accept must be defined");var n=f(function(){var e=Object(c.a)();return[Object(r.useMemo)((function(){return new u.a(e)}),[e]),Object(r.useMemo)((function(){return new l.a(e.getBackend())}),[e])]}(),2),p=n[0],m=n[1];!function(e,t,n){var a=Object(c.a)(),i=Object(r.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Object(o.a)((function(){var r=d(Object(s.b)(e.current.accept,i,a),2),o=r[0],c=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),c}),[t,n])}(t,p,m);var b=Object(i.a)(p,t.current.collect||function(){return{}},(function(){return m.reconnect()})),g=Object(r.useMemo)((function(){return m.hooks.dropTarget()}),[m]);return Object(o.a)((function(){m.dropTargetOptions=e.options||null,m.reconnect()}),[e.options]),[b,g]}n.d(t,"a",(function(){return b}))},bv58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("doui"),a=n("q1tI"),i=n("I7/E");function o(){var e=Object(i.a)().presence,t=a.useState(e.getActiveUsers()),n=Object(r.a)(t,2),o=n[0],s=n[1];return a.useEffect((function(){return s(e.getActiveUsers()),e.onActiveUsersChange((function(e){return s(e)}))}),[e]),o}},cC09:function(e,t,n){var r;r=function(e){e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();e.table=t,e.bstr=function(e,n){for(var r=-1^n,a=e.length-1,i=0;i<a;)r=(r=r>>>8^t[255&(r^e.charCodeAt(i++))])>>>8^t[255&(r^e.charCodeAt(i++))];return i===a&&(r=r>>>8^t[255&(r^e.charCodeAt(i))]),-1^r},e.buf=function(e,n){if(e.length>1e4)return function(e,n){for(var r=-1^n,a=e.length-7,i=0;i<a;)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])];for(;i<a+7;)r=r>>>8^t[255&(r^e[i++])];return-1^r}(e,n);for(var r=-1^n,a=e.length-3,i=0;i<a;)r=(r=(r=(r=r>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])];for(;i<a+3;)r=r>>>8^t[255&(r^e[i++])];return-1^r},e.str=function(e,n){for(var r,a,i=-1^n,o=0,s=e.length;o<s;)(r=e.charCodeAt(o++))<128?i=i>>>8^t[255&(i^r)]:r<2048?i=(i=i>>>8^t[255&(i^(192|r>>6&31))])>>>8^t[255&(i^(128|63&r))]:r>=55296&&r<57344?(r=64+(1023&r),a=1023&e.charCodeAt(o++),i=(i=(i=(i=i>>>8^t[255&(i^(240|r>>8&7))])>>>8^t[255&(i^(128|r>>2&63))])>>>8^t[255&(i^(128|a>>6&15|(3&r)<<4))])>>>8^t[255&(i^(128|63&a))]):i=(i=(i=i>>>8^t[255&(i^(224|r>>12&15))])>>>8^t[255&(i^(128|r>>6&63))])>>>8^t[255&(i^(128|63&r))];return-1^i}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(t):r({})},"cHV+":function(e,t,n){"use strict";var r=n("Qetd"),a=n("hfKm"),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a(t,"__esModule",{value:!0});var o=n("Z5Wq"),s=i(n("HtvZ")),c=i(n("qpVQ")),l={create:function(e){return e},toString:function(e){return e},builder:function(e){if("string"!==typeof e)throw Error("Invalid document snapshot: "+e);var t=[];return{skip:function(n){var r=o.uniToStrPos(e,n);if(r>e.length)throw Error("The op is too long for this document");t.push(e.slice(0,r)),e=e.slice(r)},append:function(e){t.push(e)},del:function(t){e=e.slice(o.uniToStrPos(e,t))},build:function(){return t.join("")+e}}}},u=r({},s.default(l),{api:c.default});t.type=u;var d=n("HtvZ");t.makeType=d.default},dKk1:function(e,t,n){"use strict";function r(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function a(e){return(t=e)&&t.prototype&&"function"===typeof t.prototype.render||function(e){var t;return"Symbol(react.forward_ref)"===(null===e||void 0===e?void 0:null===(t=e.$$typeof)||void 0===t?void 0:t.toString())}(e);var t}function i(e,t){}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},dOW7:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return"string"===typeof e||"symbol"===r(e)||!!t&&Array.isArray(e)&&e.every((function(e){return a(e,!1)}))}n.d(t,"a",(function(){return a}))},dXu1:function(e,t,n){"use strict";n.r(t);var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=n("/MKj"),l=n("TSYQ"),u=n.n(l);var d,p,f=n("h7rM"),m=n("XLFt"),b=n("ln6h"),g=n.n(b),h=n("eVuF"),v=n.n(h),x=n("dfwq"),w=n("hfKm"),y=n.n(w),k=n("2Eek"),j=n.n(k),E=n("XoMD"),O=n.n(E),_=n("Jo+v"),N=n.n(_),S=n("4mXO"),C=n.n(S),T=n("pLtp"),I=n.n(T),R=n("ttDY"),A=n.n(R),P=n("d04V"),L=n.n(P),D=n("Acjn"),M=n("XXOK"),F=n.n(M),U=n("6BQ9"),H=n.n(U),G=n("vYYK"),B=n("zgDP");function z(e){if(!e)return"";var t=K(e),n=Object(r.a)(t,2),a=n[0],i=n[1];return a&&i?"".concat(a,"/").concat(i):e}function K(e){if(!e)return["",""];var t=e.match(/^https:\/\/github\.com\/(.+)\/(.+)/);if(null!==t){var n=Object(r.a)(t,3);return[n[1],n[2]]}return["",""]}function V(e){return e.startsWith("remotes/origin/HEAD ->")?e.split("/").reverse()[0]:(e.startsWith("remotes/origin/")&&(e=e.replace("remotes/origin/","")),e.includes(" -> ")&&(e=e.split(" -> ")[0]),e.trim())}function q(e,t){var n=I()(e);if(C.a){var r=C()(e);t&&(r=r.filter((function(t){return N()(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(G.a)(e,t,n[t])})):O.a?j()(e,O()(n)):q(Object(n)).forEach((function(t){y()(e,t,N()(n,t))}))}return e}!function(e){e[e.UNTRACKED=0]="UNTRACKED",e[e.MODIFIED=1]="MODIFIED",e[e.MOVED=2]="MOVED",e[e.DELETED=3]="DELETED"}(d||(d={})),function(e){e[e.NONE=0]="NONE",e[e.PUSH=1]="PUSH",e[e.CLONE=2]="CLONE",e[e.FETCH=3]="FETCH",e[e.GITHUB_CREATE=4]="GITHUB_CREATE",e[e.GITHUB_GET_INFO=5]="GITHUB_GET_INFO"}(p||(p={}));var X="git symbolic-ref HEAD --short",Y="git log -0 2>/dev/null && ".concat(X," || echo 'HEAD'");function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return["bash","-c",t.join("&&")]}function J(e){return"if ! (( $(busybox ps -o comm | grep git) )) ; then rm -rf .git/index.lock; fi ; ".concat(e)}function Z(e){var t=e.remote,n=void 0===t?"":t,a=e.remoteToken;if(!a)return n;var i=n.match(/(https:\/\/)(.*)/)||["","",""],o=Object(r.a)(i,3),s=o[1],c=o[2];return"".concat(s).concat(a||"",":x-oauth-basic@").concat(c)}function $(e){return null!==new RegExp(/(^|\n)fatal: Authentication failed/g).exec(e)||null!==new RegExp(/(^|\n)fatal: unable to access/g).exec(e)||null!==new RegExp(/(^|\n)fatal: repository.*not found/g).exec(e)||null!==new RegExp(/(^|\n)fatal: Could not read from remote repository/g).exec(e)}function ee(e){return e.includes("index.lock")}function te(e){var t=e.split(/ /g);if("1"===t[0]){var n=t[1],a=t.slice(8).join(" ");return"D"===n[1]?{change:d.DELETED,targetPath:a,origPath:a}:{change:d.MODIFIED,targetPath:a,origPath:a}}if("2"===t[0]){var i=t.slice(9).join(" ").split("\t"),o=Object(r.a)(i,2),s=o[0],c=o[1];return{change:d.MOVED,targetPath:s,origPath:c}}if("?"===t[0]){var l=t.slice(1).join(" ");return{change:d.UNTRACKED,targetPath:l,origPath:null}}if("u"===t[0]){var u=t[2];return{change:d.MODIFIED,targetPath:u,origPath:u}}throw new Error("Unrecognized git status entry: ".concat(e))}var ne={format:function(){return Q('[ ! -d ".git" ]',"git init","git config core.fileMode false",'git config user.name "repl.it user"','git config user.email "replituser@example.com"',"touch .git/branches/.keep","touch .git/info/.keep","touch .git/objects/.keep","touch .git/refs/.keep")}},re={format:function(e,t){return["git","rev-list","--left-right","--count","".concat(t,"...origin/").concat(t)]},parse:function(e,t){var n=t.split(/\s+/),a=Object(r.a)(n,2),i=a[0],o=a[1];return W({},e,{commitsAhead:H()(i)||0,commitsBehind:H()(o)||0})}},ae={format:function(e){return["git","status","--branch","--porcelain=v2"]},parse:function(e,t){if(t.startsWith("fatal"))return e;if(""===t.trim())return W({},e,{changedFiles:[]});var n=t.split("\n").filter((function(e){return""!==e.trim()})),a=e.branch,i=!0,o=[],s=!0,c=!1,l=void 0;try{for(var u,d=F()(n);!(s=(u=d.next()).done);s=!0){var p=u.value;if(p.startsWith("#")){var f=p.split(/\s+/),m=Object(r.a)(f,3),b=(m[0],m[1]),g=m[2];switch(b){case"branch.head":a=g;break;case"branch.oid":i=!g.includes("(initial)")}}else o.push(te(p))}}catch(h){c=!0,l=h}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return i||(a=""),W({},e,{branch:a,changedFiles:o})}},ie={format:function(e){var t=Z(e);return Q("git push ".concat(t," $(").concat(X,")"))},parse:function(e,t){return $(t)?W({},e,{authError:p.PUSH}):e}},oe={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z(e);return Q("git fetch ".concat(n,t?" --progress --deepen=10":" +refs/heads/*:refs/remotes/origin/* --progress --depth=10"))},parse:function(e,t){return $(t)?W({},e,{authError:p.FETCH}):e}},se={format:function(){return Q("git fetch origin --progress")},parse:function(e,t){return $(t)?W({},e,{authError:p.FETCH}):e}},ce={format:function(e){return 0===e.commits.length?["true"]:Q('[ "git remote get-url origin" ]',["git merge-tree $(git merge-base origin/$(".concat(X,") $(").concat(X,")) origin/$(").concat(X,") $(").concat(X,")"),"grep '^changed in both'","wc -l"].join(" | "))},parse:function(e,t){return W({},e,{hasConflictsWithFetchedRemote:0!==e.commits.length&&!isNaN(+t.trim())&&"0"!==t.trim()})}},le={format:function(e){return Q("git reset --hard origin/$(".concat(X,")"))}},ue={format:function(e){var t=Z(e);return["git push ".concat(t," $(").concat(X,") --force")]}},de={format:function(){return Q('[ "git remote get-url origin" ]',"git merge origin/$(".concat(X,")"))},parse:function(e,t){return null!==new RegExp(/(^|\n)error: Your local changes to the following files would be overwritten by merge/g).exec(t)?W({},e,{hasConflictsWithFetchedRemote:!0}):e}},pe={format:function(e){return["git","remote","get-url","origin"]},parse:function(e,t){return t.includes("No such remote")||t.startsWith("fatal")?W({},e,{remote:""}):W({},e,{remote:t.trim()})}},fe={format:function(e,t){return e.remote?Q("git remote remove origin; git remote add origin ".concat(t)):Q("git remote add origin ".concat(t))}},me={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r="HEAD";t&&e.commits.length>0&&(r=e.commits[e.commits.length-1].hash);var a=["%D","%H","%an","%ae","%aI","%cn","%ce","%cI","%P","%B"];return["git","log","--pretty=".concat(a.join("%x00"),"%x00%x00"),"-".concat(n+1),r,"--"]},parse:function(e,t){if(t.startsWith("fatal"))return W({},e,{commits:[]});var n=t.split("\0\0\n").filter((function(e){return""!==e})).map((function(e){return e.split("\0")})),r=!!n[0][0];n.map((function(e){return e.shift()}));var a=!1;0===e.commits.length||r||e.commits[e.commits.length-1].hash!==n[0][0]||(a=!0,n.shift());var i=a?e.commits:[];return W({},e,{commits:i=i.concat(n.map((function(e){var t=Object(D.a)(e),n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],c=t[6];return{hash:n,parentHash:t[7],message:t.slice(8).join("\n"),authorName:r,authorEmail:a,authorDate:new Date(i.trim()),committerName:o,committerEmail:s,committerDate:new Date(c.trim())}})))})}},be={format:function(){return Q(J("git add -A"))}},ge={format:function(e,t,n){var r;r=e.gitHubName?e.gitHubName:n.firstName&&n.lastName?"".concat(n.firstName," ").concat(n.lastName):n.username;var a=e.gitHubEmail||n.email,i='-c user.name="'.concat(r,'" -c user.email="').concat(a,'"'),o=t.replace(/"/g,'\\"');return Q(J("git ".concat(i,' commit -m "').concat(o,'"')))},parse:function(e,t){return ee(t)&&Object(B.trackOnce)(B.events.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"commit",remote:e.remote}),e}},he={format:function(e,t){return e.branches.includes(t)?["git","checkout",t,"--"]:["git","checkout","-b",t,"--"]}},ve={format:function(e){var t=Z(e);return Q("git remote show ".concat(t," | grep 'HEAD branch'"))},parse:function(e,t){var n=t.split(":"),a=Object(r.a)(n,2);a[0];return W({},e,{defaultBranch:a[1].trim()})}},xe={format:function(e){return Q("git checkout ".concat(e.defaultBranch))}},we={format:function(e,t){return Q("git revert ".concat(t,"..$(").concat(Y,") --no-commit"))}},ye={format:function(e){return Q(J("git reset $(".concat(Y,") --")))},parse:function(e,t){return ee(t)&&Object(B.trackOnce)(B.events.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"reset",remote:e.remote}),e}},ke={format:function(e){return Q("git rev-parse --is-inside-work-tree")},parse:function(e,t){return W({},e,{isInitialized:t.startsWith("true")})}},je={format:function(e){return Q("git add -A","git reset --hard $(".concat(Y,") --"))}},Ee={format:function(e){return["git","branch","-a","--no-color"]},parse:function(e,t){if(t.startsWith("fatal"))return e;var n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return e.startsWith("* ")?e.replace(/^\*\s+/,""):e})).map((function(e){return e.trim()})).map(V);return W({},e,{branches:L()(new A.a(n))})}},Oe=n("9Jkg"),_e=n.n(Oe),Ne=n("0iUn"),Se=n("MI3g"),Ce=n("a7VT"),Te=n("Tit0"),Ie=n("8otX"),Re=n("XWHH"),Ae=n.n(Re);function Pe(e,t){var n=I()(e);if(C.a){var r=C()(e);t&&(r=r.filter((function(t){return N()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Object(G.a)(e,t,n[t])})):O.a?j()(e,O()(n)):Pe(Object(n)).forEach((function(t){y()(e,t,N()(n,t))}))}return e}var De="https://api.github.com",Me=function(e){function t(){var e;return Object(Ne.a)(this,t),(e=Object(Se.a)(this,Object(Ce.a)(t).call(this))).message="GitHub Auth Error",e}return Object(Te.a)(t,e),t}(Object(Ie.a)(Error));function Fe(e){var t,n,r;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}throw Object(B.track)(B.events.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("GitHub Auth Error");case 3:return t={cache:"no-store"},e&&(t.headers={Authorization:"Bearer ".concat(e)}),a.next=7,g.a.awrap(Ae()("".concat(De,"/user"),{headers:{Authorization:"Bearer ".concat(e)}}));case 7:return n=a.sent,a.next=10,g.a.awrap(Ge(n));case 10:return r=a.sent,a.abrupt("return",Le({},r));case 12:case"end":return a.stop()}}))}function Ue(e,t){var n,a,i,o,s,c,l;return g.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=K(t),a=Object(r.a)(n,2),i=a[0],o=a[1],s={cache:"no-store"},e&&(s.headers={Authorization:"Bearer ".concat(e)}),u.next=5,g.a.awrap(Ae()("".concat(De,"/repos/").concat(i,"/").concat(o),s));case 5:return c=u.sent,u.next=8,g.a.awrap(Ge(c));case 8:return l=u.sent,u.abrupt("return",Le({},l));case 10:case"end":return u.stop()}}))}function He(e){var t,n,r,a,i;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.token,n=e.owner,r=e.ownerType,a=e.repoData,t){o.next=4;break}throw Object(B.track)(B.events.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("Unable to create repository");case 4:if("User"!==r){o.next=10;break}return o.next=7,g.a.awrap(Ae()("".concat(De,"/user/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:_e()(a)}));case 7:i=o.sent,o.next=13;break;case 10:return o.next=12,g.a.awrap(Ae()("".concat(De,"/orgs/").concat(n,"/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/vnd.github.nebula-preview+json"},body:_e()(a)}));case 12:i=o.sent;case 13:return o.abrupt("return",Ge(i));case 14:case"end":return o.stop()}}))}function Ge(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.ok){n.next=2;break}return n.abrupt("return",e.json());case 2:t=new Error("Bad GitHub Response"),n.t0=e.status,n.next=401===n.t0?6:404===n.t0?6:9;break;case 6:return Object(B.track)(B.events.GITHUB_API_ERROR_BAD_CREDENTIALS),t=new Me,n.abrupt("break",10);case 9:Object(B.track)(B.events.GITHUB_API_ERROR_GENERAL);case 10:throw t;case 11:case"end":return n.stop()}}))}var Be=n("G5Ub");function ze(e){var t=e.cmd,n=e.args,r=void 0===n?[]:n,a=e.wid,i=e.pud,o=t.format,s=t.parse;return function(e,n){var c,l,u,d;return g.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(c=Object(f.a)(n(),a,i,"git"),l=c.gitState,u=c.isExecInProgress,d=c.execQueue,u||e({type:"SEND_EXEC_COMMAND",args:o.apply(void 0,[l].concat(Object(x.a)(r))),wid:a}),0!==d.length&&!u){p.next=4;break}return p.abrupt("return",new v.a((function(n,o){e({type:"QUEUE_GIT_EXEC",cmd:t,args:r,parser:void 0!==s?s:function(e){return e},callback:n,wid:a,pud:i})})));case 4:case"end":return p.stop()}}))}}function Ke(e){var t=e.history,n=void 0!==t&&t,r=e.write,a=void 0!==r&&r,i=e.persist,o=void 0!==i&&i,s=e.prefer,c=void 0===s?null:s,l=e.wid,u=e.pud;return function(e,t){var r,i,s,d,p,m,b,h,v,x,w,y;return g.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return r=function(t,n){return e(ze({cmd:t,wid:l,pud:u,args:n}))},k.next=3,g.a.awrap(r(ke));case 3:if(i=Object(f.a)(t(),l,u,"git"),s=i.gitState,d=s.isInitialized,p=s.remote,m=s.gitHubLogin,!(b=s.remoteToken)||m){k.next=15;break}return k.prev=5,k.next=8,g.a.awrap(We(l,u,b));case 8:return h=k.sent,k.next=11,g.a.awrap(e(h));case 11:k.next=15;break;case 13:k.prev=13,k.t0=k.catch(5);case 15:if(d){k.next=17;break}return k.abrupt("return");case 17:return k.next=19,g.a.awrap(r(ye));case 19:return k.next=21,g.a.awrap(r(pe));case 21:if(!a||!p){k.next=49;break}if(null!==c){k.next=25;break}return k.next=25,g.a.awrap(r(ce));case 25:if(v=Object(f.a)(t(),l,u,"git"),!v.gitState.hasConflictsWithFetchedRemote&&null===c){k.next=43;break}if("remote"!==c){k.next=34;break}return k.next=30,g.a.awrap(r(le));case 30:return k.next=32,g.a.awrap(r(ie));case 32:k.next=41;break;case 34:if("repl"!==c){k.next=41;break}return k.next=37,g.a.awrap(r(ue));case 37:return k.next=39,g.a.awrap(r(ie));case 39:k.next=41;break;case 41:k.next=47;break;case 43:return k.next=45,g.a.awrap(r(de));case 45:return k.next=47,g.a.awrap(r(ie));case 47:k.next=52;break;case 49:if(!n||!p){k.next=52;break}return k.next=52,g.a.awrap(r(de));case 52:if((a||n||o)&&e({type:"PERSIST_FILE",path:".git",wid:l}),x=Object(f.a)(t(),l,u,"git"),!x.gitState.remote){k.next=57;break}return k.next=57,g.a.awrap(r(oe));case 57:return r(Ee),r(me),k.next=61,g.a.awrap(r(ae));case 61:w=Object(f.a)(t(),l,u,"git"),y=w.gitState.branch,r(re,[y]);case 63:case"end":return k.stop()}}),null,null,[[5,13]])}}function Ve(e){var t=e.wid,n=e.pud,r=e.remote;return function(e,a){var i,o,s,c,l,u;return g.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return i=function(r,a){return e(ze({cmd:r,args:a,wid:t,pud:n}))},d.next=3,g.a.awrap(e({type:"START_GIT_CLONE",wid:t}));case 3:if(o=Object(f.a)(a(),t,n,"git"),s=o.gitState.remoteToken,c=!!r.match(/^https?:\/\/github\.com/i),l=!!r.match(/^https?:\/\/api\.glitch\.com/i),!c){d.next=17;break}return d.prev=7,d.next=10,g.a.awrap(We(t,n,s));case 10:return u=d.sent,d.next=13,g.a.awrap(e(u));case 13:d.next=17;break;case 15:d.prev=15,d.t0=d.catch(7);case 17:return d.next=19,g.a.awrap(i(ne,[a().user.userInfo]));case 19:return d.next=21,g.a.awrap(i(fe,[r]));case 21:return d.next=23,g.a.awrap(i(pe));case 23:return d.next=25,g.a.awrap(e({type:"START_CLONE_PROGRESS",wid:t,pud:n}));case 25:return d.next=27,g.a.awrap(i(l?se:oe));case 27:return d.next=29,g.a.awrap(i(ve));case 29:return d.next=31,g.a.awrap(i(xe));case 31:return d.next=33,g.a.awrap(e({type:"END_CLONE_PROGRESS",wid:t,pud:n}));case 33:if(l){d.next=38;break}return d.next=36,g.a.awrap(e(Ke({wid:t,pud:n,history:!0})));case 36:d.next=42;break;case 38:return d.next=40,g.a.awrap(i(ae));case 40:return d.next=42,g.a.awrap(new v.a((function(e){return setTimeout(e,1e3)})));case 42:(function r(){var i=Object(f.a)(a(),t,n,"git"),o=i.execQueue,s=i.isExecInProgress;0!==o.length||s?setTimeout(r,1e3):e({type:"END_GIT_CLONE",wid:t})})();case 44:case"end":return d.stop()}}),null,null,[[7,15]])}}function qe(e,t){return function(n,r){var a;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(r,a){return n(ze({cmd:r,args:a,wid:e,pud:t}))},i.next=3,g.a.awrap(a(be));case 3:return i.next=5,g.a.awrap(a(ge,["Initial commit",r().user.userInfo]));case 5:return i.next=7,g.a.awrap(n(Ke({wid:e,pud:t,write:!0})));case 7:case"end":return i.stop()}}))}}function We(e,t,n){return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new v.a((function(r,a){var i;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,g.a.awrap(Fe(n));case 3:i=o.sent,r((function(n){return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n({type:"UPDATE_GIT_STATE",updates:{gitHubName:i.name,gitHubEmail:i.email,gitHubAvatarUrl:i.avatar_url,gitHubLogin:i.login,authError:p.NONE},wid:e,pud:t});case 1:case"end":return r.stop()}}))})),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),a(o.t0);case 10:case"end":return o.stop()}}),null,null,[[0,7]])})));case 1:case"end":return r.stop()}}))}function Xe(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s,c,l,u,d,p,m,b,h;return g.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,g.a.awrap(e(ze({cmd:pe,wid:t,pud:n})));case 2:if(a=Object(f.a)(r(),t,n,"git"),i=a.gitState,o=i.remote,s=i.remoteToken,c=i.installations,s){v.next=17;break}return v.prev=4,v.next=7,g.a.awrap(Object(Be.b)("/data/user_auth/github_info"));case 7:return l=v.sent,s=l.token,c=l.installations,v.next=12,g.a.awrap(e({type:"UPDATE_GIT_STATE",pud:n,wid:t,updates:{remoteToken:s,installations:c}}));case 12:v.next=17;break;case 14:v.prev=14,v.t0=v.catch(4),s=null;case 17:if(u=!!c.find((function(e){return"User"===e.type})),d=!1,!o||!s){v.next=34;break}return v.prev=20,v.next=23,g.a.awrap(Ue(s,o));case 23:return p=v.sent,m=p.permissions,b=p.id,h=p.owner,d=m&&m.push,v.next=30,g.a.awrap(e({type:"UPDATE_GIT_STATE",pud:n,wid:t,updates:{repoId:b,ownerId:h.id}}));case 30:v.next=34;break;case 32:v.prev=32,v.t1=v.catch(20);case 34:e({type:"GIT_REMOTE_CHECKED",wid:t,canFork:u,canPush:d,remote:o});case 35:case"end":return v.stop()}}),null,null,[[4,14],[20,32]])}}var Ye=n("3TIX"),Qe=n("FzLU");function Je(e,t){var n=I()(e);if(C.a){var r=C()(e);t&&(r=r.filter((function(t){return N()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Object(G.a)(e,t,n[t])})):O.a?j()(e,O()(n)):Je(Object(n)).forEach((function(t){y()(e,t,N()(n,t))}))}return e}function $e(e,t,n){switch(n.type){case"LOADING_GOVAL_COMPLETE":return function(n,r){var a,i,o,s;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=Object(f.a)(r(),e,t,"git"),(i=a.gitState).remoteToken){c.next=4;break}return c.next=4,g.a.awrap(n(Xe({wid:e,pud:t})));case 4:if(o=i.remote){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,g.a.awrap(n(ze({cmd:ke,wid:e,pud:t})));case 9:s=Object(f.a)(r(),e,t,"git"),s.gitState.isInitialized||(n(Object(Ye.X)({wid:e,message:"cloning into ".concat(o,"...\n"),type:"interp",raw:!1})),n({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CLONED",wid:e}),n(Ve({remote:o,wid:e,pud:t})));case 11:case"end":return c.stop()}}))};case"FILE_CLEAN":return function(n,r){var a=Object(f.a)(r(),e,t,"git"),i=a.gitState,o=a.hasOpened;i.isInitialized&&o&&n(ze({cmd:ae,wid:e,pud:t}))};case"EXIT_EXEC_COMMAND":return function(r,a){var i,o,s,c,l,u;return g.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return i=Object(f.a)(a(),e,t,"git"),o=i.execQueue[0],s=Qe.a.safeGet(o.parser),c=Qe.a.safeGet(o.callback),d.next=6,g.a.awrap(r({type:"DEQUEUE_GIT_EXEC",wid:e,pud:t}));case 6:return d.next=8,g.a.awrap(r({type:"UPDATE_GIT_STATE",updates:Ze({},s(i.gitState,n.output)),wid:e,pud:t}));case 8:c(),(l=Object(f.a)(a(),e,t,"git")).execQueue.length>0&&(u=l.execQueue[0],r(ze({cmd:u.cmd,args:u.args,wid:e,pud:t})));case 11:case"end":return d.stop()}}))};case"RCV_EXEC_COMMAND":return function(r,a){var i;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:i=Object(f.a)(a(),e,t,"git"),i.shouldDisplayCloneLogs&&r(Object(Ye.X)({wid:e,message:n.output,type:"interp",raw:!1}));case 2:case"end":return o.stop()}}))};case"START_GIT_CLONE":return function(t){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Cloning",wid:e});case 1:case"end":return n.stop()}}))};case"END_GIT_CLONE":return function(n){return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"UNLOCK_WORKSPACE",wid:e}),r.next=3,g.a.awrap(n(Xe({wid:e,pud:t})));case 3:case"end":return r.stop()}}))};case"GITHUB_REPOSITORY_CREATED":case"CHECK_GIT_REMOTE":return function(n){return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g.a.awrap(n(Xe({wid:e,pud:t})));case 2:case"end":return r.stop()}}))};default:return null}}function et(e,t){var n=I()(e);if(C.a){var r=C()(e);t&&(r=r.filter((function(t){return N()(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Object(G.a)(e,t,n[t])})):O.a?j()(e,O()(n)):et(Object(n)).forEach((function(t){y()(e,t,N()(n,t))}))}return e}var nt=function(e,t){switch(t.type){case"@@INIT":return{gitState:{isInitialized:!1,hasConflictsWithFetchedRemote:!1,authError:p.NONE,remote:t.initialState.gitRemoteUrl||"",repoId:null,branch:"",defaultBranch:"master",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubLogin:null,gitHubAvatarUrl:null,gitHubEmail:null},hasOpened:!1,isSidebarVisible:!1,isCloneInProgress:!1,shouldDisplayCloneLogs:!1,isExecInProgress:!1,isLoading:!0,persistCount:0,execQueue:[]};case"SEND_EXEC_COMMAND":return tt({},e,{isExecInProgress:!0,isLoading:!0});case"EXIT_EXEC_COMMAND":return tt({},e,{isExecInProgress:!1});case"QUEUE_GIT_EXEC":var n=Qe.a.getHandle(t.parser),r=Qe.a.getHandle(t.callback);return tt({},e,{execQueue:e.execQueue.concat({cmd:t.cmd,args:t.args,parser:n,callback:r})});case"DEQUEUE_GIT_EXEC":return tt({},e,{execQueue:e.execQueue.slice(1)});case"PERSIST_FILE":return tt({},e,{isLoading:!0,persistCount:e.persistCount+1});case"FILE_PERSISTED":return tt({},e,{isLoading:!1,persistCount:e.persistCount-1});case"START_GIT_CLONE":return tt({},e,{isCloneInProgress:!0});case"START_CLONE_PROGRESS":return tt({},e,{shouldDisplayCloneLogs:!0});case"END_CLONE_PROGRESS":return tt({},e,{shouldDisplayCloneLogs:!1});case"END_GIT_CLONE":return tt({},e,{isCloneInProgress:!1});case"UPDATE_GIT_STATE":return tt({},e,{gitState:tt({},e.gitState,{},t.updates),isLoading:e.execQueue.length>0||e.persistCount>0||e.isCloneInProgress});case"SET_GIT_SIDEBAR_VISIBILITY":return tt({},e,{isSidebarVisible:t.isSidebarVisible,hasOpened:!0});default:return e}},rt=n("a6RD"),at=n.n(rt),it=n("7FmB"),ot=n.n(it),st=n("PQb8"),ct=s.a.createElement,lt=at()((function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}}),ut=function(e){var t=e.repoId,n=e.ownerId,r=e.wid,a=e.pud,s=e.authError,l=Object(c.e)();Object(o.useEffect)((function(){l({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_AUTH_REQUESTED",wid:r})}),[]);var u=Object(c.f)((function(e){return Object(f.a)(e,r,a,"git")})).gitState,d="Connect to GitHub";u.remote&&(d="Unable to connect to this GitHub repository");var m=Object(st.a)({suggestedRepoId:t,ownerId:n,onAuth:function(){var e,t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(Object(Be.b)("/data/user_auth/github_info"));case 2:return e=n.sent,n.next=5,g.a.awrap(l({type:"UPDATE_GIT_STATE",wid:r,pud:a,updates:{remoteToken:e.token,installations:e.installations}}));case 5:return n.prev=5,n.next=8,g.a.awrap(We(r,a,e.token));case 8:t=n.sent,l(t),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(5);case 14:case"end":return n.stop()}}),null,null,[[5,12]])}});return ct(lt,{onRequestClose:function(){return l({type:"UPDATE_GIT_STATE",updates:{authError:p.NONE},wid:r,pud:a})}},ct(i.a,{id:"3908741739"},[".authModal.jsx-3908741739{max-width:600px;padding:20px 24px;background:var(--color-background-1);color:var(--color-foreground-1);}","h2.jsx-3908741739{margin-bottom:16px;}","p.jsx-3908741739{margin-bottom:24px;line-height:1.4em;}",".buttonGroup.jsx-3908741739{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),ct("div",{className:"jsx-3908741739 authModal"},ct("h2",{className:"jsx-3908741739"},d),ct("p",{className:"jsx-3908741739"},function(e,t){var n=z(t),r="";switch(e){case p.PUSH:r="push to ".concat(n);break;case p.FETCH:r="fetch from ".concat(n);break;case p.CLONE:r="clone from ".concat(n);break;case p.GITHUB_CREATE:case p.GITHUB_GET_INFO:default:r="create new repositories"}return"Please grant Repl.it permission to access GitHub on your behalf and confirm that you have permission to ".concat(r,".")}(s,u.remote)),ct("div",{className:"jsx-3908741739 buttonGroup"},ct(ot.a,{color:"primary",filled:!0,style:{marginLeft:8},onClick:m},"Connect Repl.it to your GitHub Account"))))},dt=n("p0XB"),pt=n.n(dt),ft=n("8Fln"),mt=n("UWUU"),bt=n("igIU"),gt=n("yzOi"),ht=n("fUEn"),vt=n("Soul"),xt=n.n(vt),wt=s.a.createElement,yt=at()((function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}}),kt=function(e){return e.trim().split(" ").join("-")},jt=function(e){var t=e.isOpen,n=e.isCreatingBranch,r=e.onClose,a=e.currentBranch,o=e.branches,s=e.successHandler;if(!t)return null;var c=Object(gt.a)("",(function(e){return e?o.includes(kt(e))?{message:"* this branch name already exists"}:void 0:{message:"* branch names cannot be blank"}}));return wt(yt,{onRequestClose:r,noBorder:!0},wt("div",{className:"jsx-428323845 container"},wt("form",{onSubmit:function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!c.validate()){t.next=4;break}return t.abrupt("return");case 4:s(kt(c.value));case 5:case"end":return t.stop()}}))},autoComplete:"off",className:"jsx-428323845"},wt("h1",{className:"jsx-428323845"},"Create a new branch"),wt("h2",{className:"jsx-428323845"},n?"Creating your new branch":"This branch will be created from ".concat(a)),wt("div",{className:"jsx-428323845 creation-error"},c.error&&c.error.message),wt("div",{className:"jsx-428323845 section"},wt(xt.a,{ref:c.ref,value:c.value,type:"text",autoFocus:!0,name:"branch-name",autoComplete:"off",onChange:function(e){c.setValue(e.currentTarget.value)},placeholder:"name your branch (required)",onFocus:function(e){return e.target.select()}})),wt(ot.a,{type:"submit","data-testid":"git-confirm-github-repo",color:"primary",filled:!0},n?wt("span",{className:"jsx-428323845"},"creating",wt(ht.a,{style:{fontSize:"20px",padding:"1px"}})):"create")),wt(i.a,{id:"428323845"},[".container.jsx-428323845{font-size:1rem;width:510px;padding:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;height:100%;color:var(--color-foreground-1);}",".container.jsx-428323845 form.jsx-428323845{width:90%;}",".container.jsx-428323845 h1.jsx-428323845{font-size:23px;margin-bottom:10px;font-weight:normal;}",".container.jsx-428323845 h2.jsx-428323845{color:var(--color-foreground-2);font-size:16px;margin-bottom:15px;font-weight:normal;}",".creation-error.jsx-428323845{min-height:16px;margin:10px;color:var(--color-negative-1);}",".section.jsx-428323845{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%;}"])))},Et=n("dwxc"),Ot=n.n(Et),_t=n("mKBA"),Nt=n.n(_t),St=s.a.createElement,Ct=function(e){var t,n,r=e.checkoutBranch,a=e.gitState,c=e.isLoading,l=e.wid,d=e.isNarrow,p=Object(o.useState)(!1),f=p[0],m=p[1];return Object(o.useEffect)((function(){!c&&f&&m(!1)}),[c]),St("div",{className:"jsx-4243153410 "+(u()("branch-info",{disabled:1===a.branches.length})||"")},St(i.a,{id:"4243153410"},[".branch-info.jsx-4243153410{display:grid;grid-template-columns:1fr auto;grid-column-gap:var(--spacing-1);margin-top:10px;}",".branch-info-label.jsx-4243153410{color:var(--color-foreground-1);font-size:14px;margin-bottom:3px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".branch-info-selectWrapper.jsx-4243153410{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;}",".branch-info-select.jsx-4243153410{-webkit-flex:1;-ms-flex:1;flex:1;}"]),St("div",{className:"jsx-4243153410 branch-info-selectWrapper"},St("div",{className:"jsx-4243153410 branch-info-select"},St(bt.a,null),St(ft.a,{clearable:!1,className:"branchSelect-".concat(window.btoa(l).substr(0,10)),disabled:1===a.branches.length,onChange:function(e){e&&!pt()(e)&&e.value!==a.branch&&e.value&&r(e.value)},openOnFocus:!0,options:(t=a.branches,n=a.defaultBranch,0===t.length?[]:t.sort((function(e){return e===n?-1:0})).map((function(e){return{value:e,label:e}}))),optionRenderer:function(e){return function(e){var t=e.branch,n=e.defaultBranch,r=e.currentBranch,a=t.value===r;return St("div",{className:"jsx-2986052909 "+(u()("branchOption",{selected:a})||"")},St(i.a,{id:"2986052909"},[".branchOption.jsx-2986052909{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".branchOption-checkmark.jsx-2986052909{height:12px;width:12px;margin-right:3px;}",".branchOption-name.jsx-2986052909{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".branchOption-defaultLabel.jsx-2986052909{font-size:10px;color:var(--color-foreground-1);margin:0 2px;}",".selected.jsx-2986052909 .branchOption-defaultLabel.jsx-2986052909{color:var(--color-foreground-2);}"]),a&&St("div",{className:"jsx-2986052909 branchOption-checkmark"},St(mt.Checkmark,null)),St("div",{className:"jsx-2986052909 branchOption-name"},St("label",{className:"jsx-2986052909"},t.label),t.label===n&&St("label",{className:"jsx-2986052909 branchOption-defaultLabel"},"default")))}({branch:e,currentBranch:a.branch,defaultBranch:a.defaultBranch})},placeholder:"loading...",searchable:!0,value:a.branch,valueRenderer:function(){return St(s.a.Fragment,null,!d&&St(Ot.a,{foreground:2},"branch: "),a.branch)}}))),St(ot.a,{Icon:Nt.a,onClick:function(){return m(!0)},title:"Create new branch"}),St(jt,{branches:a.branches,currentBranch:a.branch,isCreatingBranch:f&&c,isOpen:f,onClose:function(){return m(!1)},successHandler:function(e){r(e)}}))},Tt=n("gF3W"),It=s.a.createElement,Rt=function(e){var t=e.branch,n=e.commitsBehind,r=e.isLoading;return It("div",{className:"jsx-1443995161 remoteProgress"},It(i.a,{id:"1443995161"},[".remoteProgress.jsx-1443995161{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;margin-right:5px;max-width:100%;overflow:hidden;white-space:nowrap;}",".remoteProgress p{overflow:hidden;text-overflow:ellipsis;}",".remoteProgress .emphasized{color:var(--color-foreground-1);}"]),It((function(){return r?It("p",null,"checking latest changes... "):n&&1===n?It("p",null,It("span",{className:"emphasized"},"1")," commit behind ",t):n&&n>1?It("p",null,It("span",{className:"emphasized"},n)," commits behind"," ",t):It("p",null,"up to date with ",t)}),{className:"jsx-1443995161"}))},At=function(e){var t=e.gitState,n=e.isLoading,r=e.pull,a=e.setGithubCreationModalOpen,o=""!==t.remote;return It("div",{className:"jsx-2582197764 remote-info"},It(i.a,{id:"2582197764"},[".remote-info.jsx-2582197764{display:grid;grid-gap:var(--spacing-2);margin:6px 0;}",".remoteWrapper-info.jsx-2582197764{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".remoteWrapper-infolink.jsx-2582197764{padding:0 3px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".icon-wrapper.jsx-2582197764{height:var(--spacing-2);width:var(--spacing-2);margin-right:var(--spacing-half);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:inherit;}",".remoteInfo-progress.jsx-2582197764{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]),o?It("div",{className:"jsx-2582197764 remoteWrapper-info"},It("div",{title:"Repository origin",className:"jsx-2582197764 icon-wrapper"},It(mt.GitHub,null)),It("a",{href:t.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-2582197764 remoteWrapper-infolink"},z(t.remote))):It(ot.a,{fullWidth:!0,onClick:function(){a(!0)}},It(Tt.HStack,{spacing:1,align:"center"},It("div",{className:"jsx-2582197764 icon-wrapper"},It(mt.GitHub,null)),It("div",{className:"jsx-2582197764"},"Connect to Github"))),o&&It("div",{className:"jsx-2582197764 remoteInfo-progress"},It(Rt,{branch:t.branch,commitsBehind:t.commitsBehind,isLoading:n}),!!t.commitsBehind&&t.commitsBehind>0&&It(ot.a,{color:"warning",onClick:r},"Pull \u2190")))},Pt=n("TyLv"),Lt=s.a.createElement,Dt=function(e){switch(e.change){case d.UNTRACKED:return"new";case d.MODIFIED:return"modified";case d.MOVED:return"renamed";case d.DELETED:return"deleted";default:return""}},Mt=function(e){var t,n,r=e.file,a=e.active,o=e.handleChangedFileClick,s=!1;if(r.targetPath.endsWith("/")){s=!0;var c=r.targetPath.substr(0,r.targetPath.length-1).split("/");t=c[c.length-1]+"/",n=c.slice(0,c.length-1).join("/")}else{var l=r.targetPath.split("/");t=l[l.length-1],n=l.slice(0,l.length-1).join("/")}var u=Dt(r),p=u.substr(0,1).toUpperCase(),f=["changedFileItem"];return a&&f.push("active"),s||r.change===d.DELETED||f.push("showable"),Lt("div",{onClick:function(){s||r.change===d.DELETED||o(r.targetPath)},className:"jsx-1498543552 "+(f.join(" ")||"")},Lt(i.a,{id:"1498543552"},[".changedFileItem.jsx-1498543552{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--color-control-1);border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:5px;padding:6px 12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;}",".showable.changedFileItem.jsx-1498543552{cursor:pointer;}",".changedFileItem.jsx-1498543552:hover{background-color:var(--color-primary-transparent-2);}",".changedFileItem.jsx-1498543552:hover .changeModeBadge.jsx-1498543552 .letter.jsx-1498543552{display:none;}",".changedFileItem.jsx-1498543552:hover .changeModeBadge.jsx-1498543552 .word.jsx-1498543552{display:block;}",".changedFileItem.active.jsx-1498543552{background-color:var(--color-primary-1);border-color:transparent;color:var(--color-white);}",".showable.jsx-1498543552 .fileName.jsx-1498543552:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".fileName.jsx-1498543552,.dirs.jsx-1498543552,.changeMode.jsx-1498543552{display:block;white-space:nowrap;}",".changeMode.jsx-1498543552{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".fileName.jsx-1498543552{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:8px;max-width:60%;overflow:hidden;text-overflow:ellipsis;}",".changeMode.jsx-1498543552{margin-left:8px;}",".dirs.jsx-1498543552{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;margin-right:auto;opacity:0.7;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".changeModeBadge.jsx-1498543552{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#999;border-radius:2.5px;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:24px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:24px;padding:2px 4px;-webkit-transition:width 0.1s;transition:width 0.1s;}",".changeModeBadge.jsx-1498543552 .word.jsx-1498543552{display:none;}",".changedFileItem.active.jsx-1498543552 .changeModeBadge.jsx-1498543552,.changedFileItem.active.jsx-1498543552:hover .new.jsx-1498543552,.changedFileItem.active.jsx-1498543552:hover .modified.jsx-1498543552,.changedFileItem.active.jsx-1498543552:hover .deleted.jsx-1498543552{background-color:var(--color-background-1);color:var(--color-foreground-2);border:transparent;}",".new.jsx-1498543552{background:var(--color-positive-transparent-3);border:1px solid var(--color-positive-1);color:var(--color-positive-1);}",".modified.jsx-1498543552{background:var(--color-orange-transparent-3);border:1px solid var(--color-orange-1);color:var(--color-orange-1);}",".deleted.jsx-1498543552{background:var(--color-negative-transparent-3);border:1px solid var(--color-negative-1);color:var(--color-negative-1);}",".deleted.jsx-1498543552:hover{cursor:not-allowed;}",".changedFileItem.jsx-1498543552:hover .new.jsx-1498543552{background:var(--color-positive-1);color:var(--color-foreground-1);}",".changedFileItem.jsx-1498543552:hover .modified.jsx-1498543552{background:var(--color-orange-1);color:var(--color-foreground-1);}",".changedFileItem.jsx-1498543552:hover .deleted.jsx-1498543552{background:var(--color-negative-1);color:var(--color-foreground-1);}",".renamed.jsx-1498543552{background:#6883f1;}"]),Lt("div",{title:t,className:"jsx-1498543552 fileName"},t),Lt("div",{title:n,className:"jsx-1498543552 dirs"},n),Lt("div",{className:"jsx-1498543552 changeMode"},Lt("div",{className:"jsx-1498543552 "+("changeModeBadge "+u||!1)},Lt("div",{className:"jsx-1498543552 letter"},p),Lt("div",{className:"jsx-1498543552 word"},p+u.substr(1)))))},Ft=function(e){var t=e.changedFiles,n="changed files or folders";if(1===t.length){var r=Dt(t[0])||"changed";n="".concat(r," file or folder")}return Lt("div",{className:"jsx-3007353529 changed-file-message"},Lt(i.a,{id:"3007353529"},[".emphasized.jsx-3007353529{color:var(--color-foreground-1);}","p.jsx-3007353529{color:var(--color-foreground-2);margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]),Lt("p",{className:"jsx-3007353529"},Lt("span",{className:"jsx-3007353529 emphasized"}," ",t.length," ")," ",n))},Ut=function(e){var t=e.branch,n=e.commitsAhead,r="commit ahead of";return n&&n>1&&(r="commits ahead of"),Lt("div",{className:"jsx-3606678223"},Lt(i.a,{id:"3606678223"},[".emphasized.jsx-3606678223{color:var(--color-foreground-1);}","p.jsx-3606678223{color:var(--color-foreground-2);margin-bottom:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]),Lt("p",{className:"jsx-3606678223"},Lt("span",{className:"jsx-3606678223 emphasized"}," ",n," ")," ",r," ",t))},Ht=function(e){var t=e.disabled,n=e.onClick;return Lt(ot.a,{disabled:t,className:"push-button",onClick:n,color:"primary"},"commit & push \u2192")},Gt=function(e){var t=e.activeFile,n=e.branch,r=e.changedFiles,a=e.commits,s=e.commitsAhead,c=e.commitsBehind,l=e.handleChangedFileClick,u=e.isLoading,d=e.gitCommit,p=e.gitPush,f=Object(o.useState)(""),m=f[0],b=f[1],g=Object(o.useState)(!1),h=g[0],v=g[1],x=Object(o.useState)(!1),w=x[0],y=x[1],k=r;function j(){var e=m.trim();""!==e?(d(e),b(""),v(!1)):v(!0)}w||(k=r.slice(0,3));var E=r.length>0,O=!!s&&s>0,_=!!c&&c>0;return u&&!E?Lt("div",{className:"jsx-3128216323 loading"},Lt(i.a,{id:"3128216323"},[".loading.jsx-3128216323{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:30px;overflow:hidden;margin-right:12px;background:var(--color-background-2);border-radius:2.5px;width:100%;}",".loading-content.jsx-3128216323{border-radius:2.5px;color:var(--color-foreground-1);padding:10px 8px;text-align:center;width:100%;}"]),Lt("div",{className:"jsx-3128216323 loading-content"},"loading",Lt(ht.a,{style:{fontSize:"20px",padding:"1px"}}))):E||O||_?Lt("div",{className:"jsx-2960193321 editableGitCommitItem"},Lt(i.a,{id:"2960193321"},[".editableGitCommitItem.jsx-2960193321{background:var(--color-background-1);box-sizing:border-box;color:var(--color-foreground-1);margin-top:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}",".commit-author-box.jsx-2960193321{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:15px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:16px;}","textarea.jsx-2960193321{background-color:transparent;border:1px solid var(--color-foreground-3);border-radius:var(--border-radius-1);box-shadow:none;color:var(--color-foreground-1);font-size:1em;margin-bottom:10px;padding:8px 12px;overflow:hidden;width:100%;resize:vertical;max-height:100px;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321:hover{background-color:var(--color-background-2);}","textarea.jsx-2960193321:focus{border-color:var(--color-primary-1);background-color:var(--color-background-2);outline:0 none;}","textarea.jsx-2960193321::-webkit-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321::-moz-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321:-ms-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321::placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea[disabled].jsx-2960193321{border-color:var(--color-foreground-3);cursor:not-allowed;opacity:0.5;}","textarea.invalid.jsx-2960193321{border:1px solid var(--color-negative-1);}",".ahead-overlay.jsx-2960193321{margin-bottom:15px;position:relative;}",".changed-files-list.jsx-2960193321{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".show-all-button.jsx-2960193321{border:none;background-color:var(--color-background-1);color:var(--color-foreground-1);cursor:pointer;font-size:12px;outline:0 none;-webkit-text-decoration:underline;text-decoration:underline;}"]),O&&Lt(Ut,{branch:n,commitsAhead:s}),!E&&O&&Lt("div",{className:"jsx-2960193321 ahead-overlay"},Lt(Ht,{disabled:!1,onClick:p})),E&&Lt("div",{className:"jsx-2960193321 commit-author-box"},Lt("textarea",{required:!0,name:"commitAuthorInput",disabled:0===r.length,placeholder:a.length>0?"What did you change?":"What did you add?",value:m,onChange:function(e){b(e.target.value),v(""===e.target.value)},onKeyDown:function(e){Object(Pt.a)(e),"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&j()},className:"jsx-2960193321 "+((h?"invalid":"")||"")}),Lt(Ht,{onClick:j,disabled:0===r.length})),Lt(Ft,{changedFiles:r}),Lt("div",{className:"jsx-2960193321 changed-files-list"},k.map((function(e){return Lt(Mt,{file:e,key:e.targetPath,handleChangedFileClick:l,active:Boolean(t)&&t.endsWith(e.targetPath)})})),r.length>3&&Lt("button",{onClick:function(){return y(!w)},className:"jsx-2960193321 show-all-button"},w?"show fewer":"show all"))):Lt("div",{className:"jsx-1953444237 no-changes-banner"},Lt(i.a,{id:"1953444237"},[".no-changes-banner.jsx-1953444237{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:30px;overflow:hidden;background:var(--color-background-2);border-radius:2.5px;}",".small.jsx-1953444237{color:var(--color-foreground-2);padding:15px;text-align:center;width:100%;font-size:14px;}"]),Lt("p",{className:"jsx-1953444237 small"},"Your file changes will appear here."))},Bt=n("Cg2A"),zt=n.n(Bt),Kt=n("gNI2"),Vt=n.n(Kt),qt=s.a.createElement,Wt=function(e){var t=e.children;return qt("div",{"data-testid":"git-commit-item",className:"jsx-1708576964 commit-item"},qt(i.a,{id:"1708576964"},[".commit-item.jsx-1708576964{display:block;position:relative;-webkit-transition:0.1s all;transition:0.1s all;}",".commit-item.jsx-1708576964:first-child .git-graph-shape.jsx-1708576964::before{background:linear-gradient( to bottom, transparent, var(--color-foreground-2) 20px, var(--color-foreground-2) 100% );}",".commit-item.jsx-1708576964:last-child .git-graph-shape.jsx-1708576964::before{height:20px;}",".git-graph-shape.jsx-1708576964{position:absolute;top:0;bottom:0;left:0;background-color:transparent;}",".git-graph-shape.jsx-1708576964::before{content:'';display:block;position:absolute;top:0;bottom:0;height:calc(100% + 10px);width:1px;left:6px;background:var(--color-foreground-2);}",".git-graph-shape.jsx-1708576964::after{content:'';display:block;width:11px;height:11px;border:1px solid var(--color-foreground-2);border-radius:50%;background-color:var(--color-background-1);position:absolute;top:20px;left:0;-webkit-transition:0.1s all;transition:0.1s all;}",".commit-item.jsx-1708576964:hover .git-graph-shape.jsx-1708576964::after{background-color:var(--color-foreground-1);border-color:1px solid var(--color-foreground-1);}"]),qt("div",{className:"jsx-1708576964 git-graph-shape"}),t)},Xt=function(e){var t=e.commit,n=e.handleRevertToCommit,r=e.displayTimeSinceUnix,a=e.gitHubLink,o=e.isLoggedIn;return qt(Wt,null,qt(i.a,{id:"3552356940"},[".wrapper.jsx-3552356940{border:1px solid var(--color-foreground-2);border-radius:2.5px;padding:10px 8px;margin:0 0 10px 24px;color:var(--color-foreground-2);}",".wrapper.jsx-3552356940:hover{background-color:var(--color-bacjkground-2);border:1px solid var(--color-foreground-2);color:var(--color-foreground-1);}",".commit-hash.jsx-3552356940{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:'Menlo','Monaco',monospace;margin-bottom:6px;font-size:14px;}",".author.jsx-3552356940{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);}",".author-name.jsx-3552356940,.author-email.jsx-3552356940{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".author-email.jsx-3552356940{max-width:150px;margin-bottom:6px;font-size:12px;color:var(--color-foreground-2);}",".commit-hash.jsx-3552356940{color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}","button.jsx-3552356940,.github-link.jsx-3552356940{visibility:hidden;}",".wrapper.jsx-3552356940:hover button.jsx-3552356940,.wrapper.jsx-3552356940:hover .github-link.jsx-3552356940{visibility:visible;background:transparent;color:var(--color-foreground-1);}","button.jsx-3552356940{cursor:pointer;padding:6px;border:1px solid transparent;border-radius:2.5px;}",".github-link.jsx-3552356940{display:inline-block;height:16px;width:16px;margin-left:6px;background-color:var(--color-foreground-1);}"]),qt("div",{className:"jsx-3552356940 wrapper"},qt(Yt,{message:t.message}),qt("div",{className:"jsx-3552356940 author"},qt("div",{title:"commit.authorName",className:"jsx-3552356940 author-name"},t.authorName," \u2022"," ",Vt()(t.authorDate,r,{addSuffix:!0}))),qt("div",{title:t.authorEmail,className:"jsx-3552356940 author-email"},t.authorEmail),qt("div",{title:t.hash,className:"jsx-3552356940 commit-hash"},t.hash.substr(0,9),null!==a&&qt("a",{href:a,target:"_blank",rel:"noopener noreferer",title:"see on GitHub",className:"jsx-3552356940 github-link"},qt(mt.GitHub,null))),o&&qt(ot.a,{filled:!1,border:!1,color:"warning",size:"small",onClick:function(){return n(t)}},"revert to here")))},Yt=function(e){var t=e.message,n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return qt("p",{key:e},e)})),r=Object(o.useState)(!1),a=r[0],s=r[1];return qt("div",{className:"jsx-3863265966 commit-message"},qt(i.a,{id:"3863265966"},[".commit-message.jsx-3863265966{margin-bottom:10px;}",".commit-message p{color:var(--color-foreground-1);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:2px;}",".more-link.jsx-3863265966{font-size:14px;}"]),a?Object(x.a)(n):qt("p",{className:"jsx-3863265966"},[t.split("\n")[0]," "]),a&&qt("a",{href:"#",key:"more",onClick:function(){return s(!1)},className:"jsx-3863265966 more-link"},"see less"),!a&&n.length>1&&qt("a",{href:"#",key:"more",onClick:function(){return s(!0)},className:"jsx-3863265966 more-link"},"see more"))},Qt=function(e){var t=e.gitState,n=e.handleRevertToCommit,r=e.fetchMoreCommits,a=e.isLoggedIn,c=t.commits[t.commits.length-1],l=c&&""!==c.parentHash?qt(Wt,{key:"loadmore"},qt(ot.a,{onClick:r,style:{margin:"8px 6px 12px 24px"}},"load more commits")):null,u=Object(o.useState)(zt()()),d=u[0],p=u[1];Object(o.useEffect)((function(){p(zt()())}),[t.commits]);var f=t.commitsAhead||0;return qt(s.a.Fragment,null,t.commits.length>0&&qt("h2",{className:"jsx-4037633779"},qt(i.a,{id:"4037633779"},["h2.jsx-4037633779{color:var(--color-foreground-1);font-size:18px;font-weight:unset;overflow:hidden;margin:30px 0 10px 0;text-overflow:ellipsis;white-space:nowrap;position:relative;}"]),"Previous Commits"),qt("div",{className:"jsx-2485996811 commit-list-section"},qt(i.a,{id:"2485996811"},[".commit-list-section.jsx-2485996811{height:100%;}",".commit-list-wrapper.jsx-2485996811{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".commit-list.jsx-2485996811{width:100%;margin-top:10px;}"]),qt("div",{className:"jsx-2485996811 commit-list-wrapper"},t.commits.length>0&&qt("ul",{className:"jsx-2485996811 commit-list"},t.commits.map((function(e,r){return qt(Xt,{handleRevertToCommit:n,key:e.hash,commit:e,displayTimeSinceUnix:d,gitHubLink:""!==t.remote&&r>=f?(i=t.remote,o=e.hash,"".concat(i,"/commit/").concat(o)):null,isLoggedIn:a});var i,o})),l))))},Jt=n("g7Gn"),Zt=n("Jaku"),$t=n("irrw"),en=n.n($t),tn=n("7lhO"),nn=n("tZOq"),rn=o.createElement,an=at()((function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}}),on=function(e){var t=e.avatarUrl,n=e.login;return rn("div",{className:"jsx-3521536340 gitHubInfo"},rn(i.a,{id:"3521536340"},[".gitHubInfo.jsx-3521536340{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;text-overflow:ellipsis;}",".gitHubInfo-avatar.jsx-3521536340{height:36px;width:36px;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:5px;}",".gitHubInfo-login.jsx-3521536340{padding:5px;overflow:hidden;text-overflow:ellipsis;}"]),rn("img",{src:t,className:"jsx-3521536340 gitHubInfo-avatar"}),rn("div",{className:"jsx-3521536340 gitHubInfo-login"},n))},sn=function(e){var t=e.authToken,n=e.onClose,a=e.pud,s=e.successHandler,l=e.wid,u=Object(tn.a)(),d=Object(nn.Fb)({variables:{replId:u}}),m=d.data;if(d.loading)return null;if("Repl"!==(null===m||void 0===m?void 0:m.repl.__typename))return rn(an,{onRequestClose:n,noBorder:!0},rn("div",{className:"jsx-1881977806 container"},rn("p",{className:"jsx-1881977806"},"Something went wrong. Please try again later."),rn(i.a,{id:"1881977806"},[".container.jsx-1881977806{font-size:1rem;width:510px;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--color-foreground-1);}"])));var b=m.repl,h=o.useState(!1),v=Object(r.a)(h,2),x=v[0],w=v[1],y=o.useState(b.isPrivate),k=Object(r.a)(y,2),j=k[0],E=k[1],O=o.useState(null),_=Object(r.a)(O,2),N=_[0],S=_[1],C=Object(c.e)(),T=Object(c.f)((function(e){return Object(f.a)(e,l,a,"git")})).gitState,I=Object(gt.a)(b.isRenamed?b.title:"",(function(e){return e&&e.length>100?{message:"* GitHub repository names cannot exceed 100 characters"}:e?void 0:{message:"* Repository name is required"}})),R=Object(gt.a)((b.description||"").replace(/(\r\n|\n|\r)/gm," "),(function(e){if(e&&e.length>140)return{message:"* GitHub descriptions cannot exceed 140 characters"}}));if(T.authError!==p.NONE)return rn(ut,{wid:l,pud:a,authError:T.authError});var A=!(!I.error&&!R.error),P=T.installations,L=P.find((function(e){return"User"===e.type}))||P[0],D=o.useState({value:L.name,label:L.name,avatar:L.avatarUrl,type:L.type}),M=Object(r.a)(D,2),F=M[0],U=M[1],H=P.filter((function(e){return e.name!==F.value})).map((function(e){return{value:e.name,label:e.name,avatar:e.avatarUrl,type:e.type}}));return rn(an,{onRequestClose:n,noBorder:!0},rn("div",{className:"jsx-4030671057 container"},rn("form",{onSubmit:function(e){var n,r,i,o;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(S(null),e.preventDefault(),w(!0),n=I.validate(),r=R.validate(),!n&&!r){c.next=8;break}return w(!1),c.abrupt("return");case 8:return i={name:I.value,description:R.value,private:j},c.prev=9,c.next=12,g.a.awrap(He({token:t,repoData:i,owner:F.value,ownerType:F.type}));case 12:o=c.sent,s(o.html_url),Object(B.track)(B.events.GITHUB_API_REPO_CREATION_SUCCESS),c.next=20;break;case 17:c.prev=17,c.t0=c.catch(9),c.t0 instanceof Me?C({type:"UPDATE_GIT_STATE",wid:l,pud:a,updates:{authError:p.GITHUB_CREATE}}):(Jt.m((function(e){e.setTag("source","git"),Jt.c(c.t0)})),S("Unable to create a GitHub repository"));case 20:w(!1);case 21:case"end":return c.stop()}}),null,null,[[9,17]])},style:{width:"90%",opacity:x?.6:1},autoComplete:"off",className:"jsx-4030671057"},rn("div",{className:"jsx-4030671057 section"},rn("div",{className:"jsx-4030671057"},rn(en.a,{align:"center",level:4},"Create a new GitHub repository"),rn(Ot.a,{align:"center",foreground:2},"You can always edit this information on github"))),rn("div",{className:"jsx-4030671057 section"},rn(bt.a,null),rn(ft.a,{options:H,optionRenderer:function(e){return rn(on,{avatarUrl:e.avatar,login:e.label||""})},disabled:P.length<=1,value:F,valueRenderer:function(e){return rn(on,{avatarUrl:e.avatar,login:e.label||""})},onChange:function(e){U(e)},searchable:!1,style:{height:"48px"},clearable:!1}),rn("span",{className:"jsx-4030671057 slash"}," / "),rn(xt.a,{ref:I.ref,name:"title",autoComplete:"off",placeholder:"repo name (required)",disabled:x,value:I.value,onChange:function(e){I.setValue(e.currentTarget.value),S(null)},onFocus:function(e){return e.target.select()},onBlur:I.handleBlur,validationResults:I.error?[{message:I.error.message,state:"error"}]:void 0})),rn("div",{className:"jsx-4030671057 section"},rn(xt.a,{name:"description",value:R.value,disabled:x,placeholder:R.value||"Add repo description (optional)",onChange:function(e){R.setValue(e.target.value),S(null)},onBlur:R.handleBlur,validationResults:R.error?[{message:R.error.message,state:"error"}]:void 0})),rn("div",{className:"jsx-4030671057 privacy section"},rn("h3",{className:"jsx-4030671057"},"GitHub privacy"),rn("div",{className:"jsx-4030671057 privacy-radio"},rn(Zt.a,{checked:!j,type:"button",id:"public",onClick:function(){return E(!1)}}),rn("div",{className:"jsx-4030671057 privacy-icon"},rn(mt.GitHubPublic,null)),rn("div",{className:"jsx-4030671057 privacy-info"},rn("label",{className:"jsx-4030671057"},"Public"),rn(Ot.a,{foreground:2,tag:"div",size:"small"},"Anyone can see this repo, you choose who can commit"))),rn("div",{className:"jsx-4030671057 privacy-radio"},rn(Zt.a,{checked:j,type:"button",id:"private",onClick:function(){return E(!0)}}),rn("div",{className:"jsx-4030671057 privacy-icon private"},rn(mt.GitHubPrivate,null)),rn("div",{className:"jsx-4030671057 privacy-info"},rn("label",{className:"jsx-4030671057"},"Private"),rn(Ot.a,{foreground:2,tag:"div",size:"small"},"you choose who can see and commit to this repo")))),rn("div",{className:"jsx-4030671057 create section"},rn(ot.a,{size:"large",color:"primary",disabled:x||A,type:"submit","data-testid":"git-confirm-github-repo"},x?"Creating...":"Create GitHub repository")),rn("div",{className:"jsx-4030671057 creation-error"},N&&rn("span",{className:"jsx-4030671057"},N,rn("br",{className:"jsx-4030671057"}),rn("a",{href:"/bugs",className:"jsx-4030671057"},"Let us know")," if there is an issue."))),rn(i.a,{id:"4030671057"},[".container.jsx-4030671057{font-size:1rem;width:510px;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--color-foreground-1);}",".section.jsx-4030671057{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%;}",".section.create.jsx-4030671057{padding-bottom:0;}",".section.privacy.jsx-4030671057{color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".section.privacy.jsx-4030671057 h3.jsx-4030671057{margin-bottom:10px;font-weight:normal;}",".privacy-radio.jsx-4030671057{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;padding:3px;width:100%;}",".privacy-icon.jsx-4030671057{margin-left:10px;width:24px;height:32px;}",".privacy-icon.jsx-4030671057{color:var(--color-foreground-2);}",".privacy-icon.private.jsx-4030671057{color:var(--color-gold-light);}",".privacy-info.jsx-4030671057{margin-left:10px;}",".Select{width:100%;}",".slash.jsx-4030671057{color:var(--color-foreground-1);margin:5px;}",".creation-error.jsx-4030671057{line-height:1.3;padding-top:20px;margin:0 10px;height:40px;color:var(--color-negative-1);}"])))},cn=n("VcNk"),ln=o.createElement,un=at()((function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}});function dn(e){var t=e.wid,n=e.pud,a=e.gitState,s=Object(c.e)(),l=function(){s({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{hasConflictsWithFetchedRemote:!1}})},u=o.useState(null),d=Object(r.a)(u,2),p=d[0],f=d[1],m=o.useState(!0),b=Object(r.a)(m,2),g=b[0],h=b[1],v="Confirm",x=["conflictChoices"];return"repl"===p?(x.push("chosen-repl"),v="Confirm keep Repl.it"):"remote"===p&&(x.push("chosen-remote"),v="Confirm overwrite from GitHub"),g||x.push("invalid"),ln(un,{onRequestClose:l},ln(i.a,{id:"3359993603"},[".resolveConflictModal.jsx-3359993603{max-width:600px;padding:20px 24px;background:var(--color-background-1);color:var(--color-foreground-1);}","h2.jsx-3359993603{margin-bottom:16px;}","p.jsx-3359993603{margin-bottom:24px;line-height:1.4em;}",".conflictChoices.jsx-3359993603{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".conflictPreference.jsx-3359993603{width:48%;border:1px solid var(--color-foreground-1);cursor:pointer;border-radius:3px;overflow:hidden;-webkit-transition:-webkit-transform 0.2s;-webkit-transition:transform 0.2s;transition:transform 0.2s;}",".conflictPreference.jsx-3359993603:hover{-webkit-transform:translate(0,-3px);-ms-transform:translate(0,-3px);transform:translate(0,-3px);}",".conflictPreference.jsx-3359993603 .header.jsx-3359993603{padding:8px 12px;font-weight:bold;background:var(--color-background-2);}",".conflictPreference.jsx-3359993603 .body.jsx-3359993603{padding:8px 12px;line-height:1.4em;}",".chosen-repl.jsx-3359993603 .replPreference.jsx-3359993603 .header.jsx-3359993603,.chosen-remote.jsx-3359993603 .remotePreference.jsx-3359993603 .header.jsx-3359993603{color:var(--color-background-1);background:var(--color-foreground-1);}",".chosen-repl.jsx-3359993603 .remotePreference.jsx-3359993603,.chosen-remote.jsx-3359993603 .replPreference.jsx-3359993603{border-color:var(--color-foreground-2);}",".buttonGroup.jsx-3359993603{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}"]),ln("div",{className:"jsx-3359993603 resolveConflictModal"},ln("h2",{className:"jsx-3359993603"},"Conflicting changes"),ln("p",{className:"jsx-3359993603"},"There are changes from the remote (",ln("a",{href:a.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-3359993603"},a.remote),") that have been made since your changes on Repl.it that conflict with each other. Which version would you like to keep?"),ln("div",{className:"jsx-3359993603 "+(x.join(" ")||"")},ln("div",{onClick:function(){return f("remote")},className:"jsx-3359993603 remotePreference conflictPreference"},ln("div",{className:"jsx-3359993603 header"},"Keep version on GitHub"),ln("div",{className:"jsx-3359993603 body"},"Permanently delete any changes in your Repl that are not on GitHub.")),ln("div",{onClick:function(){return f("repl")},className:"jsx-3359993603 replPreference conflictPreference"},ln("div",{className:"jsx-3359993603 header"},"Keep version on Repl.it"),ln("div",{className:"jsx-3359993603 body"},"Permanently delete any changes in your GitHub repository that are not on Repl.it"))),ln("div",{className:"jsx-3359993603 buttonGroup"},ln(ot.a,{style:{marginLeft:"8px"},onClick:l},"Cancel"),ln(ot.a,{color:"negative",style:{marginLeft:"8px"},onClick:function(){null!==p?(s(Ke({write:!0,prefer:p,wid:t,pud:n})),l()):h(!1)}},v))))}function pn(e){var t=e.actionDescription,n=e.onConfirm,r=e.onCancel,a={marginLeft:8};return ln("div",{className:"jsx-752610279 gitRevertConfirmModal"},ln(i.a,{id:"752610279"},[".gitRevertConfirmModal.jsx-752610279{max-width:600px;padding:20px 24px;background:var(--color-background-1);color:var(--color-foreground-1);}","h2.jsx-752610279{margin-bottom:16px;}","p.jsx-752610279{margin-bottom:24px;line-height:1.4em;}",".buttonGroup.jsx-752610279{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),ln("h2",{className:"jsx-752610279"},"Overwrite existing changes?"),ln("p",{className:"jsx-752610279"},"You have some changes that are not committed yet. ",t," ","will overwrite any un-committed changes. Overwrite and continue?"),ln("div",{className:"jsx-752610279 buttonGroup"},ln(ot.a,{style:a,onClick:r,autoFocus:!0},"Cancel"),ln(ot.a,{color:"negative",style:a,onClick:n},"Overwrite and continue")))}var fn=function(e){var t=e.wid,n=e.pud,a=e.isLoading,s=e.isNarrow,l=e.userInfo,u=Object(c.e)(),d=Object(f.b)(t,n,"git"),m=Object(r.a)(d,1)[0].gitState;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,a=void 0!==r&&r,i=e.write,o=void 0!==i&&i,s=e.persist;u(Ke({history:a,write:o,persist:void 0!==s&&s,wid:t,pud:n}))}var h=Object(cn.a)();function v(e,r){return u(ze({cmd:e,args:r,wid:t,pud:n}))}var x=m.hasConflictsWithFetchedRemote&&ln(dn,{wid:t,pud:n,gitState:m}),w=o.useState(null),y=Object(r.a)(w,2),k=y[0],j=y[1],E=null!==k&&ln(un,{onRequestClose:function(){return j(null)}},ln(pn,{actionDescription:"Reverting to this previous version",onConfirm:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:j(null),v(je),v(we,[k.hash]),b({persist:!0});case 4:case"end":return e.stop()}}))},onCancel:function(){return j(null)}})),O=o.useState(null),_=Object(r.a)(O,2),N=_[0],S=_[1],C=null!==N&&ln(un,{onRequestClose:function(){return S(null)}},ln(pn,{actionDescription:"Checking out branch ".concat(N),onConfirm:function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return S(null),v(je),e.next=4,g.a.awrap(v(he,[N]));case 4:b({persist:!0});case 5:case"end":return e.stop()}}))},onCancel:function(){return S(null)}}));var T=o.useState(!1),I=Object(r.a)(T,2),R=I[0],A=I[1];return ln(o.Fragment,null,l.isLoggedIn?ln(o.Fragment,null,ln(At,{gitState:m,isLoading:a,pull:function(){u({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_PULLED",wid:t}),b({history:!0})},setGithubCreationModalOpen:function(){m.remoteToken&&m.installations.length>0?A(!0):u({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{authError:p.GITHUB_GET_INFO}})}}),ln(Ct,{isLoading:a,gitState:m,wid:t,checkoutBranch:function(e){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==m.branch){n.next=2;break}return n.abrupt("return");case 2:if(u({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CHECKOUT",wid:t}),!(m.changedFiles.length>0&&m.branches.includes(e))){n.next=6;break}return S(e),n.abrupt("return");case 6:return n.next=8,g.a.awrap(v(he,[e]));case 8:b({persist:!0});case 9:case"end":return n.stop()}}))},isNarrow:s}),ln(Gt,{branch:m.branch,changedFiles:m.changedFiles,commits:m.commits,isLoading:a,commitsAhead:m.commitsAhead,commitsBehind:m.commitsBehind,activeFile:h||"",handleChangedFileClick:function(e){u({type:"OPEN_FILE",path:e,wid:t})},gitCommit:function(e){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return u({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_COMMITTED",wid:t}),n.next=3,g.a.awrap(v(be));case 3:return n.next=5,g.a.awrap(v(ge,[e,l]));case 5:b({write:!0});case 6:case"end":return n.stop()}}))},gitPush:function(){b({write:!0})}})):ln("div",{className:"jsx-1826746790 sign-up"},ln("a",{href:"/signup",className:"jsx-1826746790"}," create an account"),ln("div",{className:"jsx-1826746790"},"to use version control with repl.it!")),ln(Qt,{gitState:m,handleRevertToCommit:function(e){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(u({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_REVERTED",wid:t}),!(m.changedFiles.length>0)){n.next=4;break}return j(e),n.abrupt("return");case 4:v(we,[e.hash]),b({persist:!0});case 6:case"end":return n.stop()}}))},fetchMoreCommits:function(){m.remote&&v(oe,[!0]),v(me,[!0])},isLoggedIn:l.isLoggedIn}),E,C,x,m.authError!==p.NONE&&ln(ut,{wid:t,pud:n,repoId:m.repoId,ownerId:m.ownerId,authError:m.authError}),R&&ln(sn,{authToken:m.remoteToken,onClose:function(){return A(!1)},successHandler:function(e){u(function(e){var t=e.remote,n=e.wid,r=e.pud;return function(e){var a;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(t,a){return e(ze({cmd:t,args:a,wid:n,pud:r}))},i.next=3,g.a.awrap(a(fe,[t]));case 3:return i.next=5,g.a.awrap(a(pe));case 5:return i.next=7,g.a.awrap(a(ie));case 7:return i.next=9,g.a.awrap(e({type:"GITHUB_REPOSITORY_CREATED",wid:n,pud:r}));case 9:return i.next=11,g.a.awrap(e(Ke({wid:n,pud:r,persist:!0})));case 11:case"end":return i.stop()}}))}}({wid:t,pud:n,remote:e})),A(!1)},wid:t,pud:n}),ln(i.a,{id:"1826746790"},[".sign-up.jsx-1826746790{padding:10px;text-align:center;}"]))},mn=n("PzFc"),bn=n("sETy"),gn=s.a.createElement,hn=function(e){var t=e.onInit,n=e.isLoggedIn;return gn("div",{className:"jsx-3846798690 git-empty"},gn("div",{className:"jsx-3846798690"},"Track and rollback changes to your repl."," ",gn("a",{href:"https://repl.it/talk/learn/Replit-Git-Tutorial/23331/",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),Object(B.track)(B.events.GIT_CLIENT_WHAT_IS_GIT_CLICKED),window.open(e.target.href,"_blank")},className:"jsx-3846798690 learn-link"},"Learn more here"),gn("div",{className:"jsx-3846798690 ctas"},n?gn(s.a.Fragment,null,gn(ot.a,{color:"primary",filled:!0,onClick:t},"Create a Git Repo"),gn(mn.a,{activeTab:bn.a.GitHub},gn("a",{className:"jsx-3846798690"},"Existing git repository?"))):gn("div",{className:"jsx-3846798690 sign-up"},gn("a",{href:"/signup",className:"jsx-3846798690"}," create an account")," to use version control with repl.it!"))),gn("div",{className:"jsx-3846798690"},gn("img",{src:"/public/images/gitart.png",className:"jsx-3846798690"})),gn(i.a,{id:"3846798690"},[".git-empty.jsx-3846798690{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:100%;padding:10px;max-width:250px;margin:0 auto;}",".learn-link.jsx-3846798690{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;}",".ctas.jsx-3846798690{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:40px 0;}",".ctas.jsx-3846798690>a.jsx-3846798690{margin-top:12px;text-align:center;}","img.jsx-3846798690{width:100%;max-width:200px;}"]))},vn=n("tnnq"),xn=n("5RMj");n.d(t,"Component",(function(){return kn})),n.d(t,"reducer",(function(){return nt})),n.d(t,"receiver",(function(){return $e}));var wn=s.a.createElement,yn=210;function kn(e){var t=e.wid,n=e.pud,a=e.style,s=e.dimensions,l=Object(c.e)(),d=Object(o.useState)(!1),p=d[0],b=d[1],h=Object(f.b)(t,n,"git"),v=Object(r.a)(h,1)[0],x=v.gitState,w=v.isLoading,y=v.isCloneInProgress,k=Object(c.f)((function(e){return e.user.userInfo}));Object(o.useEffect)((function(){if(s){var e=window.document.getElementById(xn.a);if(!e)throw new Error("Couldn't find workspace root");var t=s.w,n=e.clientWidth*(t.pc/100)+t.px;n<=yn&&!p?b(!0):n>yn&&p&&b(!1)}}),[s,p]);var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.useState)(t),r=n[0],a=n[1],i=Object(o.useRef)();return Object(o.useEffect)((function(){return i.current&&clearTimeout(i.current),i.current=setTimeout((function(){a(e)}),250),function(){i.current&&clearTimeout(i.current)}}),[e]),[r||e,a]}(w,!0),E=Object(r.a)(j,2),O=E[0],_=E[1];Object(o.useEffect)((function(){return l({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_SIDEBAR_OPENED",wid:t}),y||(_(!0),l(Ke({history:!1,write:!1,persist:!1,wid:t,pud:n}))),l({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!0,wid:t}),function(){l({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!1,wid:t})}}),[]);var N=null;return N=O&&!x.isInitialized?wn(m.a,{style:{margin:"10px auto",width:"35px",height:"35px"}}):x.remote||x.isInitialized?wn(fn,{wid:t,pud:n,isLoading:O,isNarrow:p,userInfo:k}):wn(hn,{isLoggedIn:k.isLoggedIn,onInit:function(){l(function(e,t){return function(n,r){var a;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(r,a){return n(ze({cmd:r,args:a,wid:e,pud:t}))},n({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_LOCAL_INIT",wid:e}),i.next=4,g.a.awrap(a(ne,[r().user.userInfo]));case 4:return i.next=6,g.a.awrap(n(qe(e,t)));case 6:case"end":return i.stop()}}))}}(t,n))}}),wn("div",{style:a,className:"jsx-1529441781 gitSidebar"},wn(i.a,{id:"1529441781"},[".gitSidebar.jsx-1529441781{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-width:150px;background-color:var(--color-background-1);color:var(--color-foreground-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".gitSidebar-header.jsx-1529441781{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--spacing-6);padding:0 var(--spacing-1) 0 var(--spacing-2);color:var(--color-foreground-1);width:100%;}",".gitSidebar-heading.jsx-1529441781{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".git-content-scroll-wrapper.jsx-1529441781{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;}",".git-content-scroll-wrapper.jsx-1529441781{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;-ms-scrollbar-width:thin;scrollbar-width:thin;}",".git-content-scroll-wrapper.jsx-1529441781::-webkit-scrollbar-thumb{border-radius:var(--border-radius-2);background-color:var(--color-foreground-4);}",".git-content-scroll-wrapper.jsx-1529441781:hover.jsx-1529441781::-webkit-scrollbar-thumb{background-color:var(--color-foreground-3);}",".git-content-scroll-wrapper.jsx-1529441781::-webkit-scrollbar{width:6px;}",".git-content-scroll-wrapper.jsx-1529441781::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".git-content-wrapper.jsx-1529441781{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%;padding:8px 12px;}",".git-content-wrapper.is-loading.jsx-1529441781{opacity:0.5;pointer-events:none;}"]),wn("div",{className:"jsx-1529441781 gitSidebar-header"},wn("div",{className:"jsx-1529441781 gitSidebar-heading"},"Version control"),wn(vn.a,{link:"https://replit.canny.io/admin/board/feedback/p/github-integration-feedback"})),wn("div",{className:"jsx-1529441781 git-content-scroll-wrapper"},wn("div",{className:"jsx-1529441781 "+(u()("git-content-wrapper",{"is-loading":O})||"")},N)),wn(jn,null))}function jn(){return wn("div",{className:"jsx-829418383 gitSidebar-footer"},wn(i.a,{id:"829418383"},[".gitSidebar-footer.jsx-829418383{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:6px 12px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;background-color:var(--color-background-2);color:var(--color-foreground-2);font-size:13px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".gitSidebar-footer.jsx-829418383 .feedbackLink.jsx-829418383{text-align:right;}"]),wn("a",{href:"https://repl.it/talk/announcements/Feedback-for-git-support-the-new-GitHub-integration/21631",target:"_blank",rel:"noopener",className:"jsx-829418383 feedbackLink"},"Send feedback"))}},eKMU:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=i.createElement;t.a=function(e){var t=e.backgroundColor,n=e.foregroundColor,r=e.borderColor;return o("svg",{className:"add-lib-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20.583 20.25"},o("defs",{className:a.a.dynamic([["4239907680",[t,r,r,n]]])},o(a.a,{id:"4239907680",dynamic:[t,r,r,n]},[".add-lib-icon-svg{height:100%;width:100%;}",".add-lib-icon-svg .cls-1{fill:none;}",".add-lib-icon-svg .cls-3{fill:".concat(t,";stroke:").concat(r,";stroke-miterlimit:10;stroke-width:1px;}"),".add-lib-icon-svg:hover .cls-3{fill:".concat(r,";}"),".add-lib-icon-svg .cls-4{fill:".concat(n,";}"),".add-lib-icon-svg:hover .cls-4{fill:#fff;}"]),o("clipPath",{id:"clip-path",className:a.a.dynamic([["4239907680",[t,r,r,n]]])},o("rect",{x:"-162.211",y:"-650.947",width:"243.472",height:"517.878",className:a.a.dynamic([["4239907680",[t,r,r,n]]])+" cls-1"}))),o("circle",{className:"cls-3",cx:"10.303",cy:"10.083",r:"9.675"}),o("path",{className:"cls-4",d:"M15.858,10.885H4.763v-1.6H15.858Z"}))}},ecRq:function(e,t,n){n("uXq4"),e.exports=n("p9MR").Number.isNaN},f47c:function(e,t,n){"use strict";var r=n("q1tI"),a=r.createContext(null);t.a=a},fUEn:function(e,t,n){"use strict";var r=n("kOwS"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=s.a.createElement;t.a=function(e){var t=Object(r.a)({},e);return c(s.a.Fragment,null,c(i.a,{id:"4057640604"},[".one.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0s;animation-delay:0s;}",".two.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0.1s;animation-delay:0.1s;}",".three.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0.2s;animation-delay:0.2s;}","@-webkit-keyframes dot-jsx-4057640604{0%{opacity:0.1;}50%{opacity:1;}100%{opacity:0.1;}}","@keyframes dot-jsx-4057640604{0%{opacity:0.1;}50%{opacity:1;}100%{opacity:0.1;}}"]),c("span",Object(r.a)({},t,{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"one")}),"."),c("span",Object(r.a)({},t,{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"two")}),"."),c("span",Object(r.a)({},t,{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"three")}),"."))}},g0FR:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"install",(function(){return V})),n.d(r,"instructions",(function(){return q})),n.d(r,"search",(function(){return W}));var a={};n.r(a),n.d(a,"search",(function(){return $})),n.d(a,"install",(function(){return te})),n.d(a,"instructions",(function(){return ne}));var i={};n.r(i),n.d(i,"search",(function(){return $})),n.d(i,"install",(function(){return pe})),n.d(i,"instructions",(function(){return fe}));var o={};n.r(o),n.d(o,"install",(function(){return ge})),n.d(o,"instructions",(function(){return he})),n.d(o,"search",(function(){return ve}));var s={};n.r(s),n.d(s,"install",(function(){return ke})),n.d(s,"instructions",(function(){return je})),n.d(s,"search",(function(){return Ee}));var c={};n.r(c),n.d(c,"search",(function(){return $})),n.d(c,"install",(function(){return Te})),n.d(c,"instructions",(function(){return Ie}));var l=n("hfKm"),u=n.n(l),d=n("2Eek"),p=n.n(d),f=n("XoMD"),m=n.n(f),b=n("Jo+v"),g=n.n(b),h=n("4mXO"),v=n.n(h),x=n("pLtp"),w=n.n(x),y=n("ln6h"),k=n.n(y),j=n("0iUn"),E=n("sLSF"),O=n("MI3g"),_=n("a7VT"),N=n("Tit0"),S=n("vYYK"),C=n("MX0m"),T=n.n(C),I=n("q1tI"),R=n("/MKj"),A=n("ANjH"),P=n("9/5/"),L=n.n(P),D=n("3TIX"),M=n("ArsQ"),F=n("0gYX"),U=n.n(F),H=n("zgDP"),G=n("gfZM"),B=n("G5Ub"),z=I.createElement,K="requirements.txt";function V(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f;return k.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,c="".concat(r.name,"==").concat(r.version),w()(s).includes(K)){m.next=7;break}return e({type:"UPLOAD_FILE",wid:t,path:K,content:G.a.from(c+"\n"),create:!0}),e(Object(D.Y)({wid:t,path:K})),m.abrupt("return");case 7:return o!==K&&e(Object(D.Y)({wid:t,path:K})),m.next=10,k.a.awrap(a(K));case 10:if(l=m.sent,u=G.a.from(l.content).toString(),d=null,!u.split("\n").find((function(e,t){return d=t+1,e.trim()===c}))){m.next=17;break}return e(Object(D.V)({wid:t,line:d||0})),e(Object(M.b)({content:"Package already included",type:"notice",time:3e3})),m.abrupt("return");case 17:p=u.length,f=u.endsWith("\n")?"":"\n",e({type:"OT_FILE_OP",wid:t,path:K,op:[p,f+c+"\n"],changeSource:"libsearch"}),e(Object(D.V)({wid:t,line:u.split("\n").length}));case 21:case"end":return m.stop()}}))}}function q(e){return z(I.Fragment,null,z("ol",null,z("li",null,"Create a ",z("code",null,"requirements.txt")," file, (we'll do it for you if you click the add button)."),z("li",null,"Then add ",z("code",null,e.name)," to ",z("code",null,"requirements.txt")," on it's own line. If you want to specify a version, then add"," ",z("code",null,e.name)," followed by a version of your choosing."),z("li",null,"After that you'd want to check the"," ",z("a",{href:e.link,rel:"external",target:"_blank"},"documentation")," ","for usage")),z("br",null),"(typically you'd want to add an ",z("code",null,"import")," to the file where you want to use the module")}function W(e){return Object(B.b)("/data/pythonlibraries/search?q=".concat(e))}var X=n("5cLd"),Y=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],Q=/^[$A-Z_][0-9A-Z_$]*$/i;function J(e){return!Y.includes(e)&&Q.test(e)}var Z=function(e){var t=e.replace(/^@\w+\//,"");if(!J(t=X(t))){var n=t.match(/[$A-Z_][0-9A-Z_$]*/i);if(n&&n[0]&&(t=n[0],n.index>0&&(t=t[0].toLowerCase()+t.slice(1))),!J(t))return"require('".concat(t,"');")}return"let ".concat(t," = require('").concat(e,"');")},$=function(e){return Object(B.b)("/data/npm/search/".concat(encodeURIComponent(e))).then((function(e){return e.map((function(e){return{name:e.package.name,description:e.package.description,link:e.package.links.homepage,version:e.package.version}}))}))},ee=I.createElement;function te(e){var t=e.wid,n=e.lib;return function(e,r){var a=r().workspace[t].activeFile,i=Z(n.name);e({type:"OT_FILE_OP",wid:t,path:a,op:[i+"\n"],changeSource:"libsearch"})}}function ne(e){return ee(I.Fragment,null,"Just ",ee("code",null,"require")," the"," ",ee("a",{href:"https://npmjs.com",rel:"external",target:"_blank"},"npm")," ","module name like so"," ",ee("code",null,"require('",e.name,"')")," ","and we'll fetch it for you.",ee("br",null),"Check the module's"," ",ee("a",{href:e.link,target:"_blank"},"documentation")," ","for usage.")}var re=n("XXOK"),ae=n.n(re),ie=n("9Jkg"),oe=n.n(ie),se=I.createElement;function ce(e,t){var n=w()(e);if(v.a){var r=v()(e);t&&(r=r.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(S.a)(e,t,n[t])})):m.a?p()(e,m()(n)):ce(Object(n)).forEach((function(t){u()(e,t,g()(n,t))}))}return e}var ue="package.json",de={main:"index.js",dependencies:{}};function pe(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f,m,b,g,h,v,x,y,j,E,O,_;return k.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,w()(s).includes(ue)){N.next=7;break}return c=le({},de,{dependencies:le({},de.dependencies,Object(S.a)({},r.name,r.version))}),e({type:"UPLOAD_FILE",wid:t,path:ue,content:G.a.from(oe()(c,null,"  ")),create:!0}),e(Object(D.Y)({wid:t,path:ue})),N.abrupt("return");case 7:return o!==ue&&e(Object(D.Y)({wid:t,path:ue})),N.next=10,k.a.awrap(a(ue));case 10:l=N.sent,u=G.a.from(l.content).toString(),N.prev=12,d=JSON.parse(u),N.next=20;break;case 16:return N.prev=16,N.t0=N.catch(12),e(Object(M.b)({content:"Cannot parse package.json. Make sure it's valid JSON",type:"error",time:3e3})),N.abrupt("return");case 20:if(d.dependencies){N.next=29;break}return p=u.lastIndexOf("}")||0,'  \n"dependencies": {}\n',e({type:"OT_FILE_OP",wid:t,path:ue,op:[p,'  \n"dependencies": {}\n'],changeSource:"libsearch"}),N.t1=G.a,N.next=27,k.a.awrap(a(ue));case 27:N.t2=N.sent.content,u=N.t1.from.call(N.t1,N.t2).toString();case 29:N.t3=k.a.keys(d.dependencies);case 30:if((N.t4=N.t3()).done){N.next=57;break}if((f=N.t4.value).trim()!==r.name){N.next=55;break}for(e(Object(M.b)({content:"Package already included",type:"notice",time:3e3})),m=0,b=!0,g=!1,h=void 0,N.prev=38,v=ae()(u.split("\n"));!(b=(x=v.next()).done);b=!0)y=x.value,m+=1,y.trim().startsWith('"'+f+'"')&&e(Object(D.V)({wid:t,line:m}));N.next=46;break;case 42:N.prev=42,N.t5=N.catch(38),g=!0,h=N.t5;case 46:N.prev=46,N.prev=47,b||null==v.return||v.return();case 49:if(N.prev=49,!g){N.next=52;break}throw h;case 52:return N.finish(49);case 53:return N.finish(46);case 54:return N.abrupt("return");case 55:N.next=30;break;case 57:if(j=/"dependencies"\s*:\s*{/.exec(u)){N.next=60;break}throw new Error('Expected "dependencies" in package.json');case 60:E=j[0].length+j.index,O=d.dependencies&&w()(d.dependencies),_='    \n"'.concat(r.name,'": "^').concat(r.version,'"').concat(O?",":"","\n"),e({type:"OT_FILE_OP",wid:t,path:ue,op:[E,_],changeSource:"libsearch"});case 64:case"end":return N.stop()}}),null,null,[[12,16],[38,42,46,54],[47,,49,53]])}}function fe(e){return se(I.Fragment,null,se("ol",null,se("li",null,"If you don't have a ",se("code",null,"package.json")," file, create one (we'll do it for you if you click the add button)."),se("li",null,"Then add"," ",se("code",null,'"',e.name,'": "',e.version,'"')," ","under the ",se("code",null,"dependencies")," JSON field."),se("li",null,"After that you'd want to check the package's"," ",se("a",{href:e.link,target:"_blank"},"documentation")," ","for usage")),se("br",null),"Typically you would add a ",se("code",null,"require")," to the file where you want to use ",se("code",null,e.name))}var me=I.createElement,be="index.html";function ge(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f,m,b,g,h,v,x,y,j,E,O,_,N;return k.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,w()(s).includes(be)){S.next=5;break}return e(Object(M.b)({content:"There is no index.html file to add the script to",type:"error",time:3e3})),S.abrupt("return");case 5:return o!==be&&e(Object(D.Y)({wid:t,path:be})),c='<script src="'.concat(r.include||"",'"><\/script>'),S.next=9,k.a.awrap(a(be));case 9:l=S.sent,u=G.a.from(l.content).toString("utf8"),d=0,p=!0,f=!1,m=void 0,S.prev=15,b=ae()(u.split("\n"));case 17:if(p=(g=b.next()).done){S.next=27;break}if(h=g.value,d+=1,!h.includes(c)){S.next=24;break}return e(Object(M.b)({content:"Package already installed.",type:"notice",time:3e3})),e(Object(D.V)({wid:t,line:d})),S.abrupt("return");case 24:p=!0,S.next=17;break;case 27:S.next=33;break;case 29:S.prev=29,S.t0=S.catch(15),f=!0,m=S.t0;case 33:S.prev=33,S.prev=34,p||null==b.return||b.return();case 36:if(S.prev=36,!f){S.next=39;break}throw m;case 39:return S.finish(36);case 40:return S.finish(33);case 41:return-1===(v=u.indexOf("<script"))&&(v=u.indexOf("</body>")),e({type:"OT_FILE_OP",wid:t,path:be,op:[-1===v?u.length:v,c+"\n"],changeSource:"libsearch"}),S.next=46,k.a.awrap(a(be));case 46:x=S.sent,u=G.a.from(x.content).toString(),d=0,y=!0,j=!1,E=void 0,S.prev=52,O=ae()(u.split("\n"));case 54:if(y=(_=O.next()).done){S.next=62;break}if(N=_.value,d+=1,!N.includes(c)){S.next=59;break}return S.abrupt("break",62);case 59:y=!0,S.next=54;break;case 62:S.next=68;break;case 64:S.prev=64,S.t1=S.catch(52),j=!0,E=S.t1;case 68:S.prev=68,S.prev=69,y||null==O.return||O.return();case 71:if(S.prev=71,!j){S.next=74;break}throw E;case 74:return S.finish(71);case 75:return S.finish(68);case 76:e(Object(D.V)({wid:t,line:d}));case 77:case"end":return S.stop()}}),null,null,[[15,29,33,41],[34,,36,40],[52,64,68,76],[69,,71,75]])}}function he(e){return me(I.Fragment,null,"To install a JavaScript package add a"," ",me("code",null,'<script src="'.concat(e.include||"",'"><\/script>'))," to your html file (typically that's ",me("code",null,"index.html"),").",me("br",null),"After that you'd want to check the ",me("a",{href:e.link},"documentation")," ","for usage")}function ve(e){return Object(B.b)("/data/cdnjs/search/".concat(encodeURIComponent(e)))}var xe=I.createElement,we="Gemfile",ye="source 'https://rubygems.org'\n";function ke(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f;return k.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,c="gem '".concat(r.name,"', '").concat(r.version,"'"),w()(s).includes(we)){m.next=7;break}return e({type:"UPLOAD_FILE",wid:t,path:we,content:G.a.from(ye+c+"\n"),create:!0}),e(Object(D.Y)({wid:t,path:we})),m.abrupt("return");case 7:return o!==we&&e(Object(D.Y)({wid:t,path:we})),m.next=10,k.a.awrap(a(we));case 10:if(l=m.sent,u=G.a.from(l.content).toString(),d=null,!u.split("\n").find((function(e,t){return d=t+1,e.trim()===c}))){m.next=17;break}return e(Object(D.V)({wid:t,line:d||0})),e(Object(M.b)({content:"Package already included",type:"notice",time:3e3})),m.abrupt("return");case 17:p=u.length,f=u.endsWith("\n")?"":"\n",e({type:"OT_FILE_OP",wid:t,path:we,op:[p,f+c+"\n"],changeSource:"libsearch"}),e(Object(D.V)({wid:t,line:u.split("\n").length}));case 21:case"end":return m.stop()}}))}}function je(e){return xe(I.Fragment,null,xe("ol",null,xe("li",null,"Create a ",xe("code",null,"Gemfile")," file, (we'll do it for you if you click the add button)."),xe("li",null,"Then add ",xe("code",null,e.name)," to ",xe("code",null,"Gemfile")," on it's own line. If you want to specify a version, then add"," ",xe("code",null,e.name)," followed by a version of your choosing."),xe("li",null,"After that you'd want to check the"," ",xe("a",{href:e.link,rel:"external",target:"_blank"},"documentation")," ","for usage")))}function Ee(e){return Object(B.b)("/data/rubygems/search/".concat(e))}var Oe=I.createElement;function _e(e,t){var n=w()(e);if(v.a){var r=v()(e);t&&(r=r.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(S.a)(e,t,n[t])})):m.a?p()(e,m()(n)):_e(Object(n)).forEach((function(t){u()(e,t,g()(n,t))}))}return e}var Se="package.json",Ce={name:"reason-nodejs-template",version:"0.1.0",private:!0,files:["src/","bsconfig.json"],dependencies:{},devDependencies:{"bs-platform":"4.0.18"}};function Te(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f,m,b,g,h,v,x,y,j,E,O,_;return k.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,w()(s).includes(Se)){N.next=7;break}return c=Ne({},Ce,{dependencies:Ne({},Ce.dependencies,Object(S.a)({},r.name,r.version))}),e({type:"UPLOAD_FILE",wid:t,path:Se,content:G.a.from(oe()(c,null,"  ")),create:!0}),e(Object(D.Y)({wid:t,path:Se})),N.abrupt("return");case 7:return o!==Se&&e(Object(D.Y)({wid:t,path:Se})),N.next=10,k.a.awrap(a(Se));case 10:l=N.sent,u=G.a.from(l.content).toString(),N.prev=12,d=JSON.parse(u),N.next=20;break;case 16:return N.prev=16,N.t0=N.catch(12),e(Object(M.b)({content:"Cannot parse package.json. Make sure it's valid JSON",type:"error",time:3e3})),N.abrupt("return");case 20:if(d.dependencies){N.next=29;break}return p=u.lastIndexOf("}")||0,'  \n"dependencies": {}\n',e({type:"OT_FILE_OP",wid:t,path:Se,op:[p,'  \n"dependencies": {}\n'],changeSource:"libsearch"}),N.t1=G.a,N.next=27,k.a.awrap(a(Se));case 27:N.t2=N.sent.content,u=N.t1.from.call(N.t1,N.t2).toString();case 29:N.t3=k.a.keys(d.dependencies);case 30:if((N.t4=N.t3()).done){N.next=57;break}if((f=N.t4.value).trim()!==r.name){N.next=55;break}for(e(Object(M.b)({content:"Package already included",type:"notice",time:3e3})),m=0,b=!0,g=!1,h=void 0,N.prev=38,v=ae()(u.split("\n"));!(b=(x=v.next()).done);b=!0)y=x.value,m+=1,y.trim().startsWith('"'+f+'"')&&e(Object(D.V)({wid:t,line:m}));N.next=46;break;case 42:N.prev=42,N.t5=N.catch(38),g=!0,h=N.t5;case 46:N.prev=46,N.prev=47,b||null==v.return||v.return();case 49:if(N.prev=49,!g){N.next=52;break}throw h;case 52:return N.finish(49);case 53:return N.finish(46);case 54:return N.abrupt("return");case 55:N.next=30;break;case 57:if(j=/"dependencies"\s*:\s*{/.exec(u)){N.next=60;break}throw new Error('Expected "dependencies" in package.json');case 60:E=j[0].length+j.index,O=d.dependencies&&w()(d.dependencies),_='    \n"'.concat(r.name,'": "').concat(r.version,'"').concat(O?",":"","\n"),e({type:"OT_FILE_OP",wid:t,path:Se,op:[E,_],changeSource:"libsearch"});case 64:case"end":return N.stop()}}),null,null,[[12,16],[38,42,46,54],[47,,49,53]])}}function Ie(e){return Oe(I.Fragment,null,Oe("ol",null,Oe("li",null,"If you don't have a ",Oe("code",null,"package.json")," file, create one (we'll do it for you if you click the add button)."),Oe("li",null,"Then add"," ",Oe("code",null,'"',e.name,'": "',e.version,'"')," ","under the ",Oe("code",null,"dependencies")," JSON field."),Oe("li",null,"After that you'd want to check the package's"," ",Oe("a",{href:e.link,target:"_blank"},"documentation")," ","for usage")),Oe("br",null),"Typically you would add a ",Oe("code",null,"require")," to the file where you want to use ",Oe("code",null,e.name))}var Re,Ae,Pe,Le=n("6BQ9"),De=n.n(Le),Me=n("TSYQ"),Fe=n.n(Me),Ue=I.createElement,He=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!1,query:n.props.query,hovered:null},n.handleQueryChange=function(e){var t=e.currentTarget.value;n.setState({query:t}),n.updateLibraries(t)},n.listHoverChange=function(e){var t;t=e.currentTarget instanceof window.HTMLUListElement&&e.target instanceof window.HTMLLIElement?De()(e.target.dataset.index,10):null,n.setState({hovered:t})},n.moveSelector=function(e){var t;if(40===e.keyCode)t=1;else{if(38!==e.keyCode)return 13===e.keyCode&&null!==n.state.hovered?void n.props.onSelectLibrary(n.props.libraries[n.state.hovered]):void 0;t=-1}null===n.state.hovered?n.setState({hovered:0}):n.state.hovered+t>=0&&n.state.hovered+t<n.props.libraries.length&&n.setState({hovered:n.state.hovered+t}),e.preventDefault()},n.updateLibraries=function(e){if(!e)return n.props.resetSearchState(),void n.setState({loading:!1});n.setState({loading:!0}),n.props.onSearch(e)},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"componentWillReceiveProps",value:function(e){this.props.libraries!==e.libraries&&this.setState({loading:!1,hovered:null})}},{key:"render",value:function(){var e=this;return Ue("div",{onKeyDown:this.moveSelector,className:"jsx-2758458342 libsearch-search"},Ue("div",{className:"jsx-2758458342 libsearch-search-input"},Ue("input",{type:"text",placeholder:"search for a package",ref:function(t){return e.inputRef=t},value:this.state.query,onChange:this.handleQueryChange,autoFocus:!0,className:"jsx-2758458342"}),this.state.loading&&Ue("div",{title:"loading",className:"jsx-2758458342 libsearch-search-loading"})),0===this.props.libraries.length&&0!==this.props.query.length&&!this.state.loading&&Ue("div",{className:"jsx-2758458342 libsearch-search-no-results"},"Sorry, no packages found"),this.props.libraries.length>0&&Ue("ul",{onMouseOver:this.listHoverChange,className:"jsx-2758458342 libsearch-search-result"},this.props.libraries.map((function(t,n){return Ue("li",{key:t.name,"data-index":n,onClick:function(){return e.props.onSelectLibrary(t)},className:"jsx-2758458342 "+(Fe()("libsearch-search-item",{"libsearch-search-item-hover":e.state.hovered===n})||"")},t.name,": ",t.description||"(No description)")}))),Ue(T.a,{id:"2758458342"},[".libsearch-search.jsx-2758458342{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;overflow:auto;color:var(--color-foreground-1);}",".libsearch-search-input.jsx-2758458342{width:100%;position:relative;}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342::-webkit-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342::-moz-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342:-ms-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342::placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342{padding:12px ".concat(30,"px 15px 12px;font-size:15px;width:100%;border-top:none;border-right:none;border-left:none;outline:none;background:var(--color-background-1);border-bottom:solid 1px var(--color-foreground-3);color:var(--color-foreground-1);}"),".libsearch-search-input.jsx-2758458342 input.jsx-2758458342:focus{border-color:var(--color-primary-1);}",".libsearch-search-loading.jsx-2758458342{position:absolute;top:8.5px;right:0px;width:".concat(30,"px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}"),".libsearch-search-no-results.jsx-2758458342{font-size:15px;margin-top:20px;text-align:center;}",".libsearch-search-result.jsx-2758458342{list-style:none;}",".libsearch-search-item.jsx-2758458342{cursor:pointer;font-size:15px;padding:12px 15px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".libsearch-search-item-hover.jsx-2758458342{background-color:var(--color-primary-transparent-3);}"]))}}]),t}(I.Component),Ge=n("A3V5"),Be=n.n(Ge),ze=n("UMvL"),Ke=n("nG0Z"),Ve=I.createElement,qe=function(e){var t=e.lib,n=e.packageInstructions,r=e.onBack,a=e.onInstall;return Ve("div",{className:"jsx-3533250715 libsearch-details"},Ve("div",{onClick:r,className:"jsx-3533250715 libsearch-details-back"},Ve(Be.a,{size:4.5,direction:"left",color:"currentColor"})," back to search"," "),Ve("div",{className:"jsx-3533250715 libsearch-details-header"},Ve("div",{className:"jsx-3533250715 libsearch-details-libname"},t.name),Ve("div",{onClick:a,title:"Add package",className:"jsx-3533250715 libsearch-details-cta"},Ve(Ke.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"}))),Ve("div",{className:"jsx-3533250715 libsearch-details-description"},t.description||"This package has no description."),Ve("div",{className:"jsx-3533250715 libsearch-details-link"},Ve("a",{href:t.link,rel:"external",target:"_blank",className:"jsx-3533250715"},"Package homepage")),Ve("div",{className:"jsx-3533250715 libsearch-details-seperator"}),Ve(ze.a,{title:"Manual installation",expanded:!1,arrowSize:3.25,arrowBorderWidth:1.25},Ve("div",{className:"jsx-3533250715 libsearch-details-instructions"},n)),Ve(T.a,{id:"3533250715"},[".libsearch-details.jsx-3533250715{padding:12px 15px;height:calc(100% - 43px);overflow-y:auto;overflow-x:hidden;color:var(--color-foreground-1);}",".libsearch-details-back.jsx-3533250715{cursor:pointer;margin-bottom:20px;}",".libsearch-details-back.jsx-3533250715:hover{color:var(--color-primary-1);}",".libsearch-details-header.jsx-3533250715{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".libsearch-details-cta.jsx-3533250715{height:22px;width:22px;cursor:pointer;}",".libsearch-details-title.jsx-3533250715{font-size:16px;}",".libsearch-details-description.jsx-3533250715{margin-bottom:20px;line-height:1.25;}",".libsearch-details-link.jsx-3533250715{margin-bottom:20px;}",".libsearch-details-seperator.jsx-3533250715{background-color:var(--color-background-2);margin-left:-15px;padding-right:30px;width:100%;height:1px;box-sizing:content-box;margin-bottom:20px;}",".libsearch-details-instructions.jsx-3533250715{max-width:100%;margin-top:10px;font-size:15px;line-height:1.5;}",".libsearch-details-instructions.jsx-3533250715 code{max-width:100%;font-size:80%;background-color:var(--color-background-3);color:var(--color-foreground-2);}",".libsearch-details-instructions.jsx-3533250715>div.jsx-3533250715{margin-bottom:10px;}",".libsearch-details-instructions.jsx-3533250715 ol{list-style-position:inside;}",".libsearch-details-instructions.jsx-3533250715 li{margin-bottom:10px;}"]))},We=n("Qbrf"),Xe=n("lixr"),Ye=n("YexM"),Qe=n("S6NQ");n.d(t,"Component",(function(){return lt})),n.d(t,"reducer",(function(){return ut})),n.d(t,"receiver",(function(){return dt}));var Je=I.createElement;function Ze(e,t){var n=w()(e);if(v.a){var r=v()(e);t&&(r=r.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Object(S.a)(e,t,n[t])})):m.a?p()(e,m()(n)):Ze(Object(n)).forEach((function(t){u()(e,t,g()(n,t))}))}return e}var et="LIBSEARCH_RESULTS",tt="LIBSEARCH_QUERY",nt="LIBSEARCH_SELECT_LIB",rt="LIBSEARCH_INSTALL_SELECTED";function at(e){var t=e.libraries,n=e.wid;return{type:et,libraries:t,wid:n}}function it(e){var t=e.query,n=e.wid;return{type:tt,query:t,wid:n}}function ot(e){var t=e.lib,n=e.wid;return{type:nt,lib:t,wid:n}}function st(e){var t=e.wid;return{type:rt,wid:t}}function ct(e){switch(e){case"python":case"python_beta":case"python3":case"python3_beta":case"django":case"pygame":case"tkinter":return r;case"ruby":case"ruby_beta":case"rails":case"sinatra":return s;case"javascript":return a;case"html":return o;case"reactre":case"reactts":case"reactjs":case"gatsbyjs":case"nodejs":case"nodejs_beta":case"nodejs_prybar":case"nextjs":case"express":case"typescript":return i;case"reason_nodejs":return c;default:throw new Error("Unrecognized lang: "+e)}}var lt=Object(R.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=U.a.getCanonicalName(n.repl.language);return $e({},n,{packman:ct(r),language:r})}),(function(e){return $e({},Object(A.b)({installSelected:st,showMessage:M.b,setSearchQuery:it,setSearchResults:at,setSelectedLib:ot},e),{dispatch:e})}))((Pe=Ae=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).onSearch=function(e){Object(H.track)(H.events.PACKAGES_SEARCHED,{query:n.props.query}),n.props.setSearchQuery({query:e,wid:n.props.wid}),n.search(e)},n.search=L()((function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k.a.awrap(n.props.packman.search(e));case 3:t=r.sent,r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(0),n.props.showMessage({type:"error",content:"Failed to search: ".concat(r.t0.message),time:2e3}),r.t0;case 10:n.props.setSearchResults({libraries:t,wid:n.props.wid});case 11:case"end":return r.stop()}}),null,null,[[0,6]])}),200),n.resetSearchState=function(){n.props.setSearchQuery({query:"",wid:n.props.wid}),n.props.setSearchResults({libraries:[],wid:n.props.wid})},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){Object(H.track)(H.events.LIBRARIES_SEARCHED,{wid:this.props.wid,language:this.props.language})}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedLib,r=t.wid;return Je("div",{style:this.props.style,className:"jsx-3279219524 libsearch"},Je("div",{className:"jsx-3279219524 libsearch-header"},Je("div",{className:"jsx-3279219524 libsearch-heading"},"Packages")),n?Je(qe,{lib:n,onInstall:function(){return e.props.installSelected({wid:r})},packageInstructions:this.props.packman.instructions(n),onBack:function(){return e.props.setSelectedLib({lib:null,wid:r})}}):Je(He,{resetSearchState:this.resetSearchState,onSearch:this.onSearch,onSelectLibrary:function(t){return e.props.setSelectedLib({lib:t,wid:r})},query:this.props.query,libraries:this.props.libraries}),Je(T.a,{id:"3279219524"},[".libsearch.jsx-3279219524{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".libsearch-header.jsx-3279219524{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".libsearch-heading.jsx-3279219524{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}"]))}}]),t}(I.Component),Ae.defaultProps={style:{}},Re=Pe))||Re,ut=Object(We.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{libraries:[],query:"",selectedLib:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.o:return $e({},e,{},t.initialState);case et:return $e({},e,{libraries:t.libraries});case tt:return $e({},e,{query:t.query});case nt:return $e({},e,{selectedLib:t.lib})}return e},repl:Xe.b,files:Qe.a}),dt=Object(Ye.a)((function(e,t,n,r){return n.type===rt?function(n,a){var i,o,s;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a().workspace[e].plugins[t].state,o=i.repl,s=i.selectedLib){c.next=3;break}throw new Error("Expected library");case 3:return Object(H.track)(H.events.PACKAGES_SELECTED,{package:s.name}),c.next=6,k.a.awrap(n(ct(o.language).install({wid:e,pud:t,lib:s,getFile:function(a){return n(pt({wid:e,pud:t,wait:r,path:a}))}})));case 6:"goval"===U.a.get(o.language).engine&&n({type:D.p,wid:e});case 7:case"end":return c.stop()}}))}:null}));function pt(e){var t=e.wid,n=e.pud,r=e.wait,a=e.path;return function(e,i){var o,s;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(o=i().workspace[t].plugins[n].state.files,(s=o[a])&&!1!==s.loaded){c.next=7;break}return setTimeout(e({type:"LOAD_FILE",wid:t,path:a}),0),c.next=6,k.a.awrap(r((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===a})));case 6:s=i().workspace[t].plugins[n].state.files[a];case 7:return c.abrupt("return",s);case 8:case"end":return c.stop()}}))}}},gNI2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var l=n||{},m=l.locale||c.default;if(!m.formatDistance)throw new RangeError("locale must contain formatDistance property");var b=(0,r.default)(e,t,l);if(isNaN(b))return"Invalid Date";var g,h,v=(0,s.default)(l);v.addSuffix=Boolean(l.addSuffix),v.comparison=b,b>0?(g=(0,a.default)(t,l),h=(0,a.default)(e,l)):(g=(0,a.default)(e,l),h=(0,a.default)(t,l));var x,w=(0,i.default)(h,g,l),y=h.getTimezoneOffset()-g.getTimezoneOffset(),k=Math.round(w/60)-y;if(k<2)return l.includeSeconds?w<5?m.formatDistance("lessThanXSeconds",5,v):w<10?m.formatDistance("lessThanXSeconds",10,v):w<20?m.formatDistance("lessThanXSeconds",20,v):w<40?m.formatDistance("halfAMinute",null,v):w<60?m.formatDistance("lessThanXMinutes",1,v):m.formatDistance("xMinutes",1,v):0===k?m.formatDistance("lessThanXMinutes",1,v):m.formatDistance("xMinutes",k,v);if(k<45)return m.formatDistance("xMinutes",k,v);if(k<90)return m.formatDistance("aboutXHours",1,v);if(k<u){var j=Math.round(k/60);return m.formatDistance("aboutXHours",j,v)}if(k<d)return m.formatDistance("xDays",1,v);if(k<p){var E=Math.round(k/u);return m.formatDistance("xDays",E,v)}if(k<f)return x=Math.round(k/p),m.formatDistance("aboutXMonths",x,v);if((x=(0,o.default)(h,g,l))<12){var O=Math.round(k/p);return m.formatDistance("xMonths",O,v)}var _=x%12,N=Math.floor(x/12);return _<3?m.formatDistance("aboutXYears",N,v):_<9?m.formatDistance("overXYears",N,v):m.formatDistance("almostXYears",N+1,v)};var r=l(n("zmLq")),a=l(n("2Oix")),i=l(n("GLdP")),o=l(n("2UMc")),s=l(n("VBDh")),c=l(n("IogR"));function l(e){return e&&e.__esModule?e:{default:e}}var u=1440,d=2520,p=43200,f=86400;e.exports=t.default},gPGO:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"reducer",(function(){return W})),n.d(t,"reciever",(function(){return X}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("eVuF"),m=n.n(f),b=n("2wwy"),g=n.n(b),h=n("ln6h"),v=n.n(h),x=n("pLtp"),w=n.n(x),y=n("vYYK"),k=n("0gYX"),j=n.n(k),E=n("RPwF"),O=n("zgDP"),_=n("3TIX"),N=n("gfZM"),S=n("FzLU"),C=n("ArsQ"),T=n("Qbrf"),I=n("lixr"),R=n("b518"),A=n("S6NQ"),P=n("YexM"),L=n("h2o0"),D=n("OQjE");function M(e,t){var n=w()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):c.a?o()(e,c()(n)):M(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function U(e){return{type:"EVAL_STARTED",wid:e.wid}}function H(e){return{type:"EVAL_ENDED",wid:e.wid}}function G(e){var t=e.wid,n=e.pud,r=e.wait,a=e.path;return function(e,i){var o,s;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(o=i().workspace[t].plugins[n].state.files,(s=o[a])&&!1!==s.loaded){c.next=7;break}return setTimeout(e({type:"LOAD_FILE",wid:t,path:a}),0),c.next=6,v.a.awrap(r((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===a})));case 6:s=i().workspace[t].plugins[n].state.files[a];case 7:return c.abrupt("return",s);case 8:case"end":return c.stop()}}))}}function B(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){return a().workspace[t].plugins[n].state.filestate},o=function(){return g()(i()).some((function(e){return e===L.a.Dirty||e===L.a.Syncing}))};case 2:if(!o()){e.next=7;break}return e.next=5,v.a.awrap(r((function(e){var t=e.type;return"FILE_CLEAN"===t||"FILE_ERROR"===t})));case 5:e.next=2;break;case 7:case"end":return e.stop()}}))}}function z(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c,l,u,d,p,f,m,b,g,h,x,y;return v.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:if(i=a().workspace[t].plugins[n].state,o=i.engineHandle,s=i.loadingEngine,c=i.repl,l=i.files,!s){k.next=3;break}return k.abrupt("return");case 3:if(u=S.a.get(o)){k.next=10;break}return k.next=7,v.a.awrap(e(K({wid:t,pud:n})));case 7:return k.next=9,v.a.awrap(e(z({wid:t,pud:n,wait:r})));case 9:return k.abrupt("return");case 10:return e(U({wid:t})),k.next=13,v.a.awrap(e(B({wid:t,pud:n,wait:r})));case 13:return d=function(n){return e(Object(_.X)({wid:t,message:n}))},p=function(n){return e(Object(_.X)({wid:t,message:n,type:"error"}))},k.next=17,v.a.awrap(q(e,u.reset()));case 17:if(m=[],"web_project"!==c.language){k.next=31;break}b=0,g=w()(l);case 20:if(!(b<g.length)){k.next=29;break}return h=g[b],k.next=24,v.a.awrap(e(G({wid:t,pud:n,wait:r,path:h})));case 24:x=k.sent,m.push({name:h,content:N.a.from(x.content).toString("utf8")});case 26:b++,k.next=20;break;case 29:k.next=32;break;case 31:f=Object(R.c)(c,{dotty:!1});case 32:return k.next=34,v.a.awrap(q(e,u.runProject(m,{stdout:d,stderr:p,replId:c.id,url:f}),(function(){return e(H({wid:t}))})));case 34:y=k.sent,e(H({wid:t})),y.error?e(Object(_.X)({wid:t,message:y.error,type:"error"})):e(Object(_.X)({wid:t,message:y.data,type:"result"}));case 37:case"end":return k.stop()}}))}}function K(t){var r=t.wid,a=t.pud;return function(t,i){var o,s,c,l,u,d,p,f,b,g;return v.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(t({type:"LOADING_REPLBOX_STARTED",wid:r}),o=i().workspace[r].plugins[a].state,s=o.webviewHandle,c=o.repl,l={useIframe:!0,iframeParent:void 0,track:O.track},!s){h.next=9;break}if(u=S.a.get(s)){h.next=7;break}throw new Error("expected elem");case 7:for(;u.firstChild;)u.removeChild(u.firstChild);l.iframeParent=u;case 9:return h.next=11,v.a.awrap(n.e(42).then(n.t.bind(null,"i5jj",7)).then((function(e){return e.default})));case 11:return d=h.sent,(p=new d(c.language,l)).on("warn",(function(e){return t(Object(_.X)({wid:r,message:e}))})),f=e.env.PR_REVIEW_APP?"/public/secure/":"https://replbox.repl.it/public/secure/","html"===c.language&&(f=Object(R.c)(c,{dotty:!1})+"/__debug_wrapper.html"),b="".concat(window.location.origin,"/public/replbox_lang/").concat(E.version,"/").concat(c.language,".js"),g=!1,h.next=20,v.a.awrap(new m.a((function(e,n){var a=setTimeout((function(){g=!0,Object(O.track)(O.events.LOAD_REPLBOX_ENGINE_TIMED_OUT,{language:c.language}),e()}),5e3),i=window.performance.now();p.load({iframeOrigin:f,languageBundleSrc:b}).then((function(){clearTimeout(a),Object(O.track)(O.events.LOAD_REPLBOX_ENGINE_TIME,{time:window.performance.now()-i}),g||(t({type:"LOADING_REPLBOX_ENDED",wid:r,engineHandle:S.a.getHandle(p)}),e())})).catch((function(e){g||(p.destroy(),clearTimeout(a),n(e))}))})));case 20:if(!g){h.next=23;break}return p.destroy(),h.abrupt("return",t(K({wid:r,pud:a})));case 23:case"end":return h.stop()}}))}}function V(e){var t=e.wid,n=e.pud,r=e.code,a=e.clean;return function(e,i){var o,s,c,l,u;return v.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(o=i().workspace[t].plugins[n].state,s=o.engineHandle,!o.loadingEngine){d.next=4;break}return d.abrupt("return");case 4:if(c=S.a.get(s)){d.next=9;break}return d.next=8,v.a.awrap(e(K({wid:t,pud:n})));case 8:return d.abrupt("return");case 9:if(e(U({wid:t})),l=function(n){return e(Object(_.X)({wid:t,message:n}))},!a){d.next=14;break}return d.next=14,v.a.awrap(q(e,c.reset()));case 14:return d.next=16,v.a.awrap(q(e,c.evaluate(r,{stdout:l})));case 16:u=d.sent,e(H({wid:t})),u.error?e(Object(_.X)({wid:t,message:u.error,type:"error"})):e(Object(_.X)({wid:t,message:u.data,type:"result"}));case 19:case"end":return d.stop()}}))}}function q(e,t,n){return t.catch((function(t){throw e(Object(C.b)({content:t.message,type:"error",time:3e3})),n&&n(t),t}))}var W=Object(T.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{engine:null,webviewHandle:null,loadingEngine:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.o:return F({},e,{},t.initialState);case"LOADING_REPLBOX_STARTED":return F({},e,{loadingEngine:!0});case"LOADING_REPLBOX_ENDED":return F({},e,{loadingEngine:!1,engineHandle:t.engineHandle});case _.N:return F({},e,{webviewHandle:t.webviewHandle});case"DESTROY_REPLBOX":return F({},e,{loadingEngine:!1,engineHandle:null});default:return e}},repl:I.b,files:A.a,filestate:L.b,runstate:D.a}),X=Object(P.a)((function(e,t,n,r){switch(n.type){case"RUN_REPL":return function(n,a){var i,o,s,c,l,u;return v.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n({type:"CLEAR_CONSOLE",wid:e}),n({type:"EVAL_SETUP",wid:e}),i=a().workspace[e].plugins[t].state,o=i.repl,s=i.files,"web_project"!==o.language&&"html"!==o.language){d.next=5;break}return d.abrupt("return",n(z({wid:e,pud:t,wait:r})));case 5:return c=w()(s).find((function(e){return e===j.a.getMainFileName(o.language)}))||w()(s)[0],d.next=8,v.a.awrap(n(G({wid:e,pud:t,wait:r,path:c})));case 8:return l=d.sent,u=N.a.from(l.content).toString(),d.abrupt("return",n(V({wid:e,pud:t,code:u,clean:!0})));case 11:case"end":return d.stop()}}))};case"EVAL_CODE":return V({wid:e,pud:t,code:n.code,clean:n.clean});case _.K:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.engineHandle,i=S.a.get(a);if(i){try{i.stop()}catch(o){if(o.message.match(/postmessage/i))return;throw o}e(H({wid:t}))}}}({wid:e,pud:t});case _.b:if("console"===n.kind)return function(e){var t=e.wid,n=e.pud,r=e.input;return function(e,a){var i=a().workspace[t].plugins[n].state,o=i.engineHandle,s=i.runstate,c=S.a.get(o);"running"===s&&c?c.write(r):e(V({wid:t,pud:n,code:r,clean:!1}))}}({wid:e,pud:t,input:n.input});break;case _.N:return K({wid:e,pud:t});case _.z:return function e(t){var n=t.wid,r=t.pud;return function(t,a){var i,o,s;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a().workspace[n].plugins[r].state,o=i.engineHandle,!i.loadingEngine){c.next=4;break}return c.abrupt("return");case 4:if(s=S.a.get(o)){c.next=10;break}return c.next=8,v.a.awrap(t(K({wid:n,pud:r})));case 8:return t(e({wid:n,pud:r})),c.abrupt("return");case 10:s.refreshWebProject();case 11:case"end":return c.stop()}}))}}({wid:e,pud:t});case _.P:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.engineHandle,i=S.a.get(a);i&&i.destroy(),e({type:"DESTROY_REPLBOX",wid:t}),e({type:"LOADING_REPLBOX_STARTED",wid:t})}}({wid:e,pud:t})}return null}))}.call(this,n("8oxB"))},gdra:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("XXOK"),g=n.n(b),h=n("vYYK"),v=n("3TIX"),x=n("dI/k"),w=n("h7rM"),y="SET_EXPANDED_FILE_TREE_NODE",k="SET_ACTIVE_FILE_TREE_NODE",j="SET_IS_CREATING_FILE_TREE_NODE",E="SET_SHOW_FILE_TREE_DROP_TOOLTIP",O="SET_FILE_TREE_SCROLL_TOP";function _(e){var t=e.wid,n=e.path;return{type:k,wid:t,path:n}}function N(e){var t=e.wid,n=e.creatingNodeType;return{type:j,wid:t,creatingNodeType:n}}function S(e){var t=e.wid,n=e.pud,r=e.path,a=e.isExpanded;return function(e,i){(e({type:y,wid:t,path:r,isExpanded:a}),a)&&(Object(w.a)(i(),t,n,"filetree").dirs[r].loaded||e({type:"LOAD_DIRECTORY",wid:t,path:r}))}}function C(e){var t=e.wid,n=e.pud,r=e.nodeType,a=e.targetNodePath;return function(e,i){var o=i().workspace[t].plugins[n].state.tree[a],s=o.path;o.isFolder||(s=Object(x.d)(s)),e(_({wid:t,pud:n,path:s})),e(S({wid:t,pud:n,path:s,isExpanded:!0})),e(N({wid:t,pud:n,creatingNodeType:r}))}}var T=function(e){return{type:"CREATE_DIRECTORY",wid:e.wid,path:e.path}},I=function(e){return{type:"UPLOAD_FILE",wid:e.wid,path:e.path,content:e.content,create:!0}},R=function(e){return{type:"DELETE_FILE",wid:e.wid,path:e.path,changeSource:"filetree"}},A=n("8eab"),P=n("tSgl"),L=n.n(P);function D(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):D(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function F(e,t){switch(t.type){case k:if(!e[t.path])return e;var n=M({},e),r=Object(x.i)(Object(x.d)(t.path));if(1===r.length)return e;var a=!0,i=!1,o=void 0;try{for(var s,c=g()(r);!(a=(s=c.next()).done);a=!0){var l=s.value;if(!n[l].isFolder)throw new Error("Expected all paths to be folders");n[l].isExpanded=!0}}catch(C){i=!0,o=C}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n;case"CREATE_FILE":case"CREATE_CLIENT_DIRECTORY":var u=t.path,d=M({},Object(A.a)([u]),{},e);return d[u].isFolder="CREATE_CLIENT_DIRECTORY"===t.type,d;case"DELETE_FILE":var p=M({},e),f=t.path;if(!p[f])return p;for(var b=0,v=m()(p);b<v.length;b++){var w=v[b];(w===f||w.startsWith(f+"/"))&&delete p[w]}return p;case"MOVE_FILE":for(var j=M({},e),E=t.path,O=0,_=m()(j);O<_.length;O++){var N=_[O];if(N===E||N.startsWith(E+"/")){var S=N.replace(E,t.to);j[S]=M({},j[N],{path:S}),delete j[N]}}return j;case y:return M({},e,Object(h.a)({},t.path,M({},e[t.path],{isExpanded:t.isExpanded})));default:return e}}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tree:{},activeNode:null,creatingNodeType:null,showDropTooltip:!1,treeScrollTop:0},t=arguments.length>1?arguments[1]:void 0;if(t.path&&L()(t.path))return e;switch(t.type){case v.o:return M({},e,{},t.initialState);case"OPEN_FILE":return M({},e,{activeNode:t.path,creatingNodeType:null,tree:F(e.tree,{type:k,path:t.path})});case k:return M({},e,{activeNode:t.path,tree:F(e.tree,t)});case j:return M({},e,{creatingNodeType:t.creatingNodeType});case"DELETE_FILE":return M({},e,{activeNode:t.path===e.activeNode?null:e.activeNode,tree:F(e.tree,t)});case"MOVE_FILE":var n=e.activeNode;return n&&(t.path===n||n.startsWith(t.path+"/"))&&(n=n.replace(t.path,t.to)),M({},e,{activeNode:n,tree:F(e.tree,t)});case"CREATE_FILE":case"CREATE_CLIENT_DIRECTORY":case y:return M({},e,{tree:F(e.tree,t)});case E:return M({},e,{showDropTooltip:t.show});case O:return M({},e,{treeScrollTop:t.scrollTop});default:return e}},H=n("Qbrf"),G=n("lixr"),B=n("NveQ"),z=n("0iUn"),K=n("sLSF"),V=n("MI3g"),q=n("a7VT"),W=n("Tit0"),X=n("MX0m"),Y=n.n(X),Q=n("q1tI"),J=n.n(Q),Z=n("/MKj"),$=n("A3V5"),ee=n.n($),te=n("9/5/"),ne=n.n(te),re=n("ln6h"),ae=n.n(re),ie=n("gfZM"),oe=n("0gYX"),se=n.n(oe),ce=n("AT/M"),le=n("IYwU"),ue=n("TSYQ"),de=n.n(ue),pe=n("9CwF"),fe=n("LOQN"),me=n("85VF"),be=n("EQ2k"),ge=Q.createElement;function he(e){var t=e.menuItems,n=e.closeCallback,r=e.style;return ge("ul",{style:r,className:"jsx-3014306083 contextMenu"},ge(Y.a,{id:"3014306083"},[".contextMenu.jsx-3014306083{position:absolute;z-index:999;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:130px;border:1px solid var(--color-control-2);background-color:var(--color-background-1);color:var(--color-foreground-1);font-size:var(--font-size-desktop-text-small);border-radius:var(--border-radius-1);outline:0;list-style:none;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".contextMenu-menuItem.jsx-3014306083{color:var(--color-foreground-1);padding:var(--spacing-1);margin:var(--spacing-half);border-radius:var(--border-radius-1);font-weight:var(--font-weight-regular);cursor:pointer;line-height:initial;text-align:initial;}",".contextMenu-menuItem-disableHover.jsx-3014306083{color:inherit !important;background-color:transparent !important;}",".contextMenu-menuItem.jsx-3014306083:hover{background-color:var(--color-control-3);}",".contextMenu-menuItem-delete.jsx-3014306083{color:var(--color-negative-1);}",".contextMenu-menuItem-delete.jsx-3014306083:hover{color:var(--color-white);background-color:var(--color-negative-1);}",".contextMenu-menuItem-delete.jsx-3014306083:active,.contextMenu-menuItem.jsx-3014306083:active{background-color:var(--color-control-2);}"]),t.map((function(e,t){var r=e.label,a=e.onClick,i=e.isDelete,o=e.disableHover;return ge("li",{key:t,onMouseDown:function(e){a&&(e.stopPropagation(),e.preventDefault(),a(e),n&&n(e))},className:"jsx-3014306083 "+(de()("contextMenu-menuItem",{"contextMenu-menuItem-delete":i,"contextMenu-menuItem-disableHover":o})||"")},r)})))}var ve=Q.createElement,xe=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).state={showContextMenu:!1},n.onWrapperClick=function(e){e.stopPropagation()},n.handleToggleContextMenu=function(e){e&&e.preventDefault();var t=!n.state.showContextMenu;t?document.body&&n._es.listen(document.body,"mousedown",n.handleBodyClick):n.removeCloseListener(),n.setState({showContextMenu:t}),n.props.onToggle&&n.props.onToggle(n.state.showContextMenu)},n.handleBodyClick=function(e){n.removeCloseListener(),n._options&&e.target instanceof window.Node&&n._options.contains(e.target)||n.setState({showContextMenu:!1})},n.removeCloseListener=function(){document.body&&document.body.removeEventListener("mousedown",n.handleBodyClick)},n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this._es=new fe.a}},{key:"componentWillUnmount",value:function(){this._es.destroy()}},{key:"render",value:function(){var e=this,t=this.props.isActive;return ve("div",{ref:function(t){return e._options=t},onClick:this.onWrapperClick,className:Y.a.dynamic([["2928035278",[this.props.inheritColor?"inherit":be.a.gray70,this.props.inheritColor?"inherit":be.a.blueGray]]])},ve(Y.a,{id:"2928035278",dynamic:[this.props.inheritColor?"inherit":be.a.gray70,this.props.inheritColor?"inherit":be.a.blueGray]},[".options-image-wrapper.__jsx-style-dynamic-selector{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".options-image.__jsx-style-dynamic-selector{height:var(--spacing-2);width:var(--spacing-2);color:".concat(this.props.inheritColor?"inherit":be.a.gray70,";}"),".options-image-wrapper.__jsx-style-dynamic-selector:hover .options-image.__jsx-style-dynamic-selector{color:".concat(this.props.inheritColor?"inherit":be.a.blueGray,";}"),".options-image-wrapper.__jsx-style-dynamic-selector a{border-bottom:none !important;}"]),ve("div",{style:this.props.styles.imageWrapper,onClick:this.handleToggleContextMenu,className:Y.a.dynamic([["2928035278",[this.props.inheritColor?"inherit":be.a.gray70,this.props.inheritColor?"inherit":be.a.blueGray]]])+" options-image-wrapper"},ve("div",{className:Y.a.dynamic([["2928035278",[this.props.inheritColor?"inherit":be.a.gray70,this.props.inheritColor?"inherit":be.a.blueGray]]])+" options-image"},ve(me.a,null)),this.state.showContextMenu&&t&&ve(he,{closeCallback:this.handleToggleContextMenu,style:this.props.styles.contextMenu,menuItems:this.props.menuItems})))}}]),t}(Q.Component);xe.defaultProps={styles:{},isActive:!0};var we=xe,ye=n("+bZ2"),ke=n("6wo1"),je=n("8gH+"),Ee=n("KH4j"),Oe=n.n(Ee),_e=n("XpjT"),Ne=n.n(_e),Se=n("UWUU"),Ce=n("VwSA"),Te=Q.createElement,Ie=function(e){var t=e.isFolder,n=e.isGenerated,r=e.isExpanded,a=e.isActive,i=e.language,o=function(){return n?Te("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"18px",width:"18px"}},Te(je.a,null)):t?Te(Oe.a,{filled:a}):Ce.a[i]?Te(Se.LanguageIcon,{language:i,fill:a?"var(--color-white)":Ce.a[i]}):Te(Ne.a,{filled:a})};return Te("div",{className:Y.a.dynamic([["3200676598",[a?"var(--color-white)":"var(--color-foreground-2)"]]])+" node-row-icon-container"},t?Te(Q.Fragment,null,Te(ee.a,{size:3,color:"transparent",borderColor:"currentColor",borderWidth:1,direction:r?"bottom":"right",style:{marginLeft:"".concat(r?"-8px":"-4px"),marginBottom:"".concat(r?"2px":"0")}}),Te("div",{className:Y.a.dynamic([["3200676598",[a?"var(--color-white)":"var(--color-foreground-2)"]]])+" node-row-icon"},o())):Te("div",{className:Y.a.dynamic([["3200676598",[a?"var(--color-white)":"var(--color-foreground-2)"]]])+" node-row-icon"},o()),Te(Y.a,{id:"3200676598",dynamic:[a?"var(--color-white)":"var(--color-foreground-2)"]},[".node-row-icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".node-row-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:24px;width:24px;margin-right:10px;color:".concat(a?"var(--color-white)":"var(--color-foreground-2)",";}")]))},Re=Q.createElement,Ae=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).state={title:n.props.initialValue||"",error:""},n.handleInputKeyDown=function(e){13===e.keyCode?n.handleSubmit():27===e.keyCode&&n.props.onCancel()},n.handleSubmit=function(){n.state.error||n._didSubmit||(n.state.title&&n.state.title!==n.props.initialValue?(n._didSubmit=!0,n.props.onSubmit(n.state.title)):n.props.onCancel())},n.handleBlur=function(){n.state.error?n.props.onCancel():n.handleSubmit()},n.handleChange=function(e){n.setState({title:e.currentTarget.value});var t=e.currentTarget.value,r=Object(x.g)({fileName:t,files:n.props.siblingNames,initialValue:n.props.initialValue});n.setState({error:r})},n._didSubmit=!1,n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){if(this.props.initialValue){var e=this.state.title.lastIndexOf(".");-1===e&&(e=this.state.title.length),this._inputRef&&this._inputRef.setSelectionRange(0,e)}}},{key:"render",value:function(){var e=this,t=this.props.indent;return Re("div",{className:"jsx-2218844096 "+Y.a.dynamic([["3968795444",[t]]])+" "+(de()("edit-node",{"edit-node-error":this.state.error})||"")},Re("div",{className:"jsx-2218844096 "+Y.a.dynamic([["3968795444",[t]]])+" edit-node-input-wrapper"},Re("div",{style:{marginTop:"1px",marginLeft:"-1px"},className:"jsx-2218844096 "+Y.a.dynamic([["3968795444",[t]]])},Re(Ie,{isFolder:this.props.isFolder,isGenerated:this.props.isGenerated,isExpanded:!1,language:this.props.language})),Re("input",{ref:function(t){return e._inputRef=t},autoFocus:!0,onBlur:this.handleBlur,onKeyDown:this.handleInputKeyDown,value:this.state.title,onChange:this.handleChange,className:"jsx-2218844096 "+Y.a.dynamic([["3968795444",[t]]])+" edit-node-input"})),this.state.error&&Re("div",{className:"jsx-2218844096 "+Y.a.dynamic([["3968795444",[t]]])+" edit-node-error-tooltip"},this.state.error),Re(Y.a,{id:"3968795444",dynamic:[t]},[".edit-node-input-wrapper.__jsx-style-dynamic-selector{padding-left:".concat(t,"px;}"),".edit-node-input.__jsx-style-dynamic-selector{background:transparent;color:var(--color-foreground-1);}"]),Re(Y.a,{id:"2218844096"},[".edit-node.jsx-2218844096,.edit-node-error.jsx-2218844096{position:relative;padding:2px var(--spacing-1) 0;width:100%;height:var(--spacing-4);color:var(--color-foreground-2);background:transparent;}",".edit-node-input-wrapper.jsx-2218844096{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;height:100%;border:1px solid var(--color-primary-1);border-radius:var(--border-radius-1);}",".edit-node-error.jsx-2218844096 .edit-node-input-wrapper.jsx-2218844096{border:1px solid var(--color-negative-1);}",".edit-node-input.jsx-2218844096{border:0;outline:0;width:100%;height:100%;font-size:var(--font-size-desktop-text-small);}",".edit-node-error-tooltip.jsx-2218844096{position:absolute;z-index:1;background-color:var(--color-background-1);border:1px solid var(--color-border);border-radius:var(--border-radius-1);box-shadow:var(--shadow-1);color:var(--color-negative-1);top:calc(100% + var(--spacing-half));width:calc(100% - var(--spacing-2));padding:var(--spacing-2);font-size:var(--font-size-desktop-text-small);}"]))}}]),t}(Q.Component),Pe=n("IjuC"),Le=n("YuJD"),De=Q.createElement,Me=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).state={isEditing:!1,isDeleting:!1,isHovered:!1},n.handleSetActiveNode=function(e){var t=n.props,r=t.isFolder,a=t.onToggleExpand,i=t.onSetActive,o=t.onShowEditor;if(r)return a(),void i();o(Object(Le.b)(e))},n.handleConfirmRename=function(e){n.setState({isEditing:!1}),n.props.onRename(e)},n.handleRightClick=function(e){n.optionsRef&&n.optionsRef.handleToggleContextMenu(e)},n.getOptionsMenuItems=function(){var e=[];if(n.props.isFolder)return n.props.allowMove&&e.push({label:"Rename",onClick:function(){return n.setState({isEditing:!0})}}),(n.props.allowMove||n.props.allowDelete)&&e.push({label:"Add file",onClick:n.props.onNewNode.bind(Object(ce.a)(n),"file")},{label:"Add folder",onClick:n.props.onNewNode.bind(Object(ce.a)(n),"folder")}),n.props.allowDelete&&e.push({label:"Delete",onClick:function(){return n.setState({isDeleting:!0})},isDelete:!0}),e;n.props.allowMove&&e.push({label:"Rename",onClick:function(){return n.setState({isEditing:!0})}}),e.push({label:"Open tab",onClick:function(){return n.props.onShowEditor(!0)}});var t=window.location.href,r=t.includes("#")?t.indexOf("#"):t.length,a="".concat(t.slice(0,r),"#").concat(n.props.path);return e.push({label:"Copy link",onClick:function(){return Object(Pe.a)(a)}}),n.props.allowDelete&&e.push({label:"Delete",onClick:function(){return n.setState({isDeleting:!0})},isDelete:!0}),e},n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=16*Object(x.e)(this.props.path),n=this.props.isFolder?void 0:Object(x.a)(this.props.path);if(this.state.isEditing)return De("div",null,De(Ae,{onSubmit:this.handleConfirmRename,onCancel:function(){return e.setState({isEditing:!1})},siblingNames:this.props.siblingNames,initialValue:Object(x.b)(this.props.path),isFolder:this.props.isFolder,isExpanded:this.props.isExpanded,indent:t,language:n}));var r=this.getOptionsMenuItems();return De("div",{className:"jsx-2116634848 "+Y.a.dynamic([["4246932256",[t]]])+" node-row-wrapper"},this.props.connectDragSource(De("div",{onClick:this.handleSetActiveNode,onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})},onContextMenu:this.handleRightClick,className:"jsx-2116634848 "+Y.a.dynamic([["4246932256",[t]]])+" "+(de()("node-row",{"node-row-active":this.props.isActive})||"")},De("div",{className:"jsx-2116634848 "+Y.a.dynamic([["4246932256",[t]]])+" node-row-label"},De(Ie,{isFolder:this.props.isFolder,isGenerated:this.props.isGenerated,isExpanded:this.props.isExpanded,isActive:this.props.isActive,isHovered:this.state.isHovered,language:n}),De("span",{title:this.props.path,className:"jsx-2116634848 "+Y.a.dynamic([["4246932256",[t]]])+" node-row-name"},Object(x.b)(this.props.path))),r.length>0&&De("div",{className:"jsx-2116634848 "+Y.a.dynamic([["4246932256",[t]]])+" node-row-options"},De(we,{ref:function(t){return e.optionsRef=t},styles:{contextMenu:{top:"80%",right:"0"}},menuItems:r,inheritColor:!0,isActive:this.props.isActive,onToggle:function(){e.props.onSetActive()}})),this.state.isDeleting&&De(ye.a,{hideModal:function(){return e.setState({isDeleting:!1})}},De(ke.a,{name:Object(x.b)(this.props.path),entityType:this.props.isFolder?"folder":"file",delete:function(){return e.props.onDelete()},hideModal:function(){return e.setState({isDeleting:!1})}})))),De(Y.a,{id:"2116634848"},[".node-row-wrapper.jsx-2116634848{padding:2px var(--spacing-1) 0;}",".node-row.jsx-2116634848{color:var(--color-foreground-2);background:transparent;border-radius:var(--border-radius-1);}",".node-row.jsx-2116634848:hover{color:var(--color-foreground-1);background:var(--color-control-3);}",".node-row.jsx-2116634848:active{background:var(--color-control-2);}",".node-row-options.jsx-2116634848{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:var(--color-foreground-4);padding-right:var(--spacing-half);opacity:0;}",".node-row-options.jsx-2116634848:hover{color:var(--color-foreground-3);}",".node-row.jsx-2116634848:hover .node-row-options.jsx-2116634848{opacity:1;}",".node-row-active.jsx-2116634848 .node-row-options.jsx-2116634848{color:var(--color-white);opacity:1;}",".node-row-active.jsx-2116634848{color:var(--color-white) !important;background:var(--color-primary-1) !important;font-weight:var(--font-weight-medium);}"]),De(Y.a,{id:"4246932256",dynamic:[t]},[".node-row.__jsx-style-dynamic-selector{font-size:var(--font-size-desktop-text-small);height:var(--spacing-4);line-height:var(--spacing-4);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".node-row-label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:".concat(t,"px;max-width:calc(100% - var(--spacing-2));}"),".node-row-name.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"]))}}]),t}(Q.Component),Fe=Object(le.DragSource)(pe.a.FileNode,{canDrag:function(e){return e.allowMove},beginDrag:function(e){return e.isExpanded&&e.onToggleExpand(),e.onSetActive(),{path:e.path,isFolder:e.isFolder}}},(function(e){return{connectDragSource:e.dragSource()}}))(Me),Ue=n("9Jkg"),He=n.n(Ue),Ge=n("d04V"),Be=n.n(Ge),ze=n("eVuF"),Ke=n.n(ze),Ve=n("qJlv"),qe=n("QdtJ"),We=Q.createElement,Xe=function(e){return We(ye.a,{hideModal:function(){return e.hideModal()}},We(qe.a,{paths:e.filePaths,onConfirm:e.onSubmit,onCancel:e.hideModal}))},Ye=Q.createElement,Qe=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).state={showNativeOverwrite:!1,nativeOverwrite:[],showNodeOverwrite:!1,nodeOverwrite:{fromPath:null,toPath:null,isFolder:null}},n.handleDropNative=function(){var e=n.props,t=e.path,r=e.getAllPaths,a=e.draggedItem,i=e.onNewFile;if(!(a.dirContent instanceof Ke.a))throw new Error("Expected dirContent promise");a.dirContent.then((function(e){var a,o,s,c,l,u,d,p,f,m,b,h;return ae.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=Be()(e).filter((function(e){return!!e})),v.next=3,ae.a.awrap(Ke.a.all(a.map((function(e){return Je(e)}))));case 3:for(o=v.sent,s=[],c=!0,l=!1,u=void 0,v.prev=8,d=g()(o);!(c=(p=d.next()).done);c=!0)f=p.value,m=f.name,b=f.result,h=(""===t?"":t+"/")+m,r().includes(h)?s.push({path:h,content:b}):i(h,b);v.next=16;break;case 12:v.prev=12,v.t0=v.catch(8),l=!0,u=v.t0;case 16:v.prev=16,v.prev=17,c||null==d.return||d.return();case 19:if(v.prev=19,!l){v.next=22;break}throw u;case 22:return v.finish(19);case 23:return v.finish(16);case 24:s.length>0&&n.setState({showNativeOverwrite:!0,nativeOverwrite:s});case 25:case"end":return v.stop()}}),null,null,[[8,12,16,24],[17,,19,23]])}))},n.handleDropNode=function(){var e=n.props,t=e.path,r=e.onMove,a=e.getAllPaths,i=e.draggedItem;if(!i.path)throw new Error("Expected path in dragged node");var o=i.path,s=i.isFolder,c=(""===t?"":t+"/")+Object(x.b)(o);o!==c&&(a().includes(c)?n.setState({showNodeOverwrite:!0,nodeOverwrite:{fromPath:o,toPath:c,isFolder:s}}):r(o,c,s))},n.handleNodeOverwrite=function(){var e=n.state.nodeOverwrite,t=e.toPath,r=e.fromPath,a=e.isFolder;if(n.setState({showNodeOverwrite:!1,nodeOverwrite:{fromPath:null,toPath:null,isFolder:null}}),null===r||null===t||null===a)throw new Error("Expected fromPath, toPath and isFolder in state got ".concat(He()(r),", ").concat(He()(t)," and ").concat(He()(a)));n.props.onMove(r,t,a)},n.handleNativeOverwrite=function(){var e=n.state.nativeOverwrite;n.setState({showNativeOverwrite:!1,nativeOverwrite:[]}),e.forEach((function(e){var t=e.path,r=e.content;n.props.onDelete(t),n.props.onNewFile(t,r)}))},n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDropTarget,r=t.children,a=t.isOver,i=t.canDrop;return Ye(Q.Fragment,null,n(Ye("div",{style:{backgroundColor:a&&i?"var(--color-primary-transparent-2)":"transparent",height:"100%"}},a,r,this.state.showNodeOverwrite&&Ye(Xe,{filePaths:[this.state.nodeOverwrite.toPath],hideModal:function(){return e.setState({showNodeOverwrite:!1,nodeOverwrite:{fromPath:null,toPath:null,isFolder:null}})},onSubmit:this.handleNodeOverwrite}),this.state.showNativeOverwrite&&Ye(Xe,{filePaths:this.state.nativeOverwrite.map((function(e){return e.path})),hideModal:function(){return e.setState({showNodeOverwrite:!1,nativeOverwrite:[]})},onSubmit:this.handleNativeOverwrite}))))}}]),t}(Q.Component),Je=function(e){return new Ke.a((function(t,n){var r=new window.FileReader;r.onload=function(n){t({name:e.path||e.name,result:ie.a.from(n.target.result)})},r.onerror=n,r.readAsArrayBuffer(e)}))},Ze=Object(le.DropTarget)([pe.a.FileNode,Ve.b.FILE],{drop:function(e,t,n){t.didDrop()||t.canDrop()&&(t.getItemType()!==Ve.b.FILE?n.handleDropNode():n.handleDropNative())},canDrop:function(e,t){if(t.getItemType()===Ve.b.FILE)return!0;var n=e.path,r=t.getItem().path;return n!==r&&!((""===n?"":n+"/")+Object(x.b)(r)).startsWith(r+"/")},hover:function(e,t){t.canDrop()&&e.onHover(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),draggedItem:t.getItem()}}))(Qe),$e=n("GRpk"),et=J.a.createElement,tt=function(e){var t=e.numRows,n=e.showIcons,r=e.indent,a=void 0===r?0:r;return et("div",{className:Y.a.dynamic([["960328447",[a,a]]])+" loader"},n&&et("div",{className:Y.a.dynamic([["960328447",[a,a]]])+" icons"},Array(t).fill(null).map((function(e,t){return et("div",{key:t,className:Y.a.dynamic([["960328447",[a,a]]])+" row"},et("div",{className:Y.a.dynamic([["960328447",[a,a]]])+" icon-wrap"},et(Ne.a,null)))}))),et("div",{className:Y.a.dynamic([["960328447",[a,a]]])+" wrap"},et($e.a,{primaryColor:"var(--color-control-1)",secondaryColor:"var(--color-control-3)",height:32*t,width:250,className:"content-loader",uniquekey:"fileTreeLoader"},Array(t).fill(null).map((function(e,t){return et(J.a.Fragment,{key:t},et("rect",{x:"0",y:"".concat(4+32*t),rx:"3",ry:"3",width:"".concat(100+(n=t,n%2!==0?-10*n:10*n)),height:"16",className:Y.a.dynamic([["960328447",[a,a]]])}));var n})))),et(Y.a,{id:"960328447",dynamic:[a,a]},[".loader.__jsx-style-dynamic-selector{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;padding:2px var(--spacing-2) 0 ".concat(a,"px;}"),".icons.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".row.__jsx-style-dynamic-selector{height:var(--spacing-4);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-left:".concat(a,"px;}"),".icon-wrap.__jsx-style-dynamic-selector{height:var(--spacing-3);width:var(--spacing-3);color:var(--color-foreground-3);}",".wrap.__jsx-style-dynamic-selector{width:100%;overflow:hidden;padding:var(--spacing-half) var(--spacing-1);}",".wrap.__jsx-style-dynamic-selector>svg{min-width:150px;width:250px;}"]))},nt=n("JOwT"),rt=n("7FmB"),at=n.n(rt),it=Q.createElement;function ot(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var st=600,ct=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).handleConfirmNewNode=function(e){var t,r,a,i,o,s;return ae.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=n.props,r=t.wid,a=t.pud,i=t.path,o=t.creatingNodeType,s=(""===i?"":i+"/")+e,n.handleNodeCreationEnd(),"folder"!==o){c.next=8;break}return n.props.createDirectory({wid:r,path:s}),n.props.setActiveNode({wid:r,pud:a,path:s}),c.abrupt("return");case 8:n.props.createFile({wid:r,path:s,content:ie.a.from("")}),n.props.openFile({wid:r,path:s});case 10:case"end":return c.stop()}}))},n.handleNodeCreationEnd=function(){var e=n.props,t=e.wid,r=e.pud;n.props.setIsCreating({wid:t,pud:r,creatingNodeType:!1})},n.handleRename=function(e){var t=n.props,r=t.path,a=t.isFolder,i=(""===Object(x.d)(r)?"":Object(x.d)(r)+"/")+e;n.handleMove(r,i,a)},n.handleMove=function(e,t,r){var a=n.props,i=a.wid,o=a.pud;r?n.props.moveDirectory({wid:i,pud:o,path:e,to:t}):n.props.moveFile({wid:i,pud:o,path:e,to:t})},n.handleDelete=function(){var e=n.props,t=e.wid,r=e.pud,a=e.path;e.isFolder?n.props.deleteDirectory({wid:t,pud:r,path:a}):n.props.deleteFile({wid:t,path:a})},n.delayTimer=null,n.renderRow=function(){if(n.props.isRoot)return null;var e=n.props,t=e.wid,r=e.pud,a=e.path,i=e.isExpanded,o=e.isActive,s=e.isFolder,c=e.isGenerated,l=e.siblingNames,u=e.allowMove,d=e.allowDelete;return it(Fe,{key:"row-"+a,path:a,isExpanded:i,isGenerated:c,isActive:o,isFolder:s,siblingNames:l,onToggleExpand:function(){return n.props.setExpanded({wid:t,pud:r,path:a,isExpanded:!i})},onSetActive:function(){return n.props.setActiveNode({wid:t,pud:r,path:a})},onShowEditor:function(e){return n.props.openFile({wid:t,path:a,newTab:e})},onRename:n.handleRename,onDelete:n.handleDelete,onNewNode:function(e){return n.props.initiateNodeCreation({wid:t,pud:r,targetNodePath:a,nodeType:e})},allowMove:u,allowDelete:d})},n.renderChild=function(e,t){return it("li",{key:e},it(ut,{path:e,pud:n.props.pud,wid:n.props.wid,isGenerated:t}))},n.handleRowCreate=function(e){return n.props.initiateNodeCreation({wid:n.props.wid,pud:n.props.pud,targetNodePath:n.props.path,nodeType:e})},n.renderEmptyRow=function(e){return it("div",{className:Y.a.dynamic([["1828211438",[e]]])+" empty-node-row"},"Add a ",it(at.a,{size:"small",border:!1,onClick:function(){return n.handleRowCreate("file")}},"file"),"  or ",it(at.a,{size:"small",border:!1,onClick:function(){return n.handleRowCreate("folder")}},"folder"),it(Y.a,{id:"1828211438",dynamic:[e]},[".empty-node-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:var(--spacing-4);color:var(--color-foreground-2);font-size:var(--font-size-desktop-text-small);padding-left:".concat(e,"px;padding-top:2px;overflow:hidden;white-space:nowrap;}")]))},n.handleOnHover=function(e){n.props.isExpanded||n.delayTimer||(n.delayTimer=setTimeout((function(){n.delayTimer=null,e.isOver()&&n.props.setExpanded({wid:n.props.wid,pud:n.props.pud,path:n.props.path,isExpanded:!0})}),st))},n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isActive&&this.props.creatingNodeType,n=16*this.props.path.split("/").length,r=this.props.isRoot?n:n+16,a=[],i=[],o=!0,s=!1,c=void 0;try{for(var l,u=g()(this.props.childPaths);!(o=(l=u.next()).done);o=!0){var d=l.value;nt.a.includes(d)?i.push(d):a.push(d)}}catch(w){s=!0,c=w}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}var p=null;this.props.isExpanded&&!this.props.isFolderLoaded?p=it("span",null,it(tt,{numRows:this.props.isRoot?5:1,indent:r,showIcons:this.props.isRoot})):this.props.isExpanded&&(p=it("ul",{className:"jsx-4094013870 tree-node-child-list"},a.map((function(t){return e.renderChild(t,!1)})),0===a.length&&!t&&this.renderEmptyRow(r),t&&it("li",{className:"jsx-4094013870"},it(Ae,{onSubmit:this.handleConfirmNewNode,onCancel:this.handleNodeCreationEnd,siblingNames:this.props.childPaths.map(x.b),isFolder:"folder"===this.props.creatingNodeType,isExpanded:!1,indent:r})),i.length>0?it(Q.Fragment,null,it("li",{className:"jsx-4094013870 packager-files-heading"},"Packager files"),i.map((function(t){return e.renderChild(t,!1)}))):null,it(Y.a,{id:"4094013870"},[".tree-node-child-list.jsx-4094013870{list-style:none;}",".packager-files-heading.jsx-4094013870{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-5);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;text-align:left;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;}"])));var f=it(Q.Fragment,null,this.renderRow(),p);if(this.props.isFolder){var b=this.props,h=b.wid,v=b.pud;return it(Ze,{path:this.props.path,onDelete:function(t){var n=e.props.getTree(h,v);n[t]&&(n[t].isFolder?e.props.deleteDirectory({wid:h,pud:v,path:t}):e.props.deleteFile({wid:h,path:t}))},onMove:function(t,n,r){e.handleMove(t,n,r),e.props.setActiveNode({wid:h,pud:v,path:n})},onNewFile:function(t,n){var r=e.props.getTree(e.props.wid,e.props.pud),a=Object(x.i)(Object(x.d)(t)),i=!0,o=!1,s=void 0;try{for(var c,l=g()(a);!(i=(c=l.next()).done);i=!0){var u=c.value,d=r[u];d?d.isFolder||(e.props.deleteFile({wid:h,path:u}),e.props.createDirectory({wid:h,path:u})):e.props.createDirectory({wid:h,path:u})}}catch(w){o=!0,s=w}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}e.props.createFile({wid:h,path:t,content:n})},onHover:this.handleOnHover,getAllPaths:function(){return m()(e.props.getTree(e.props.wid,e.props.pud))}},f)}return f}}]),t}(Q.Component);var lt=function(e,t){return e===t||t.startsWith(e+"/")},ut=Object(Z.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.tree,i=n.activeNode,s=n.creatingNodeType,l=n.repl,d=n.dirs,p=r[t.path],f=se.a.getMainFileName(l.language),b=m()(r),g=Object(A.b)(b,t.path).sort((function(e,t){if(lt(e,f))return-1;if(lt(t,f))return 1;var n=r[e],a=r[t];return a.isFolder&&!n.isFolder?1:n.isFolder&&!a.isFolder?-1:e.localeCompare(t)})),v=[];r[Object(x.d)(t.path)]&&(v=Object(A.b)(b,Object(x.d)(t.path)).map(x.b));var w=l.isOwner&&se.a.supportsFiles(l.language);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ot(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},p,{childPaths:g,isActive:i===t.path,creatingNodeType:s,siblingNames:v,allowMove:w&&!lt(t.path,f)&&".env"!==t.path,allowDelete:w&&!lt(t.path,f),langMain:f,isFolderLoaded:p.isFolder&&d[t.path].loaded})}),{createDirectory:T,setExpanded:S,setActiveNode:_,setIsCreating:N,openFile:v.Y,createFile:I,deleteFile:R,deleteDirectory:function(e){return{type:"DELETE_FILE",wid:e.wid,path:e.path,changeSource:"filetree"}},moveFile:function(e){return{type:"MOVE_FILE",wid:e.wid,path:e.path,to:e.to,changeSource:"filetree"}},moveDirectory:function(e){return{type:"MOVE_FILE",wid:e.wid,path:e.path,to:e.to,changeSource:"filetree"}},initiateNodeCreation:C,getTree:function(e,t){return function(n,r){return r().workspace[e].plugins[t].state.tree}}},null,{areStatePropsEqual:function(e,t){return e.path===t.path&&(e.isExpanded===t.isExpanded&&(e.isFolder===t.isFolder&&(e.creatingNodeType===t.creatingNodeType&&(e.isActive===t.isActive&&(e.isEditing===t.isEditing&&(e.allowMove===t.allowMove&&(e.allowDelete===t.allowDelete&&(e.langMain===t.langMain&&((!e.isExpanded||e.childPaths.toString()===t.childPaths.toString())&&((!e.isEditing||e.siblingNames.toString()===t.siblingNames.toString())&&e.isFolderLoaded===t.isFolderLoaded))))))))))}})(ct),dt=ut,pt=Q.createElement,ft=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).state={folderUploadAllowed:!1,showMenu:!1,menuPosition:{left:0,top:0},showOverwriteModal:!1,overwriteFiles:[]},n.handleToggleOptions=function(){var e=!n.state.showMenu;if(!e)return n.removeCloseListener(),n.setState({showMenu:e}),void n.props.setShowMenu(e);if(n._rootRef){var t=n._rootRef.getBoundingClientRect();n.setState({showMenu:e,menuPosition:{top:t.top+37,left:t.right-100}},(function(){document.body&&n._es.listen(document.body,"mousedown",n.handleBodyClick)})),n.props.setShowMenu(e)}},n.handleBodyClick=function(e){n.removeCloseListener(),n._rootRef&&e.target instanceof window.Node&&n._rootRef.contains(e.target)||(n.setState({showMenu:!1}),n.props.setShowMenu(!1))},n.handleFilesChosen=function(e){var t,r,a,i,o,s,c,l,u,d,p;return ae.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(t=e&&e.files?e.files:null){f.next=3;break}return f.abrupt("return");case 3:return f.next=5,ae.a.awrap(Ke.a.all(Be()(t).filter(Boolean).map((function(e){return mt(e)}))));case 5:for(r=f.sent,a=[],i=!0,o=!1,s=void 0,f.prev=10,c=g()(r);!(i=(l=c.next()).done);i=!0)u=l.value,d=u.name,p=u.result,n.props.allPaths.includes(d)?a.push({path:d,content:p}):n.props.onNewFile(d,p);f.next=18;break;case 14:f.prev=14,f.t0=f.catch(10),o=!0,s=f.t0;case 18:f.prev=18,f.prev=19,i||null==c.return||c.return();case 21:if(f.prev=21,!o){f.next=24;break}throw s;case 24:return f.finish(21);case 25:return f.finish(18);case 26:a.length>0&&n.setState({showOverwriteModal:!0,overwriteFiles:a});case 27:case"end":return f.stop()}}),null,null,[[10,14,18,26],[19,,21,25]])},n.handleOverwrite=function(){var e=n.state.overwriteFiles;n.setState({showOverwriteModal:!1,overwriteFiles:[]}),e.forEach((function(e){var t=e.path,r=e.content;n.props.onDeleteFile(t),n.props.onNewFile(t,r)}))},n.removeCloseListener=function(){document.body&&document.body.removeEventListener("mousedown",n.handleBodyClick)},n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this._es=new fe.a;var e=document.createElement("input");("webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e)&&this.setState({folderUploadAllowed:!0})}},{key:"componentWillUnmount",value:function(){this._es.destroy()}},{key:"render",value:function(){var e=this,t=this.state.menuPosition;return pt("div",{ref:function(t){return e._rootRef=t},className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])},pt("div",{onClick:this.handleToggleOptions,className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-img-wrapper"},pt("div",{className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-img"},pt(me.a,null))),this.state.showMenu&&pt("div",{className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-menu"},pt("div",{onClick:function(){e._fileInput&&(e._fileInput.click(),e.handleToggleOptions())},className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-item"},"Upload file"),this.state.folderUploadAllowed&&pt("div",{onClick:function(){e._folderInput&&(e._folderInput.click(),e.handleToggleOptions())},className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-item"},"Upload folder"),pt("a",{href:this.props.downloadUrl,onClick:this.handleToggleOptions,target:"_blank",download:!0,className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-item"},"Download as zip"),pt("div",{className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-protip"},pt("span",{className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])},"PROTIP:")," drag and drop files or folders to upload!")),pt("input",{ref:function(t){return e._fileInput=t},type:"file",style:{display:"none"},onChange:this.handleFilesChosen.bind(this,this._fileInput),multiple:!0,accept:"*",className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])}),pt("input",{ref:function(t){return e._folderInput=t},type:"file",style:{display:"none"},onChange:this.handleFilesChosen.bind(this,this._folderInput),webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-1088604454 "+Y.a.dynamic([["1797909198",[t.top,t.left]]])}),this.state.showOverwriteModal&&pt(Xe,{filePaths:this.state.overwriteFiles.map((function(e){return e.path})),hideModal:function(){return e.setState({showOverwriteModal:!1,overwriteFiles:[]})},onSubmit:this.handleOverwrite}),pt(Y.a,{id:"1797909198",dynamic:[t.top,t.left]},[".file-tree-options-img-wrapper.__jsx-style-dynamic-selector:hover .file-tree-options-img.__jsx-style-dynamic-selector{color:var(--color-foreground-1);}",".file-tree-options-menu.__jsx-style-dynamic-selector{background:var(--color-background-1);color:var(--color-foreground-1);border:1px solid var(--color-control-2);}",".file-tree-options-item.__jsx-style-dynamic-selector:hover{background-color:var(--color-control-3);color:var(--color-foreground-1);}",".is-touch-device .file-tree-options-protip.__jsx-style-dynamic-selector{display:none;}",".file-tree-options-protip.__jsx-style-dynamic-selector{border-top:1px solid var(--color-foreground-3);}",".file-tree-options.menu.__jsx-style-dynamic-selector{top:".concat(t.top,"px;left:").concat(t.left,"px;}")]),pt(Y.a,{id:"1088604454"},[".file-tree-options-img-wrapper.jsx-1088604454{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--spacing-half);}",".file-tree-options-img.jsx-1088604454{height:var(--spacing-2);width:var(--spacing-2);color:var(--color-foreground-3);}",".file-tree-options-menu.jsx-1088604454{position:fixed;z-index:5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:130px;border:1px solid var(--color-control-2);background-color:var(--color-background-1);color:var(--color-foreground-1);font-size:var(--font-size-desktop-text-small);border-radius:var(--border-radius-1);outline:0;list-style:none;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".file-tree-options-item.jsx-1088604454{color:var(--color-foreground-1);padding:var(--spacing-1);margin:var(--spacing-half);border-radius:var(--border-radius-1);cursor:pointer;line-height:initial;text-align:initial;}",".file-tree-options-protip.jsx-1088604454{font-size:13px;padding:10px 5px;text-align:center;}",".file-tree-options-protip.jsx-1088604454>span.jsx-1088604454{color:var(--color-positive-1);font-weight:var(--font-weight-bold);font-size:12px;}"]))}}]),t}(Q.Component),mt=function(e){return new Ke.a((function(t,n){var r=new window.FileReader;r.onload=function(n){t({name:e.name,result:ie.a.from(n.target.result)})},r.onerror=n,r.readAsArrayBuffer(e)}))},bt=n("nnlM"),gt=Q.createElement;function ht(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var vt,xt=function(e){function t(){var e,n;Object(z.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(a)))).state={showMenu:!1},n.handleFileUploaded=function(e){var t=e.path,r=e.content,a=n.props,i=a.wid,o=a.tree;n.props.trackWsEvent({wid:i,eventKey:"WS_UPLOADED_FILE"});var s=Object(x.i)(Object(x.d)(t)),c=!0,l=!1,u=void 0;try{for(var d,p=g()(s);!(c=(d=p.next()).done);c=!0){var f=d.value,m=o[f];m?m.isFolder||(n.props.deleteFile({wid:i,path:f}),n.props.createDirectory({wid:i,path:f})):n.props.createDirectory({wid:i,path:f})}}catch(b){l=!0,u=b}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}n.props.createFile({wid:i,path:t,content:r})},n.handleNewNode=function(e){var t=n.props,r=t.wid,a=t.pud,i=t.rootPath,o=t.activeNode;n.props.initiateNodeCreation({wid:r,pud:a,nodeType:e,targetNodePath:o||i})},n.setShowMenu=function(e){return n.setState({showMenu:e})},n.handleOnScroll=ne()((function(){if(n._fileTreeNodesRef){var e=n.props,t=e.wid,r=e.pud;n.props.setTreeScrollTop({wid:t,pud:r,scrollTop:n._fileTreeNodesRef.scrollTop})}}),500),n}return Object(W.a)(t,e),Object(K.a)(t,[{key:"componentDidMount",value:function(){this.props.trackWsEvent({wid:this.props.wid,eventKey:"WS_TOGGLED_FILE_TREE"})}},{key:"componentDidUpdate",value:function(e){this._fileTreeNodesRef&&e.showDropTooltip!==this.props.showDropTooltip&&(this._fileTreeNodesRef.scrollTop=this.props.treeScrollTop)}},{key:"render",value:function(){var e=this,t=this.props.repl.isOwner&&se.a.supportsFiles(this.props.repl.language),n=t&&this.props.showDropTooltip,r={left:30,top:30};if(this._rootRef&&n){var a=this._rootRef.getBoundingClientRect();r={left:a.right+10,top:a.top+50}}return gt("div",{style:this.props.style,ref:function(t){return e._rootRef=t},className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree"},gt("div",{className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-header"},gt("div",{className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-heading"},"Files"),t&&gt("div",{className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-actions"},gt("div",{className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-add-icons"},gt("div",{onClick:this.handleNewNode.bind(this,"file"),"aria-label":"Add file","data-microtip-position":"bottom",role:"tooltip",className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-action-icon-wrapper"},gt(bt.FileAddIcon,null)),gt("div",{className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-action-seperator"}),gt("div",{onClick:this.handleNewNode.bind(this,"folder"),"aria-label":"Add folder","data-microtip-position":"bottom",role:"tooltip",className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-action-icon-wrapper"},gt(bt.FolderAddIcon,null))),gt(ft,{onNewFile:function(t,n){return e.handleFileUploaded({path:t,content:n})},onDeleteFile:function(t){e.props.deleteFile({wid:e.props.wid,path:t})},downloadUrl:this.props.downloadUrl,setShowMenu:this.setShowMenu,allPaths:m()(this.props.tree)}))),gt("div",{ref:function(t){return e._fileTreeNodesRef=t},onScroll:this.handleOnScroll,className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-nodes-wrapper"},gt(dt,{isRoot:!0,path:"",wid:this.props.wid,pud:this.props.pud})),n&&gt("div",{className:"jsx-3994547434 "+Y.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-dropzone-tooltip"},"Drop files or folders here to upload them.",gt(ee.a,{size:10,direction:"left",borderWidth:1,color:"var(--color-background-1)",borderColor:"var(--color-foreground-3)",style:{position:"absolute",top:"15px",right:"100%"}})),gt(Y.a,{id:"3994547434"},[".file-tree.jsx-3994547434{background:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".file-tree-header.jsx-3994547434{color:var(--color-foreground-1);}",".file-tree-nodes-wrapper.jsx-3994547434::-webkit-scrollbar{background-color:var(--color-background-1);width:14px;}",".file-tree-nodes-wrapper.jsx-3994547434::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".file-tree-dropzone-tooltip.jsx-3994547434{background-color:var(--color-background-1);border-top:1px solid var(--color-foreground-3);color:var(--color-foreground-1);}",".is-touch-device .file-tree-dropzone-tooltip.jsx-3994547434{display:none;}"]),gt(Y.a,{id:"3941231465",dynamic:[r.left,r.top]},[".file-tree-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--spacing-6);padding:0 var(--spacing-1) 0 var(--spacing-2);}",".file-tree-heading.__jsx-style-dynamic-selector{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);color:var(--color-foreground-1);}",".file-tree-nodes-wrapper.__jsx-style-dynamic-selector{overflow:auto;height:calc(100% - var(--spacing-6));}",".file-tree-actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".file-tree-add-icons.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;}",".file-tree-action-icon-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;color:var(--color-foreground-2);padding:0 var(--spacing-1);}",".file-tree-action-icon-wrapper.__jsx-style-dynamic-selector:hover{color:var(--color-foreground-1);}",".file-tree-action-icon.__jsx-style-dynamic-selector{width:27px;height:100%;}",".file-tree-action-seperator.__jsx-style-dynamic-selector{width:0;height:35%;border-right:1px solid var(--color-foreground-4);}",".file-tree-nodes-wrapper.__jsx-style-dynamic-selector::-webkit-scrollbar{width:5px;}",".file-tree-nodes-wrapper.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}",".file-tree-dropzone-tooltip.__jsx-style-dynamic-selector{position:fixed;left:".concat(r.left,"px;top:").concat(r.top,"px;max-width:180px;z-index:2;padding:12px;-webkit-animation:point-__jsx-style-dynamic-selector 1s ease-in-out infinite;animation:point-__jsx-style-dynamic-selector 1s ease-in-out infinite;}"),"@-webkit-keyframes point-__jsx-style-dynamic-selector{0%{margin-left:0;}50%{margin-left:10px;}100%{margin-left:0;}}","@keyframes point-__jsx-style-dynamic-selector{0%{margin-left:0;}50%{margin-left:10px;}100%{margin-left:0;}}"]))}}]),t}(Q.Component),wt=Object(Z.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ht(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},n,{rootPath:"",downloadUrl:n.repl.url+".zip"})}),{initiateNodeCreation:C,createFile:I,deleteFile:R,trackWsEvent:v.bb,setTreeScrollTop:function(e){var t=e.wid,n=e.pud,r=e.scrollTop;return{type:O,wid:t,pud:n,scrollTop:r}},createDirectory:T})(xt);var yt=function(e,t,n){switch(n.type){case v.O:return function(e){return function(t){var n=document.body;if(n){vt=new fe.a;var r=0;vt.listen(n,"dragenter",(function(n){if(1===++r){var a=n.dataTransfer;a&&Be()(a.types).includes("Files")&&(t({wid:e,type:v.x,paneType:"filetree"}),t({wid:e,type:E,show:!0}))}})),vt.listen(n,"dragleave",(function(){0===--r&&t({wid:e,type:E,show:!1})})),vt.listen(n,"drop",(function(){r=0,t({wid:e,type:E,show:!1})}))}}}(e);case v.P:return function(){vt&&vt.destroy(),vt=null};case"CREATE_FILE":case"CREATE_CLIENT_DIRECTORY":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(w.a)(r(),t,n,"filetree").tree;m()(a).length<=2||e({wid:t,type:"ADD_SIDE_NAV_ITEM",index:0,navItem:{pud:n,pluginType:"filetree",tooltip:"Files",svg:"File"}})}}({wid:e,pud:t});case"DIRECTORY_UNLOAD":return function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){Object(w.a)(a(),t,n,"filetree").tree[r].isExpanded&&e({type:"LOAD_DIRECTORY",wid:t,path:r})}}({wid:e,pud:t,path:n.path});default:return null}};n.d(t,"reducer",(function(){return kt})),n.d(t,"Component",(function(){return wt})),n.d(t,"receiver",(function(){return yt}));var kt=Object(H.a)({primary:U,repl:G.b,dirs:B.a})},h2o0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return _}));var r,a,i=n("hfKm"),o=n.n(i),s=n("2Eek"),c=n.n(s),l=n("XoMD"),u=n.n(l),d=n("Jo+v"),p=n.n(d),f=n("4mXO"),m=n.n(f),b=n("pLtp"),g=n.n(b),h=n("doui"),v=n("vYYK"),x=n("NuhN"),w=n("tSgl"),y=n.n(w),k=n("XE6U");function j(e,t){var n=g()(e);if(m.a){var r=m()(e);t&&(r=r.filter((function(t){return p()(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):u.a?c()(e,u()(n)):j(Object(n)).forEach((function(t){o()(e,t,p()(n,t))}))}return e}!function(e){e.Unloaded="UNLOADED",e.Loading="LOADING",e.Clean="CLEAN",e.Dirty="DIRTY",e.Syncing="SYNCING",e.Err="ERR"}(a||(a={}));var O=(r={},Object(v.a)(r,a.Unloaded,{FILE_UNLOAD:a.Unloaded,FILE_LOADING:a.Loading}),Object(v.a)(r,a.Loading,{FILE_UNLOAD:a.Unloaded,FILE_LOADED:a.Clean,FILE_ERROR:a.Err}),Object(v.a)(r,a.Clean,{FILE_UNLOAD:a.Unloaded,FILE_DIRTY:a.Dirty}),Object(v.a)(r,a.Dirty,{FILE_UNLOAD:a.Unloaded,FILE_SYNCING:a.Syncing,FILE_DIRTY:a.Dirty}),Object(v.a)(r,a.Syncing,{FILE_UNLOAD:a.Unloaded,FILE_CLEAN:a.Clean,FILE_DIRTY:a.Dirty,FILE_ERROR:a.Err}),Object(v.a)(r,a.Err,{FILE_UNLOAD:a.Unloaded}),r);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.path&&y()(t.path))return e;switch(t.type){case"FILE_UNLOAD":case"FILE_LOADING":case"FILE_LOADED":case"FILE_SYNCING":case"FILE_DIRTY":case"FILE_CLEAN":case"FILE_ERROR":if(Object(x.d)(e,t.path).length)return e;var n=e[t.path];if(!n)throw new k.a("unable to perform file state transition: unknown file").setExtras({currentState:n,action:t});if(!O[n])throw new k.a("unable to perform file state transition: file is in an unknown state").setExtras({currentState:n,action:t});var r=O[n][t.type];if(!r)throw new k.a("unable to perform file state transition: invalid state transition").setExtras({currentState:n,action:t});return r===n?e:E({},e,Object(v.a)({},t.path,r));case"DELETE_FILE":var i=Object(x.d)(e,t.path),o=E({},e);return i.length?i.forEach((function(e){delete o[e]})):delete o[t.path],o;case"MOVE_FILE":var s=Object(x.f)(e,t.path,t.to);if(!s.length)return e;var c=E({},e);return s.forEach((function(t){var n=Object(h.a)(t,2),r=n[0],a=n[1];delete c[r],c[a]=e[r]})),c;case"CREATE_FILE":if(e[t.path])throw new k.a("unable to perform file state transition: invalid state transition").setExtras({currentState:e[t.path],action:t});return E({},e,Object(v.a)({},t.path,t.file&&t.file.loaded?a.Clean:a.Unloaded));default:return e}}},iBZX:function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return F}));var r,a=n("kOwS"),i=n("XXOK"),o=n.n(i),s=n("MX0m"),c=n.n(s),l=n("q1tI"),u=n("dwxc"),d=n.n(u),p=l.createElement;!function(e){e.TEXT="TEXT",e.MENTION="MENTION",e.LINK="LINK",e.REPL_LINK="REPL_LINK",e.DEEP_LINK="DEEP_LINK",e.CODE="CODE",e.BOLD="BOLD",e.ITALICS="ITALICS",e.STRIKETHROUGH="STRIKETHROUGH",e.QUOTE="QUOTE"}(r||(r={}));var f=function(e){var t=e.fragment,n=e.onClick;return p(d.a,{size:"small",onClick:n},t.content)},m=function(e){var t=e.fragment,n=e.onClick;return p(d.a,{size:"small",fontWeight:"medium",onClick:n},t.content)},b=function(e){var t=e.fragment,n=e.onClick;return p("a",{href:t.url,onClick:n,rel:"noreferrer noopener nofollow",target:"_blank"},t.content)},g=function(e){var t=e.fragment,n=e.onClick;return p("a",{href:t.url,onClick:n,target:"_blank"},t.content)},h=function(e){var t=e.fragment,n=e.onClick;return p("a",{href:t.url,onClick:n},t.content)},v=function(e){var t=e.fragment,n=e.onClick,r=e.style;return p("code",{onClick:n,style:r},t.content)},x=function(e){var t=e.fragment,n=e.onClick;return p("b",{onClick:n},t.content)},w=function(e){var t=e.fragment,n=e.onClick;return p("i",{onClick:n},t.content)},y=function(e){var t=e.fragment,n=e.onClick;return p("span",{onClick:n,className:"jsx-2019770874"},t.content,p(c.a,{id:"2019770874"},["span.jsx-2019770874{-webkit-text-decoration:line-through;text-decoration:line-through;}"]))},k=function(e){var t=e.fragment,n=e.onClick;return p("blockquote",{onClick:n,className:"jsx-4042012583"},t.content,p(c.a,{id:"4042012583"},["blockquote.jsx-4042012583{border-left:2px solid var(--color-foreground-4);padding-left:6px;color:var(--color-foreground-3);}"]))},j=/(@[0-9a-zA-Z_]+)/,E=/(#[-a-zA-Z0-9@:%._+~#=/]+)/,O=/(https?:\/\/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{2,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*))/,_=/(`.+?`)/,N=/(\*\*.+?\*\*)/,S=/(_.+?_)/,C=/(\*.+?\*)/,T=/(~~.+?~~)/,I=/(^>.+?$\n?)/m,R=/\/@([0-9a-zA-Z_]+)\/(.+)/;function A(e){var t=e.url;return{type:r.LINK,url:t,content:t}}function P(e){var t=e.hash;return{type:r.DEEP_LINK,url:t,content:t}}function L(e,t){if(O.test(e)){var n=new window.URL(e);return["repl.it",document.location.host].includes(n.host)?n.pathname===t.replUrl?P({hash:n.hash}):R.test(n.pathname)?function(e){var t=e.url,n=R.exec(t.pathname);if(!n)throw new Error("Not a repl URL");return{type:r.REPL_LINK,url:t.href,content:"@".concat(n[1],"/").concat(n[2]).concat(t.hash)}}({url:n}):A({url:e}):A({url:e})}if(E.test(e))return P({hash:e});if(I.test(e))return function(e){var t=e.text;return{type:r.QUOTE,content:t}}({text:e.slice(1).trim()});if(_.test(e))return function(e){var t=e.code;return{type:r.CODE,content:t}}({code:e.slice(1,-1)});if(N.test(e))return function(e){var t=e.text;return{type:r.BOLD,content:t}}({text:e.slice(2,-2)});if(S.test(e)||C.test(e))return function(e){var t=e.text;return{type:r.ITALICS,content:t}}({text:e.slice(1,-1)});if(T.test(e))return function(e){var t=e.text;return{type:r.STRIKETHROUGH,content:t}}({text:e.slice(2,-2)});if(j.test(e)){var a=e.slice(1);if(!t.users||t.users.includes(a))return function(e){var t=e.username;return{type:r.MENTION,username:t,content:"@".concat(t)}}({username:a})}return{content:e,type:r.TEXT}}var D=new RegExp([_.source,N.source,S.source,C.source,T.source,O.source,j.source,E.source,I.source].join("|"),"m");function M(e,t){var n=e.split(D),a=[],i=[],s=!0,c=!1,l=void 0;try{for(var u,d=o()(n);!(s=(u=d.next()).done);s=!0){var p=u.value;if(p){var f=L(p,t);if(f){if(f.type===r.MENTION){if(!f.username)continue;a.push(f.username)}i.push(f)}}}}catch(m){c=!0,l=m}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return{tokens:i,mentions:a}}function F(e){var t=e.message,n=e.onMentionClick,i=void 0===n?function(){}:n,o=e.codeStyles,s=void 0===o?{}:o;return p(l.Fragment,null,t.tokens.map((function(e,t){var n={fragment:e,key:t};return e.type===r.MENTION?p(m,Object(a.a)({},n,{onClick:function(){return i(e)}})):e.type===r.LINK?p(b,n):e.type===r.REPL_LINK?p(g,n):e.type===r.DEEP_LINK?p(h,n):e.type===r.CODE?p(v,Object(a.a)({},n,{style:s})):e.type===r.BOLD?p(x,n):e.type===r.ITALICS?p(w,n):e.type===r.STRIKETHROUGH?p(y,n):e.type===r.QUOTE?p(k,n):p(f,n)})))}},icXl:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("0gYX"),a=n.n(r),i=n("8v8i"),o=n("8/ze"),s=n("JOwT");function c(e){return function(t){var n=t.path,r=t.children,c=n===o.a?r.filter((function(e){return!s.a.includes(e.filename)})):r,l=a.a.getMainFileName(e);return c.sort((function(e,t){return n===o.a&&e.filename===l?-1:n===o.a&&t.filename===l?1:t.type===i.b.Directory&&e.type!==i.b.Directory?1:e.type===i.b.Directory&&t.type!==i.b.Directory?-1:e.filename.localeCompare(t.filename)}))}}},jA2l:function(e,t,n){"use strict";var r=n("aKzv"),a=n("PPjH"),i=n("wSlI"),o=n("dOW7"),s=n("oQVV"),c=n("pdp2"),l=n("dKk1"),u=n("QZfq");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=["canDrop","hover","drop"],f=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,Object(l.b)(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&d(t.prototype,n),r&&d(t,r),e}();function m(e,t,n){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(l.a)("DropTarget","type, spec, collect[, options]",e,t,n,d);var m=e;"function"!==typeof e&&(Object(r.a)(Object(o.a)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),m=function(){return e}),Object(r.a)(Object(a.b)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var b=function(e){return Object.keys(e).forEach((function(t){Object(r.a)(p.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',p.join(", "),t),Object(r.a)("function"===typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new f(e,t,n)}}(t);return Object(r.a)("function"===typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),Object(r.a)(Object(a.b)(d),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return Object(u.a)({containerDisplayName:"DropTarget",createHandler:b,registerHandler:i.b,createMonitor:function(e){return new c.a(e)},createConnector:function(e){return new s.a(e)},DecoratedComponent:e,getType:m,collect:n,options:d})}}n.d(t,"a",(function(){return m}))},jkD3:function(e,t,n){"use strict";var r=n("aKzv"),a=n("PPjH"),i=n("dKk1"),o=n("QZfq"),s=n("wSlI"),c=n("bO3s"),l=n("bAlF"),u=n("dOW7");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=["canDrag","beginDrag","isDragging","endDrag"],f=["beginDrag"],m=function(){function e(t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(a.props)return a.spec.beginDrag(a.props,a.monitor,a.ref.current)},this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Object(i.b)(this.ref))}}])&&d(t.prototype,n),r&&d(t,r),e}();function b(e,t,n){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(i.a)("DragSource","type, spec, collect[, options]",e,t,n,d);var b=e;"function"!==typeof e&&(Object(r.a)(Object(u.a)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),b=function(){return e}),Object(r.a)(Object(a.b)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var g=function(e){return Object.keys(e).forEach((function(t){Object(r.a)(p.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',p.join(", "),t),Object(r.a)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),f.forEach((function(t){Object(r.a)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new m(e,t,n)}}(t);return Object(r.a)("function"===typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),Object(r.a)(Object(a.b)(d),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return Object(o.a)({containerDisplayName:"DragSource",createHandler:g,registerHandler:s.a,createConnector:function(e){return new l.a(e)},createMonitor:function(e){return new c.a(e)},DecoratedComponent:e,getType:b,collect:n,options:d})}}n.d(t,"a",(function(){return b}))},kDUs:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,a,i=n("kOwS"),o=n("vYYK"),s=n("MX0m"),c=n.n(s),l=n("q1tI"),u=n("TSYQ"),d=n.n(u),p=n("dwxc"),f=n.n(p),m=n("B8Pz"),b=n.n(m),g=n("M85P"),h=l.createElement;!function(e){e.AddFile="AddFile",e.AddFolder="AddFolder",e.UploadFile="UploadFile",e.UploadFolder="UploadFolder",e.DownloadZip="DownloadZip",e.OpenTab="OpenTab",e.CopyLink="CopyLink",e.Rename="Rename",e.Delete="Delete"}(a||(a={}));var v=(r={},Object(o.a)(r,a.AddFile,"Add file"),Object(o.a)(r,a.AddFolder,"Add folder"),Object(o.a)(r,a.UploadFile,"Upload file"),Object(o.a)(r,a.UploadFolder,"Upload folder"),Object(o.a)(r,a.DownloadZip,"Download as zip"),Object(o.a)(r,a.OpenTab,"Open tab"),Object(o.a)(r,a.CopyLink,"Copy link"),Object(o.a)(r,a.Rename,"Rename"),Object(o.a)(r,a.Delete,"Delete"),r);function x(e){var t=e.isNegative,n=e.isHighlighted,r=e.children;return h("div",{className:"jsx-579792646 "+(d()({"is-negative":t,"is-highlighted":n})||"")},h(f.a,{size:"small"},r),h(c.a,{id:"579792646"},["div.jsx-579792646{padding:var(--spacing-1);cursor:pointer;color:var(--dropdown-item-text-color);white-space:nowrap;}","div.jsx-579792646:hover{cursor:pointer;}",".is-highlighted.jsx-579792646{background-color:var(--color-control-3);}",".is-negative.jsx-579792646 *{color:var(--color-negative-1) !important;}",".is-negative.jsx-579792646:hover{background-color:var(--color-negative-1);}",".is-negative.jsx-579792646:hover *{color:var(--color-white) !important;}"]))}t.b=l.forwardRef((function(e,t){var n=e.isActive,r=e.actions,o=e.onAction,s=e.onOpenChange,u=Object(g.useSelect)({items:r,onSelectedItemChange:function(e){var t=e.selectedItem;t&&(o(t),k())}}),d=u.isOpen,p=u.getToggleButtonProps,f=u.getMenuProps,m=u.highlightedIndex,w=u.getItemProps,y=u.openMenu,k=u.reset;return l.useImperativeHandle(t,(function(){return{open:y}})),l.useEffect((function(){s&&s(d)}),[d,s]),h("div",{className:c.a.dynamic([["3699483112",[n?"var(--color-white)":"var(--color-foreground-3)",n?"auto":"var(--color-foreground-1)"]]])+" node-actions-menu"},h("button",Object(i.a)({},p(),{className:c.a.dynamic([["3699483112",[n?"var(--color-white)":"var(--color-foreground-3)",n?"auto":"var(--color-foreground-1)"]]])}),h(b.a,{size:"large"})),d?h("ul",Object(i.a)({},f(),{className:c.a.dynamic([["3699483112",[n?"var(--color-white)":"var(--color-foreground-3)",n?"auto":"var(--color-foreground-1)"]]])}),r.map((function(e,t){return h("li",Object(i.a)({key:e},w({item:e,onClick:function(e){return e.stopPropagation()}}),{className:c.a.dynamic([["3699483112",[n?"var(--color-white)":"var(--color-foreground-3)",n?"auto":"var(--color-foreground-1)"]]])}),h(x,{isHighlighted:m===t,isNegative:e===a.Delete},v[e]))}))):null,h(c.a,{id:"3699483112",dynamic:[n?"var(--color-white)":"var(--color-foreground-3)",n?"auto":"var(--color-foreground-1)"]},[".node-actions-menu.__jsx-style-dynamic-selector{position:relative;width:20px;height:100%;}","button.__jsx-style-dynamic-selector{top:0;width:100%;height:100%;display:block;background-color:transparent;border:0 none;cursor:pointer;color:".concat(n?"var(--color-white)":"var(--color-foreground-3)",";border-radius:var(--border-radius-1);}"),"button.__jsx-style-dynamic-selector:hover{color:".concat(n?"auto":"var(--color-foreground-1)",";}"),"button.__jsx-style-dynamic-selector:focus{outline:none;}","ul.__jsx-style-dynamic-selector{width:130px;padding:var(--spacing-half) 0;background-color:var(--color-background-2);border:1px solid var(--dropdown-border-color);border-radius:5px;list-style:none;position:absolute;right:var(--spacing-1);top:calc(100% - var(--spacing-1));z-index:1;}","ul.__jsx-style-dynamic-selector:focus{outline:none;box-shadow:0 0 2.5px var(--dropdown-border-color) inset;}"]))}))},lD74:function(e,t,n){"use strict";var r=n("HPWZ");n.o(r,"DragSource")&&n.d(t,"DragSource",(function(){return r.DragSource})),n.o(r,"DropTarget")&&n.d(t,"DropTarget",(function(){return r.DropTarget}));var a=n("BBm8");n.o(a,"DragSource")&&n.d(t,"DragSource",(function(){return a.DragSource})),n.o(a,"DropTarget")&&n.d(t,"DropTarget",(function(){return a.DropTarget}));var i=n("+vnL");n.o(i,"DragSource")&&n.d(t,"DragSource",(function(){return i.DragSource})),n.o(i,"DropTarget")&&n.d(t,"DropTarget",(function(){return i.DropTarget}));var o=n("3oNi");n.o(o,"DragSource")&&n.d(t,"DragSource",(function(){return o.DragSource})),n.o(o,"DropTarget")&&n.d(t,"DropTarget",(function(){return o.DropTarget}))},liZS:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return D})),n.d(t,"reducer",(function(){return R})),n.d(t,"receiver",(function(){return P}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("doui"),g=n("vYYK"),h=n("MX0m"),v=n.n(h),x=n("UO7Q"),w=n("q1tI"),y=n("1lQF"),k=n("tZOq"),j=n("vISQ"),E=n("3TIX"),O=n("/MKj"),_=n("FzLU"),N=n("h7rM"),S=n("VoYB"),C=n("7lhO"),T=w.createElement;function I(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{renderIframe:!1,canBeClosed:!1,autoReload:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.o:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):c.a?o()(e,c()(n)):I(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},e,{},t.initialState);default:return e}}var A=Object(y.a)(["REFRESH_WEBVIEW","EVAL_ENDED","FILE_CLEAN"]),P=A.receiver,L=A.useReceiver;function D(e){var t=e.wid,n=e.pud,r=Object(O.e)(),a=Object(C.a)(),i=Object(N.b)(t,n,"webview"),o=Object(b.a)(i,1)[0],s=o.canBeClosed,c=o.renderIframe,l=o.autoReload,u=Object(k.jd)({variables:{id:a}}),d=u.data,p=u.loading,f=Object(k.kd)(),m=Object(b.a)(f,2),g=m[0],h=m[1],y=Object(S.a)().showError;w.useEffect((function(){h.error&&y(h.error)}),[h.error,y]),w.useEffect((function(){if(h.data){var e=h.data.updateRepl.repl.config;r({wid:t,type:"REPL_UPDATED",updates:{config:e}})}}),[h.data,r,t]);var I=w.useRef(null),R=w.useRef(null),A=function(){I.current&&(I.current.src+="")};if(L((function(e){switch(e.action.type){case"EVAL_ENDED":case"REFRESH_WEBVIEW":A();break;case"FILE_CLEAN":l&&A()}return null})),w.useEffect((function(){R.current&&r({wid:t,type:E.N,webviewHandle:_.a.getHandle(R.current)})}),[r,t,d]),p)return null;if("Repl"===(null===d||void 0===d?void 0:d.repl.__typename)){var P=d.repl;return T("div",{className:"jsx-1748090368 webview"},T(j.a,{canEditDomain:P.currentUserPermissions.linkDomain,anon:P.devUrl.includes("--five-nine.repl.co"),url:P.config.domain?"https://".concat(P.config.domain):P.prodUrl,trackUrlSelect:function(){r(Object(E.bb)({wid:t,eventKey:"WEB_HOSTING_URL_SELECTED",properties:{url:P.devUrl},trackOnce:!0}))},replId:a,onRefresh:A,canBeClosed:s,closeCallback:function(){g({variables:{input:{id:a,isServer:!1}}}),r(function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].layout,i=x.j(a,n),o=i.path,s=i.to;e(Object(E.cb)({wid:t,path:o,to:s,property:null})),e(Object(E.ab)({wid:t})),e({type:"UNLOAD_PLUGIN",wid:t,pud:n})}}({wid:t,pud:n}))}}),T("div",{ref:R,className:"jsx-1748090368 webview-wrapper"},c?T("iframe",{sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",ref:I,src:P.devUrl,className:"jsx-1748090368 webview-iframe"}):null),T(v.a,{id:"1748090368"},[".webview.jsx-1748090368{display:grid;grid-template-rows:auto 1fr;background-color:var(--color-background-1);height:100%;border-radius:var(--border-radius-1);}",".webview-wrapper.jsx-1748090368 iframe{width:100%;height:100%;border:none;display:block;background-color:var(--color-white);border-bottom-left-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);}"]))}return null}},mEHV:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return u}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("FzLU"),s=n("3TIX"),c=n("/MKj"),l=i.createElement;function u(e){var t=Object(c.e)(),n=i.useRef(null);return i.useEffect((function(){n.current&&t({type:s.N,wid:e.wid,webviewHandle:o.a.getHandle(n.current)})}),[t,e.wid]),l("div",{className:"jsx-2644784323 replbox-display"},l(a.a,{id:"2644784323"},[".replbox-display.jsx-2644784323,.iframe-container.jsx-2644784323{height:100%;width:100%;border-radius:var(--border-radius-1);}",".iframe-container.jsx-2644784323 iframe{background:white;width:100%;height:100%;border:none;display:block;border-radius:var(--border-radius-1);}"]),l("div",{ref:n,className:"jsx-2644784323 iframe-container"}))}},mLbZ:function(e,t){e.exports=function(){function e(e,t,n,r,a,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=a,this.column=i,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},a={},i={start:Pt},o=Pt,s=function(){return fn},c=a,l="#",u={type:"literal",value:"#",description:'"#"'},d=void 0,p={type:"any",description:"any character"},f="[",m={type:"literal",value:"[",description:'"["'},b="]",g={type:"literal",value:"]",description:'"]"'},h=function(e){mn(bn("ObjectPath",e,Ct,Tt))},v=function(e){mn(bn("ArrayPath",e,Ct,Tt))},x=function(e,t){return e.concat(t)},w=function(e){return[e]},y=function(e){return e},k=".",j={type:"literal",value:".",description:'"."'},E="=",O={type:"literal",value:"=",description:'"="'},_=function(e,t){mn(bn("Assign",t,Ct,Tt,e))},N=function(e){return e.join("")},S=function(e){return e.value},C='"""',T={type:"literal",value:'"""',description:'"\\"\\"\\""'},I=null,R=function(e){return bn("String",e.join(""),Ct,Tt)},A='"',P={type:"literal",value:'"',description:'"\\""'},L="'''",D={type:"literal",value:"'''",description:"\"'''\""},M="'",F={type:"literal",value:"'",description:'"\'"'},U=function(e){return e},H=function(e){return e},G="\\",B={type:"literal",value:"\\",description:'"\\\\"'},z=function(){return""},K="e",V={type:"literal",value:"e",description:'"e"'},q="E",W={type:"literal",value:"E",description:'"E"'},X=function(e,t){return bn("Float",parseFloat(e+"e"+t),Ct,Tt)},Y=function(e){return bn("Float",parseFloat(e),Ct,Tt)},Q="+",J={type:"literal",value:"+",description:'"+"'},Z=function(e){return e.join("")},$="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},ne=function(e){return bn("Integer",parseInt(e,10),Ct,Tt)},re="true",ae={type:"literal",value:"true",description:'"true"'},ie=function(){return bn("Boolean",!0,Ct,Tt)},oe="false",se={type:"literal",value:"false",description:'"false"'},ce=function(){return bn("Boolean",!1,Ct,Tt)},le=function(){return bn("Array",[],Ct,Tt)},ue=function(e){return bn("Array",e?[e]:[],Ct,Tt)},de=function(e){return bn("Array",e,Ct,Tt)},pe=function(e,t){return bn("Array",e.concat(t),Ct,Tt)},fe=function(e){return e},me=",",be={type:"literal",value:",",description:'","'},ge="{",he={type:"literal",value:"{",description:'"{"'},ve="}",xe={type:"literal",value:"}",description:'"}"'},we=function(e){return bn("InlineTable",e,Ct,Tt)},ye=function(e,t){return bn("InlineTableValue",t,Ct,Tt,e)},ke=function(e){return"."+e},je=function(e){return e.join("")},Ee=":",Oe={type:"literal",value:":",description:'":"'},_e=function(e){return e.join("")},Ne="T",Se={type:"literal",value:"T",description:'"T"'},Ce="Z",Te={type:"literal",value:"Z",description:'"Z"'},Ie=function(e,t){return bn("Date",new Date(e+"T"+t+"Z"),Ct,Tt)},Re=function(e,t){return bn("Date",new Date(e+"T"+t),Ct,Tt)},Ae=/^[ \t]/,Pe={type:"class",value:"[ \\t]",description:"[ \\t]"},Le="\n",De={type:"literal",value:"\n",description:'"\\n"'},Me="\r",Fe={type:"literal",value:"\r",description:'"\\r"'},Ue=/^[0-9a-f]/i,He={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Ge=/^[0-9]/,Be={type:"class",value:"[0-9]",description:"[0-9]"},ze="_",Ke={type:"literal",value:"_",description:'"_"'},Ve=function(){return""},qe=/^[A-Za-z0-9_\-]/,We={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Xe=function(e){return e.join("")},Ye='\\"',Qe={type:"literal",value:'\\"',description:'"\\\\\\""'},Je=function(){return'"'},Ze="\\\\",$e={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",nt={type:"literal",value:"\\b",description:'"\\\\b"'},rt=function(){return"\b"},at="\\t",it={type:"literal",value:"\\t",description:'"\\\\t"'},ot=function(){return"\t"},st="\\n",ct={type:"literal",value:"\\n",description:'"\\\\n"'},lt=function(){return"\n"},ut="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},pt=function(){return"\f"},ft="\\r",mt={type:"literal",value:"\\r",description:'"\\\\r"'},bt=function(){return"\r"},gt="\\U",ht={type:"literal",value:"\\U",description:'"\\\\U"'},vt=function(e){return function(e,t,n){var r=parseInt("0x"+e);if(!(!isFinite(r)||Math.floor(r)!=r||r<0||r>1114111||r>55295&&r<57344))return function(){var e,t,n=[],r=-1,a=arguments.length;if(!a)return"";var i="";for(;++r<a;){var o=Number(arguments[r]);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(r+1==a||n.length>16384)&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i}(r);!function(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}("Invalid Unicode escape code: "+e,t,n)}(e.join(""))},xt="\\u",wt={type:"literal",value:"\\u",description:'"\\\\u"'},yt=0,kt=0,jt=0,Et={line:1,column:1,seenCR:!1},Ot=0,_t=[],Nt=0,St={};if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=i[r.startRule]}function Ct(){return It(kt).line}function Tt(){return It(kt).column}function It(e){return jt!==e&&(jt>e&&(jt=0,Et={line:1,column:1,seenCR:!1}),function(e,n,r){var a,i;for(a=n;a<r;a++)"\n"===(i=t.charAt(a))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(Et,jt,e),jt=e),Et}function Rt(e){yt<Ot||(yt>Ot&&(Ot=yt,_t=[]),_t.push(e))}function At(n,r,a){var i=It(a),o=a<t.length?t.charAt(a):null;return null!==r&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(r,o),r,o,a,i.line,i.column)}function Pt(){var e,t,n,r=49*yt+0,i=St[r];if(i)return yt=i.nextPos,i.result;for(e=yt,t=[],n=Lt();n!==a;)t.push(n),n=Lt();return t!==a&&(kt=e,t=s()),e=t,St[r]={nextPos:yt,result:e},e}function Lt(){var e,n,r,i,o,s,l,u=49*yt+1,d=St[u];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=function(){var e,n=49*yt+2,r=St[n];if(r)return yt=r.nextPos,r.result;(e=Dt())===a&&(e=function(){var e,n,r,i,o,s,l=49*yt+4,u=St[l];if(u)return yt=u.nextPos,u.result;e=yt,91===t.charCodeAt(yt)?(n=f,yt++):(n=a,0===Nt&&Rt(m));if(n!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a)if((i=Mt())!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a?(93===t.charCodeAt(yt)?(s=b,yt++):(s=a,0===Nt&&Rt(g)),s!==a?(kt=e,n=h(i),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;return St[l]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s,l,u,d=49*yt+5,p=St[d];if(p)return yt=p.nextPos,p.result;e=yt,91===t.charCodeAt(yt)?(n=f,yt++):(n=a,0===Nt&&Rt(m));if(n!==a)if(91===t.charCodeAt(yt)?(r=f,yt++):(r=a,0===Nt&&Rt(m)),r!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if((o=Mt())!==a){for(s=[],l=rn();l!==a;)s.push(l),l=rn();s!==a?(93===t.charCodeAt(yt)?(l=b,yt++):(l=a,0===Nt&&Rt(g)),l!==a?(93===t.charCodeAt(yt)?(u=b,yt++):(u=a,0===Nt&&Rt(g)),u!==a?(kt=e,n=v(o),e=n):(yt=e,e=c)):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c;return St[d]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s,l=49*yt+9,u=St[l];if(u)return yt=u.nextPos,u.result;if(e=yt,(n=Ht())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a)if(61===t.charCodeAt(yt)?(i=E,yt++):(i=a,0===Nt&&Rt(O)),i!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a&&(s=Bt())!==a?(kt=e,n=_(n,s),e=n):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;if(e===a)if(e=yt,(n=Gt())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a)if(61===t.charCodeAt(yt)?(i=E,yt++):(i=a,0===Nt&&Rt(O)),i!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a&&(s=Bt())!==a?(kt=e,n=_(n,s),e=n):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;return St[l]={nextPos:yt,result:e},e}());return St[n]={nextPos:yt,result:e},e}())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a){for(o=[],s=Dt();s!==a;)o.push(s),s=Dt();if(o!==a){if(s=[],(l=an())!==a)for(;l!==a;)s.push(l),l=an();else s=c;s===a&&(s=sn()),s!==a?e=n=[n,r,i,o,s]:(yt=e,e=c)}else yt=e,e=c}else yt=e,e=c}else yt=e,e=c;else yt=e,e=c;if(e===a){if(e=yt,n=[],(r=rn())!==a)for(;r!==a;)n.push(r),r=rn();else n=c;if(n!==a){if(r=[],(i=an())!==a)for(;i!==a;)r.push(i),i=an();else r=c;r===a&&(r=sn()),r!==a?e=n=[n,r]:(yt=e,e=c)}else yt=e,e=c;e===a&&(e=an())}return St[u]={nextPos:yt,result:e},e}function Dt(){var e,n,r,i,o,s,f=49*yt+3,m=St[f];if(m)return yt=m.nextPos,m.result;if(e=yt,35===t.charCodeAt(yt)?(n=l,yt++):(n=a,0===Nt&&Rt(u)),n!==a){for(r=[],i=yt,o=yt,Nt++,(s=an())===a&&(s=sn()),Nt--,s===a?o=d:(yt=o,o=c),o!==a?(t.length>yt?(s=t.charAt(yt),yt++):(s=a,0===Nt&&Rt(p)),s!==a?i=o=[o,s]:(yt=i,i=c)):(yt=i,i=c);i!==a;)r.push(i),i=yt,o=yt,Nt++,(s=an())===a&&(s=sn()),Nt--,s===a?o=d:(yt=o,o=c),o!==a?(t.length>yt?(s=t.charAt(yt),yt++):(s=a,0===Nt&&Rt(p)),s!==a?i=o=[o,s]:(yt=i,i=c)):(yt=i,i=c);r!==a?e=n=[n,r]:(yt=e,e=c)}else yt=e,e=c;return St[f]={nextPos:yt,result:e},e}function Mt(){var e,t,n,r=49*yt+6,i=St[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=Ut())!==a)for(;n!==a;)t.push(n),n=Ut();else t=c;return t!==a&&(n=Ft())!==a?(kt=e,e=t=x(t,n)):(yt=e,e=c),e===a&&(e=yt,(t=Ft())!==a&&(kt=e,t=w(t)),e=t),St[r]={nextPos:yt,result:e},e}function Ft(){var e,t,n,r,i,o=49*yt+7,s=St[o];if(s)return yt=s.nextPos,s.result;for(e=yt,t=[],n=rn();n!==a;)t.push(n),n=rn();if(t!==a)if((n=Ht())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();r!==a?(kt=e,e=t=y(n)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c;if(e===a){for(e=yt,t=[],n=rn();n!==a;)t.push(n),n=rn();if(t!==a)if((n=Gt())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();r!==a?(kt=e,e=t=y(n)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}return St[o]={nextPos:yt,result:e},e}function Ut(){var e,n,r,i,o,s,l,u=49*yt+8,d=St[u];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ht())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(46===t.charCodeAt(yt)?(o=k,yt++):(o=a,0===Nt&&Rt(j)),o!==a){for(s=[],l=rn();l!==a;)s.push(l),l=rn();s!==a?(kt=e,e=n=y(r)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c;if(e===a){for(e=yt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Gt())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(46===t.charCodeAt(yt)?(o=k,yt++):(o=a,0===Nt&&Rt(j)),o!==a){for(s=[],l=rn();l!==a;)s.push(l),l=rn();s!==a?(kt=e,e=n=y(r)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c}return St[u]={nextPos:yt,result:e},e}function Ht(){var e,t,n,r=49*yt+10,i=St[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=un())!==a)for(;n!==a;)t.push(n),n=un();else t=c;return t!==a&&(kt=e,t=N(t)),e=t,St[r]={nextPos:yt,result:e},e}function Gt(){var e,t,n=49*yt+11,r=St[n];return r?(yt=r.nextPos,r.result):(e=yt,(t=zt())!==a&&(kt=e,t=S(t)),(e=t)===a&&(e=yt,(t=Kt())!==a&&(kt=e,t=S(t)),e=t),St[n]={nextPos:yt,result:e},e)}function Bt(){var e,n=49*yt+12,r=St[n];return r?(yt=r.nextPos,r.result):((e=function(){var e,n=49*yt+13,r=St[n];if(r)return yt=r.nextPos,r.result;(e=function(){var e,n,r,i,o,s=49*yt+14,l=St[s];if(l)return yt=l.nextPos,l.result;e=yt,t.substr(yt,3)===C?(n=C,yt+=3):(n=a,0===Nt&&Rt(T));if(n!==a)if((r=an())===a&&(r=I),r!==a){for(i=[],o=Wt();o!==a;)i.push(o),o=Wt();i!==a?(t.substr(yt,3)===C?(o=C,yt+=3):(o=a,0===Nt&&Rt(T)),o!==a?(kt=e,n=R(i),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c;return St[s]={nextPos:yt,result:e},e}())===a&&(e=zt())===a&&(e=function(){var e,n,r,i,o,s=49*yt+16,l=St[s];if(l)return yt=l.nextPos,l.result;e=yt,t.substr(yt,3)===L?(n=L,yt+=3):(n=a,0===Nt&&Rt(D));if(n!==a)if((r=an())===a&&(r=I),r!==a){for(i=[],o=Xt();o!==a;)i.push(o),o=Xt();i!==a?(t.substr(yt,3)===L?(o=L,yt+=3):(o=a,0===Nt&&Rt(D)),o!==a?(kt=e,n=R(i),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c;return St[s]={nextPos:yt,result:e},e}())===a&&(e=Kt());return St[n]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s=49*yt+38,l=St[s];if(l)return yt=l.nextPos,l.result;e=yt,(n=nn())!==a?(84===t.charCodeAt(yt)?(r=Ne,yt++):(r=a,0===Nt&&Rt(Se)),r!==a&&(i=function(){var e,n,r,i,o,s,l,u,d,p,f,m=49*yt+36,b=St[m];if(b)return yt=b.nextPos,b.result;e=yt,n=yt,(r=ln())!==a&&(i=ln())!==a?(58===t.charCodeAt(yt)?(o=Ee,yt++):(o=a,0===Nt&&Rt(Oe)),o!==a&&(s=ln())!==a&&(l=ln())!==a?(58===t.charCodeAt(yt)?(u=Ee,yt++):(u=a,0===Nt&&Rt(Oe)),u!==a&&(d=ln())!==a&&(p=ln())!==a?((f=tn())===a&&(f=I),f!==a?n=r=[r,i,o,s,l,u,d,p,f]:(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c);n!==a&&(kt=e,n=_e(n));return e=n,St[m]={nextPos:yt,result:e},e}())!==a?(90===t.charCodeAt(yt)?(o=Ce,yt++):(o=a,0===Nt&&Rt(Te)),o!==a?(kt=e,n=Ie(n,i),e=n):(yt=e,e=c)):(yt=e,e=c)):(yt=e,e=c);e===a&&(e=yt,(n=nn())!==a?(84===t.charCodeAt(yt)?(r=Ne,yt++):(r=a,0===Nt&&Rt(Se)),r!==a&&(i=function(){var e,n,r,i,o,s,l,u,d,p,f,m,b,g,h,v,x,w=49*yt+37,y=St[w];if(y)return yt=y.nextPos,y.result;e=yt,n=yt,(r=ln())!==a&&(i=ln())!==a?(58===t.charCodeAt(yt)?(o=Ee,yt++):(o=a,0===Nt&&Rt(Oe)),o!==a&&(s=ln())!==a&&(l=ln())!==a?(58===t.charCodeAt(yt)?(u=Ee,yt++):(u=a,0===Nt&&Rt(Oe)),u!==a&&(d=ln())!==a&&(p=ln())!==a?((f=tn())===a&&(f=I),f!==a?(45===t.charCodeAt(yt)?(m=$,yt++):(m=a,0===Nt&&Rt(ee)),m===a&&(43===t.charCodeAt(yt)?(m=Q,yt++):(m=a,0===Nt&&Rt(J))),m!==a&&(b=ln())!==a&&(g=ln())!==a?(58===t.charCodeAt(yt)?(h=Ee,yt++):(h=a,0===Nt&&Rt(Oe)),h!==a&&(v=ln())!==a&&(x=ln())!==a?n=r=[r,i,o,s,l,u,d,p,f,m,b,g,h,v,x]:(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c);n!==a&&(kt=e,n=_e(n));return e=n,St[w]={nextPos:yt,result:e},e}())!==a?(kt=e,n=Re(n,i),e=n):(yt=e,e=c)):(yt=e,e=c));return St[s]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r,i,o=49*yt+23,s=St[o];if(s)return yt=s.nextPos,s.result;e=yt,(n=Yt())===a&&(n=Qt());n!==a?(101===t.charCodeAt(yt)?(r=K,yt++):(r=a,0===Nt&&Rt(V)),r===a&&(69===t.charCodeAt(yt)?(r=q,yt++):(r=a,0===Nt&&Rt(W))),r!==a&&(i=Qt())!==a?(kt=e,n=X(n,i),e=n):(yt=e,e=c)):(yt=e,e=c);e===a&&(e=yt,(n=Yt())!==a&&(kt=e,n=Y(n)),e=n);return St[o]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,t,n=49*yt+25,r=St[n];if(r)return yt=r.nextPos,r.result;e=yt,(t=Qt())!==a&&(kt=e,t=ne(t));return e=t,St[n]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r=49*yt+27,i=St[r];if(i)return yt=i.nextPos,i.result;e=yt,t.substr(yt,4)===re?(n=re,yt+=4):(n=a,0===Nt&&Rt(ae));n!==a&&(kt=e,n=ie());(e=n)===a&&(e=yt,t.substr(yt,5)===oe?(n=oe,yt+=5):(n=a,0===Nt&&Rt(se)),n!==a&&(kt=e,n=ce()),e=n);return St[r]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s=49*yt+28,l=St[s];if(l)return yt=l.nextPos,l.result;e=yt,91===t.charCodeAt(yt)?(n=f,yt++):(n=a,0===Nt&&Rt(m));if(n!==a){for(r=[],i=$t();i!==a;)r.push(i),i=$t();r!==a?(93===t.charCodeAt(yt)?(i=b,yt++):(i=a,0===Nt&&Rt(g)),i!==a?(kt=e,n=le(),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;if(e===a&&(e=yt,91===t.charCodeAt(yt)?(n=f,yt++):(n=a,0===Nt&&Rt(m)),n!==a?((r=Jt())===a&&(r=I),r!==a?(93===t.charCodeAt(yt)?(i=b,yt++):(i=a,0===Nt&&Rt(g)),i!==a?(kt=e,n=ue(r),e=n):(yt=e,e=c)):(yt=e,e=c)):(yt=e,e=c),e===a)){if(e=yt,91===t.charCodeAt(yt)?(n=f,yt++):(n=a,0===Nt&&Rt(m)),n!==a){if(r=[],(i=Zt())!==a)for(;i!==a;)r.push(i),i=Zt();else r=c;r!==a?(93===t.charCodeAt(yt)?(i=b,yt++):(i=a,0===Nt&&Rt(g)),i!==a?(kt=e,n=de(r),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;if(e===a)if(e=yt,91===t.charCodeAt(yt)?(n=f,yt++):(n=a,0===Nt&&Rt(m)),n!==a){if(r=[],(i=Zt())!==a)for(;i!==a;)r.push(i),i=Zt();else r=c;r!==a&&(i=Jt())!==a?(93===t.charCodeAt(yt)?(o=b,yt++):(o=a,0===Nt&&Rt(g)),o!==a?(kt=e,n=pe(r,i),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c}return St[s]={nextPos:yt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s,l=49*yt+32,u=St[l];if(u)return yt=u.nextPos,u.result;e=yt,123===t.charCodeAt(yt)?(n=ge,yt++):(n=a,0===Nt&&Rt(he));if(n!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a){for(i=[],o=en();o!==a;)i.push(o),o=en();if(i!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a?(125===t.charCodeAt(yt)?(s=ve,yt++):(s=a,0===Nt&&Rt(xe)),s!==a?(kt=e,n=we(i),e=n):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c}else yt=e,e=c}else yt=e,e=c;return St[l]={nextPos:yt,result:e},e}()),St[n]={nextPos:yt,result:e},e)}function zt(){var e,n,r,i,o=49*yt+15,s=St[o];if(s)return yt=s.nextPos,s.result;if(e=yt,34===t.charCodeAt(yt)?(n=A,yt++):(n=a,0===Nt&&Rt(P)),n!==a){for(r=[],i=Vt();i!==a;)r.push(i),i=Vt();r!==a?(34===t.charCodeAt(yt)?(i=A,yt++):(i=a,0===Nt&&Rt(P)),i!==a?(kt=e,e=n=R(r)):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;return St[o]={nextPos:yt,result:e},e}function Kt(){var e,n,r,i,o=49*yt+17,s=St[o];if(s)return yt=s.nextPos,s.result;if(e=yt,39===t.charCodeAt(yt)?(n=M,yt++):(n=a,0===Nt&&Rt(F)),n!==a){for(r=[],i=qt();i!==a;)r.push(i),i=qt();r!==a?(39===t.charCodeAt(yt)?(i=M,yt++):(i=a,0===Nt&&Rt(F)),i!==a?(kt=e,e=n=R(r)):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;return St[o]={nextPos:yt,result:e},e}function Vt(){var e,n,r,i=49*yt+18,o=St[i];return o?(yt=o.nextPos,o.result):((e=pn())===a&&(e=yt,n=yt,Nt++,34===t.charCodeAt(yt)?(r=A,yt++):(r=a,0===Nt&&Rt(P)),Nt--,r===a?n=d:(yt=n,n=c),n!==a?(t.length>yt?(r=t.charAt(yt),yt++):(r=a,0===Nt&&Rt(p)),r!==a?(kt=e,e=n=U(r)):(yt=e,e=c)):(yt=e,e=c)),St[i]={nextPos:yt,result:e},e)}function qt(){var e,n,r,i=49*yt+19,o=St[i];return o?(yt=o.nextPos,o.result):(e=yt,n=yt,Nt++,39===t.charCodeAt(yt)?(r=M,yt++):(r=a,0===Nt&&Rt(F)),Nt--,r===a?n=d:(yt=n,n=c),n!==a?(t.length>yt?(r=t.charAt(yt),yt++):(r=a,0===Nt&&Rt(p)),r!==a?(kt=e,e=n=U(r)):(yt=e,e=c)):(yt=e,e=c),St[i]={nextPos:yt,result:e},e)}function Wt(){var e,n,r,i=49*yt+20,o=St[i];return o?(yt=o.nextPos,o.result):((e=pn())===a&&(e=function(){var e,n,r,i,o=49*yt+21,s=St[o];if(s)return yt=s.nextPos,s.result;e=yt,92===t.charCodeAt(yt)?(n=G,yt++):(n=a,0===Nt&&Rt(B));if(n!==a)if(an()!==a){for(r=[],i=on();i!==a;)r.push(i),i=on();r!==a?(kt=e,n=z(),e=n):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c;return St[o]={nextPos:yt,result:e},e}())===a&&(e=yt,n=yt,Nt++,t.substr(yt,3)===C?(r=C,yt+=3):(r=a,0===Nt&&Rt(T)),Nt--,r===a?n=d:(yt=n,n=c),n!==a?(t.length>yt?(r=t.charAt(yt),yt++):(r=a,0===Nt&&Rt(p)),r!==a?(kt=e,e=n=H(r)):(yt=e,e=c)):(yt=e,e=c)),St[i]={nextPos:yt,result:e},e)}function Xt(){var e,n,r,i=49*yt+22,o=St[i];return o?(yt=o.nextPos,o.result):(e=yt,n=yt,Nt++,t.substr(yt,3)===L?(r=L,yt+=3):(r=a,0===Nt&&Rt(D)),Nt--,r===a?n=d:(yt=n,n=c),n!==a?(t.length>yt?(r=t.charAt(yt),yt++):(r=a,0===Nt&&Rt(p)),r!==a?(kt=e,e=n=U(r)):(yt=e,e=c)):(yt=e,e=c),St[i]={nextPos:yt,result:e},e)}function Yt(){var e,n,r,i,o,s,l=49*yt+24,u=St[l];return u?(yt=u.nextPos,u.result):(e=yt,43===t.charCodeAt(yt)?(n=Q,yt++):(n=a,0===Nt&&Rt(J)),n===a&&(n=I),n!==a?(r=yt,(i=dn())!==a?(46===t.charCodeAt(yt)?(o=k,yt++):(o=a,0===Nt&&Rt(j)),o!==a&&(s=dn())!==a?r=i=[i,o,s]:(yt=r,r=c)):(yt=r,r=c),r!==a?(kt=e,e=n=Z(r)):(yt=e,e=c)):(yt=e,e=c),e===a&&(e=yt,45===t.charCodeAt(yt)?(n=$,yt++):(n=a,0===Nt&&Rt(ee)),n!==a?(r=yt,(i=dn())!==a?(46===t.charCodeAt(yt)?(o=k,yt++):(o=a,0===Nt&&Rt(j)),o!==a&&(s=dn())!==a?r=i=[i,o,s]:(yt=r,r=c)):(yt=r,r=c),r!==a?(kt=e,e=n=te(r)):(yt=e,e=c)):(yt=e,e=c)),St[l]={nextPos:yt,result:e},e)}function Qt(){var e,n,r,i,o,s=49*yt+26,l=St[s];if(l)return yt=l.nextPos,l.result;if(e=yt,43===t.charCodeAt(yt)?(n=Q,yt++):(n=a,0===Nt&&Rt(J)),n===a&&(n=I),n!==a){if(r=[],(i=ln())!==a)for(;i!==a;)r.push(i),i=ln();else r=c;r!==a?(i=yt,Nt++,46===t.charCodeAt(yt)?(o=k,yt++):(o=a,0===Nt&&Rt(j)),Nt--,o===a?i=d:(yt=i,i=c),i!==a?(kt=e,e=n=Z(r)):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;if(e===a)if(e=yt,45===t.charCodeAt(yt)?(n=$,yt++):(n=a,0===Nt&&Rt(ee)),n!==a){if(r=[],(i=ln())!==a)for(;i!==a;)r.push(i),i=ln();else r=c;r!==a?(i=yt,Nt++,46===t.charCodeAt(yt)?(o=k,yt++):(o=a,0===Nt&&Rt(j)),Nt--,o===a?i=d:(yt=i,i=c),i!==a?(kt=e,e=n=te(r)):(yt=e,e=c)):(yt=e,e=c)}else yt=e,e=c;return St[s]={nextPos:yt,result:e},e}function Jt(){var e,t,n,r,i,o=49*yt+29,s=St[o];if(s)return yt=s.nextPos,s.result;for(e=yt,t=[],n=$t();n!==a;)t.push(n),n=$t();if(t!==a)if((n=Bt())!==a){for(r=[],i=$t();i!==a;)r.push(i),i=$t();r!==a?(kt=e,e=t=fe(n)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c;return St[o]={nextPos:yt,result:e},e}function Zt(){var e,n,r,i,o,s,l,u=49*yt+30,d=St[u];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=$t();r!==a;)n.push(r),r=$t();if(n!==a)if((r=Bt())!==a){for(i=[],o=$t();o!==a;)i.push(o),o=$t();if(i!==a)if(44===t.charCodeAt(yt)?(o=me,yt++):(o=a,0===Nt&&Rt(be)),o!==a){for(s=[],l=$t();l!==a;)s.push(l),l=$t();s!==a?(kt=e,e=n=fe(r)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c;return St[u]={nextPos:yt,result:e},e}function $t(){var e,t=49*yt+31,n=St[t];return n?(yt=n.nextPos,n.result):((e=rn())===a&&(e=an())===a&&(e=Dt()),St[t]={nextPos:yt,result:e},e)}function en(){var e,n,r,i,o,s,l,u,d,p,f,m=49*yt+33,b=St[m];if(b)return yt=b.nextPos,b.result;for(e=yt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ht())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(61===t.charCodeAt(yt)?(o=E,yt++):(o=a,0===Nt&&Rt(O)),o!==a){for(s=[],l=rn();l!==a;)s.push(l),l=rn();if(s!==a)if((l=Bt())!==a){for(u=[],d=rn();d!==a;)u.push(d),d=rn();if(u!==a)if(44===t.charCodeAt(yt)?(d=me,yt++):(d=a,0===Nt&&Rt(be)),d!==a){for(p=[],f=rn();f!==a;)p.push(f),f=rn();p!==a?(kt=e,e=n=ye(r,l)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c;if(e===a){for(e=yt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ht())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(61===t.charCodeAt(yt)?(o=E,yt++):(o=a,0===Nt&&Rt(O)),o!==a){for(s=[],l=rn();l!==a;)s.push(l),l=rn();s!==a&&(l=Bt())!==a?(kt=e,e=n=ye(r,l)):(yt=e,e=c)}else yt=e,e=c;else yt=e,e=c}else yt=e,e=c;else yt=e,e=c}return St[m]={nextPos:yt,result:e},e}function tn(){var e,n,r,i=49*yt+34,o=St[i];return o?(yt=o.nextPos,o.result):(e=yt,46===t.charCodeAt(yt)?(n=k,yt++):(n=a,0===Nt&&Rt(j)),n!==a&&(r=dn())!==a?(kt=e,e=n=ke(r)):(yt=e,e=c),St[i]={nextPos:yt,result:e},e)}function nn(){var e,n,r,i,o,s,l,u,d,p,f,m,b=49*yt+35,g=St[b];return g?(yt=g.nextPos,g.result):(e=yt,n=yt,(r=ln())!==a&&(i=ln())!==a&&(o=ln())!==a&&(s=ln())!==a?(45===t.charCodeAt(yt)?(l=$,yt++):(l=a,0===Nt&&Rt(ee)),l!==a&&(u=ln())!==a&&(d=ln())!==a?(45===t.charCodeAt(yt)?(p=$,yt++):(p=a,0===Nt&&Rt(ee)),p!==a&&(f=ln())!==a&&(m=ln())!==a?n=r=[r,i,o,s,l,u,d,p,f,m]:(yt=n,n=c)):(yt=n,n=c)):(yt=n,n=c),n!==a&&(kt=e,n=je(n)),e=n,St[b]={nextPos:yt,result:e},e)}function rn(){var e,n=49*yt+39,r=St[n];return r?(yt=r.nextPos,r.result):(Ae.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=a,0===Nt&&Rt(Pe)),St[n]={nextPos:yt,result:e},e)}function an(){var e,n,r,i=49*yt+40,o=St[i];return o?(yt=o.nextPos,o.result):(10===t.charCodeAt(yt)?(e=Le,yt++):(e=a,0===Nt&&Rt(De)),e===a&&(e=yt,13===t.charCodeAt(yt)?(n=Me,yt++):(n=a,0===Nt&&Rt(Fe)),n!==a?(10===t.charCodeAt(yt)?(r=Le,yt++):(r=a,0===Nt&&Rt(De)),r!==a?e=n=[n,r]:(yt=e,e=c)):(yt=e,e=c)),St[i]={nextPos:yt,result:e},e)}function on(){var e,t=49*yt+41,n=St[t];return n?(yt=n.nextPos,n.result):((e=an())===a&&(e=rn()),St[t]={nextPos:yt,result:e},e)}function sn(){var e,n,r=49*yt+42,i=St[r];return i?(yt=i.nextPos,i.result):(e=yt,Nt++,t.length>yt?(n=t.charAt(yt),yt++):(n=a,0===Nt&&Rt(p)),Nt--,n===a?e=d:(yt=e,e=c),St[r]={nextPos:yt,result:e},e)}function cn(){var e,n=49*yt+43,r=St[n];return r?(yt=r.nextPos,r.result):(Ue.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=a,0===Nt&&Rt(He)),St[n]={nextPos:yt,result:e},e)}function ln(){var e,n,r=49*yt+44,i=St[r];return i?(yt=i.nextPos,i.result):(Ge.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=a,0===Nt&&Rt(Be)),e===a&&(e=yt,95===t.charCodeAt(yt)?(n=ze,yt++):(n=a,0===Nt&&Rt(Ke)),n!==a&&(kt=e,n=Ve()),e=n),St[r]={nextPos:yt,result:e},e)}function un(){var e,n=49*yt+45,r=St[n];return r?(yt=r.nextPos,r.result):(qe.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=a,0===Nt&&Rt(We)),St[n]={nextPos:yt,result:e},e)}function dn(){var e,t,n,r=49*yt+46,i=St[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=ln())!==a)for(;n!==a;)t.push(n),n=ln();else t=c;return t!==a&&(kt=e,t=Xe(t)),e=t,St[r]={nextPos:yt,result:e},e}function pn(){var e,n,r=49*yt+47,i=St[r];return i?(yt=i.nextPos,i.result):(e=yt,t.substr(yt,2)===Ye?(n=Ye,yt+=2):(n=a,0===Nt&&Rt(Qe)),n!==a&&(kt=e,n=Je()),(e=n)===a&&(e=yt,t.substr(yt,2)===Ze?(n=Ze,yt+=2):(n=a,0===Nt&&Rt($e)),n!==a&&(kt=e,n=et()),(e=n)===a&&(e=yt,t.substr(yt,2)===tt?(n=tt,yt+=2):(n=a,0===Nt&&Rt(nt)),n!==a&&(kt=e,n=rt()),(e=n)===a&&(e=yt,t.substr(yt,2)===at?(n=at,yt+=2):(n=a,0===Nt&&Rt(it)),n!==a&&(kt=e,n=ot()),(e=n)===a&&(e=yt,t.substr(yt,2)===st?(n=st,yt+=2):(n=a,0===Nt&&Rt(ct)),n!==a&&(kt=e,n=lt()),(e=n)===a&&(e=yt,t.substr(yt,2)===ut?(n=ut,yt+=2):(n=a,0===Nt&&Rt(dt)),n!==a&&(kt=e,n=pt()),(e=n)===a&&(e=yt,t.substr(yt,2)===ft?(n=ft,yt+=2):(n=a,0===Nt&&Rt(mt)),n!==a&&(kt=e,n=bt()),(e=n)===a&&(e=function(){var e,n,r,i,o,s,l,u,d,p,f,m=49*yt+48,b=St[m];if(b)return yt=b.nextPos,b.result;e=yt,t.substr(yt,2)===gt?(n=gt,yt+=2):(n=a,0===Nt&&Rt(ht));n!==a?(r=yt,(i=cn())!==a&&(o=cn())!==a&&(s=cn())!==a&&(l=cn())!==a&&(u=cn())!==a&&(d=cn())!==a&&(p=cn())!==a&&(f=cn())!==a?r=i=[i,o,s,l,u,d,p,f]:(yt=r,r=c),r!==a?(kt=e,n=vt(r),e=n):(yt=e,e=c)):(yt=e,e=c);e===a&&(e=yt,t.substr(yt,2)===xt?(n=xt,yt+=2):(n=a,0===Nt&&Rt(wt)),n!==a?(r=yt,(i=cn())!==a&&(o=cn())!==a&&(s=cn())!==a&&(l=cn())!==a?r=i=[i,o,s,l]:(yt=r,r=c),r!==a?(kt=e,n=vt(r),e=n):(yt=e,e=c)):(yt=e,e=c));return St[m]={nextPos:yt,result:e},e}()))))))),St[r]={nextPos:yt,result:e},e)}var fn=[];function mn(e){fn.push(e)}function bn(e,t,n,r,a){var i={type:e,value:t,line:n(),column:r()};return a&&(i.key=a),i}if((n=o())!==a&&yt===t.length)return n;throw n!==a&&yt<t.length&&Rt({type:"end",description:"end of input"}),At(null,_t,Ot)}}}()},mU7w:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("GRpk"),c=o.a.createElement;t.a=function(){return c("div",{className:"jsx-290145357 loader"},c("div",{className:"jsx-290145357 wrap"},c(s.a,{primaryColor:"var(--color-control-1)",secondaryColor:"var(--color-control-3)",uniquekey:"editorLoader"},c("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-290145357"}),c("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10",className:"jsx-290145357"}),c("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:"jsx-290145357"}),c("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10",className:"jsx-290145357"}),c("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-290145357"}),c("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-290145357"}),c("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-290145357"}),c("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-290145357"}),c("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10",className:"jsx-290145357"}),c("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10",className:"jsx-290145357"}),c("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-290145357"}))),c(a.a,{id:"290145357"},[".loader.jsx-290145357{position:absolute;right:0;top:0;height:100%;width:100%;background-color:var(--color-background-1);overflow:hidden;padding:var(--spacing-2);border-bottom-right-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.08);}",".wrap.jsx-290145357{overflow:hidden;}",".wrap.jsx-290145357>svg{max-width:640px;min-width:500px;height:auto;}","@media screen and (min-width:900px){.loader.jsx-290145357{padding:30px;}}"]))}},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},o40J:function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return D}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("vYYK"),g=n("ln6h"),h=n.n(g),v=n("eVuF"),x=n.n(v),w=n("xk4V"),y=n.n(w),k=n("g7Gn"),j=n("JxgA"),E=n("zgDP"),O=n("nOHt"),_=n.n(O),N=n("TjQ3");function S(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?o()(e,c()(n)):S(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function T(e){if(e){var t=function(e){var t=new URL(e),n={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?n.secure=!0:"ws:"!==t.protocol&&console.log(e,"Expected gurl protocol to be ws or wss, we'll give it a shot anyway"),n.port||(n.port=n.secure?"443":"80"),n}(e),n=t.secure,r=t.host,a=t.port;if("eval.repl.it"!==r&&"gp-v2.herokuapp.com"!==r)return Object(E.track)(E.events.LORE_USED_OVERRIDE_CLUSTER_METADATA,{gurl:e}),{id:"development",gurl:"ws".concat(n?"s":"","://").concat(r,":").concat(a),conmanURL:"http".concat(n?"s":"","://").concat(r,":").concat(a)}}}var I=1.7,R=15e3;function A(e){var t=Math.floor(500*Math.random()),n=1e3*Math.pow(I,e);return Math.min(n,R)+t}function P(){var e=window.performance.getEntriesByName("create-workspace");if(0===e.length)return k.c(new Error("Expected create-workspace mark")),null;if(e.length>1)return k.c(new Error("Expected a single create-workspace mark")),null;var t=e[0];return window.performance.now()-t.startTime}var L=0;function D(e){var t,n,r,a,i,o,s,c,l,u,d,p,f,m,b,g,v,w,k,O,S,T;return h.a.async((function(I){for(;;)switch(I.prev=I.next){case 0:t=e.client,n=e.repl,r=e.shouldAbort,a=e.onRetry,i=e.overrideClusterMetadata,o=e.prefetchedConnectionMetadata,s=e.isLoggedIn,L++,c={connectionMetadata:o,timeout:1e4,pollingHost:void 0},_.a.query.fallback&&(c.pollingHost="gp-v2.herokuapp.com"),l=0,u=0,d=!1,p=n.id,f=n.language,m=n.slug,b=y()(),g=function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new x.a((function(e){setTimeout((function(){e()}),A(u))})));case 1:case"end":return e.stop()}}))};case 10:if(!1!==t.isConnected()){I.next=88;break}if(!r()){I.next=13;break}return I.abrupt("return");case 13:if(v=window.performance.now(),w=y()(),k={host:window.location.host,retries:u,replId:p,language:f,slug:m,attemptUuid:w,govalConnectUuid:b,connectCount:L},Object(E.track)(E.events.GOVAL_CONNECTION_ATTEMPTED,C({},k)),O="",I.prev=18,s){I.next=24;break}return I.next=22,h.a.awrap(Object(j.b)());case 22:O=I.sent,Object(E.track)(E.events.GOVAL_CONNECTION_STEP,C({},k,{time:window.performance.now()-v,timeSinceCreateWorkspace:P(),step:"captcha",failed:!1}));case 24:I.next=37;break;case 26:if(I.prev=26,I.t0=I.catch(18),Object(E.track)(E.events.GOVAL_CONNECTION_STEP,C({},k,{time:window.performance.now()-v,timeSinceCreateWorkspace:P(),step:"captcha",failed:!0})),Object(E.track)(E.events.GOVAL_CONNECTION_FAILED,C({},k,{error:I.t0&&I.t0.message||"unidentified failure",reason:"captcha"})),!r()){I.next=32;break}return I.abrupt("return");case 32:return u++,a(u),I.next=36,h.a.awrap(g());case 36:return I.abrupt("continue",10);case 37:if(!r()){I.next=39;break}return I.abrupt("return");case 39:if(S=window.performance.now(),o&&!d){I.next=61;break}return I.prev=41,I.next=44,h.a.awrap(Object(N.a)({url:"/data/repls/".concat(n.id,"/get_connection_metadata"),captcha:O,hCaptchaSiteKey:j.a,clientVersion:"55899a6",overrideClusterMetadata:i}));case 44:c.connectionMetadata=I.sent,Object(E.track)(E.events.GOVAL_CONNECTION_STEP,C({},k,{time:window.performance.now()-S,timeSinceCreateWorkspace:P(),step:"fetchConnectionMetadata",failed:!1})),I.next=59;break;case 48:if(I.prev=48,I.t1=I.catch(41),Object(E.track)(E.events.GOVAL_CONNECTION_STEP,C({},k,{time:window.performance.now()-S,timeSinceCreateWorkspace:P(),step:"fetchConnectionMetadata",failed:!0})),Object(E.track)(E.events.GOVAL_CONNECTION_FAILED,C({},k,{error:I.t1.message,reason:"connectionMetadata"})),!r()){I.next=54;break}return I.abrupt("return");case 54:return u++,a(u),I.next=58,h.a.awrap(g());case 58:return I.abrupt("continue",10);case 59:if(!r()){I.next=61;break}return I.abrupt("return");case 61:return d=!0,T=window.performance.now(),I.prev=63,I.next=66,h.a.awrap(t.connect(c));case 66:window.v1ws=t.ws,I.next=84;break;case 69:if(I.prev=69,I.t2=I.catch(63),!I.t2.message.includes("Client.close")){I.next=73;break}return I.abrupt("return");case 73:if(!r()){I.next=75;break}return I.abrupt("return");case 75:return 2!==l||c.pollingHost||(c.pollingHost="gp-v2.herokuapp.com",Object(E.track)(E.events.GOVAL2_FELLBACK,{error:I.t2.message||"",retries:u,host:window.location.hostname})),Object(E.track)(E.events.GOVAL_CONNECTION_STEP,C({},k,{time:window.performance.now()-T,timeSinceCreateWorkspace:P(),step:"connect",failed:!0})),Object(E.track)(E.events.GOVAL_CONNECTION_FAILED,C({},k,{error:I.t2.message,reason:"goval"})),l++,u++,a(u),I.next=83,h.a.awrap(g());case 83:return I.abrupt("continue",10);case 84:Object(E.track)(E.events.GOVAL_CONNECTION_STEP,C({},k,{time:window.performance.now()-T,timeSinceCreateWorkspace:P(),step:"connect",failed:!1})),Object(E.track)(E.events.GOVAL_CONNECTION_SUCCEEDED,C({},k,{time:window.performance.now()-v})),I.next=10;break;case 88:case"end":return I.stop()}}),null,null,[[18,26],[41,48],[63,69]])}},pP2D:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("7FmB"),s=n.n(o),c=i.createElement;function l(e){var t=e.renderingMarkdown,n=e.onToggle;return c("div",{className:"jsx-3916141838"},c(s.a,{filled:!0,onClick:function(){return n(!t)}},t?"edit":"preview"),c(a.a,{id:"3916141838"},["div.jsx-3916141838{position:absolute;right:var(--spacing-2);top:var(--spacing-2);z-index:10;}"]))}},pQsv:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("rt45"),a=n("hJxz"),i=n("lTCR"),o=n.n(i),s=n("ShKv");function c(){var e=Object(r.a)(["\n  mutation deleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return c=function(){return e},e}o()(c());var l=function(e){var t=Object(s.a)({id:e.id,__typename:e.__typename||"Repl"}),n=function(e,n){return n.node.id===t};return Object(a.invalidateFields)((function(){return[["data",/^\$ROOT_QUERY.dashboardRepls.*/,"items",n],["data",a.ROOT,"recentRepls",n],["data",t]]}))}},q0kf:function(e,t,n){var r=n("mLbZ"),a=n("XPNs");e.exports={parse:function(e){var t=r.parse(e.toString());return a.compile(t)}}},qpVQ:function(e,t,n){"use strict";n("hfKm")(t,"__esModule",{value:!0});var r=n("Z5Wq");function a(e,t){return{get:e,getLength:function(){return e().length},insert:function(n,a,i){var o=r.strPosToUni(e(),n);return t([o,a],i)},remove:function(n,a,i){var o=r.strPosToUni(e(),n);return t([o,{d:a}],i)},_onOp:function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"number":t+=r,r;break;case"string":this.onInsert&&this.onInsert(t,r),t+=r.length;break;case"object":this.onRemove&&this.onRemove(t,r.d),r.d}}},onInsert:null,onRemove:null}}t.default=a,a.provides={text:!0}},sEfC:function(e,t,n){var r=n("GoyQ"),a=n("QIyF"),i=n("tLB3"),o="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,d,p,f,m,b=0,g=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError(o);function x(t){var n=l,r=u;return l=u=void 0,b=t,p=e.apply(r,n)}function w(e){var n=e-m;return void 0===m||n>=t||n<0||h&&e-b>=d}function y(){var e=a();if(w(e))return k(e);f=setTimeout(y,function(e){var n=t-(e-m);return h?c(n,d-(e-b)):n}(e))}function k(e){return f=void 0,v&&l?x(e):(l=u=void 0,p)}function j(){var e=a(),n=w(e);if(l=arguments,u=this,m=e,n){if(void 0===f)return function(e){return b=e,f=setTimeout(y,t),g?x(e):p}(m);if(h)return f=setTimeout(y,t),x(m)}return void 0===f&&(f=setTimeout(y,t)),p}return t=i(t)||0,r(n)&&(g=!!n.leading,d=(h="maxWait"in n)?s(i(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),j.cancel=function(){void 0!==f&&clearTimeout(f),b=0,l=m=u=f=void 0},j.flush=function(){return void 0===f?p:k(a())},j}},sMSR:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n("Cg2A"),a=n.n(r),i=n("eVuF"),o=n.n(i),s=n("ln6h"),c=n.n(s),l=n("tZOq"),u=n("nmgF"),d=n("zgDP");function p(e){var t,n,r;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==u.a){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,c.a.awrap(u.a.query({query:l.h,variables:{username:e}}));case 4:return n=a.sent,r=n.data,a.abrupt("return",null===r||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.image);case 7:case"end":return a.stop()}}))}function f(){return"Notification"in window?"true"===window.localStorage.getItem(b)?"dismissed":window.Notification.permission:"denied"}function m(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,window.Notification.requestPermission().then(),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",new o.a((function(e){window.Notification.requestPermission((function(t){e(t)}))})));case 7:return e.abrupt("return",window.Notification.requestPermission());case 8:case"end":return e.stop()}}),null,null,[[0,4]]));case 2:e=t.sent,g(!1),Object(d.track)("granted"===e?d.events.WEB_NOTIFICATION_PERM_GRANTED:d.events.WEB_NOTIFICATION_PERM_DENIED);case 5:case"end":return t.stop()}}))}var b="notifications/dismissedModal";function g(e){window.localStorage.setItem(b,String(e)),e&&Object(d.track)(d.events.WEB_NOTIFICATION_PERM_DISMISSED_MODAL)}var h={};function v(e){var t,n,r,i,o,s,l,u,d,m,b;return c.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(t=e.title,n=e.body,r=e.badge,i=e.icon,o=e.iconByUsername,s=e.tag,l=e.onClick,u=e.cacheDuration,d=void 0===u?0:u,document.hidden||!document.hasFocus()){g.next=3;break}return g.abrupt("return");case 3:if("granted"===f()){g.next=5;break}return g.abrupt("return");case 5:if(m=a()(),!(s in h)){g.next=9;break}if(!(h[s]+d>m)){g.next=9;break}return g.abrupt("return");case 9:if(!o){g.next=13;break}return g.next=12,c.a.awrap(p(o));case 12:i=g.sent;case 13:(b=new window.Notification(t,{body:n,badge:r||"/public/images/logo-grayscale.png",icon:i||"/public/images/icon-square.png",tag:s})).addEventListener("click",(function(){window.focus(),b.close()})),l&&b.addEventListener("click",l),h[s]=m;case 17:case"end":return g.stop()}}))}},tLB3:function(e,t,n){var r=n("GoyQ"),a=n("/9aa"),i=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}},uLgn:function(e){e.exports=JSON.parse('{"basic":1,"replit-python":3,"replit-js":1}')},uMB5:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),b=n("dfwq"),g=n("vYYK"),h=n("2wwy"),v=n.n(h),x=n("J8x5"),w=n.n(x);function y(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):c.a?o()(e,c()(n)):y(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var j=v()(w.a.multiplayer);function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GOVAL_STARTED":return[];case"USERS_ROSTER":var n={};t.users.forEach((function(e){e.id&&e.name&&e.roles&&(n[e.id]?n[e.id].sessionCount++:n[e.id]={id:e.id,username:e.name,roles:e.roles,color:O(v()(n)),sessionCount:1})}));var r=v()(n);return r.length>1&&(window.multiplayerTaint=!0),r;case"USER_JOIN":window.multiplayerTaint=!0;var a=!1,i=e.map((function(e){return e.id===t.user.id?(a=!0,k({},e,{sessionCount:e.sessionCount+1})):e}));return a?i:t.user.id&&t.user.name&&t.user.roles?[].concat(Object(b.a)(i),[{id:t.user.id,username:t.user.name,roles:t.user.roles,color:O(e),sessionCount:1}]):e;case"USER_LEAVE":return e.reduce((function(e,n){return n.id!==t.user.id?[].concat(Object(b.a)(e),[n]):n.sessionCount<=1?e:[].concat(Object(b.a)(e),[k({},n,{sessionCount:n.sessionCount-1})])}),[]);default:return e}}function O(e){var t=j.reduce((function(e,t){return k({},e,Object(g.a)({},t,0))}),{});return e.forEach((function(e){t[e.color]=t[e.color]+1})),m()(t).sort((function(e,n){return t[e]-t[n]}))[0]}},uMio:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("3CEA"),c=n("irrw"),l=n.n(c),u=n("dwxc"),d=n.n(u),p=n("7FmB"),f=n.n(p),m=o.a.createElement;t.a=function(e){var t=e.sentryEventId,n=e.user;e.devHide;return m("div",{className:"jsx-2807010668 bsod"},m("div",{className:"jsx-2807010668 modal"},m(l.a,{level:1}," The IDE is having a bit of trouble."),m("div",{className:"jsx-2807010668 spacer"}),m(d.a,{size:"large"},"Parts of the IDE are not working correctly. Try reloading the page to get back to coding."),m("div",{className:"jsx-2807010668 spacer"}),m(f.a,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0},"reload"),t&&m("a",{href:"#",onClick:function(){s.h({eventId:t,title:"We are deeply sorry about what happened!",subtitle:"Help us figure out what went wrong",subtitle2:"",labelComments:"What were you doing before you saw this crash?",user:n,labelName:"Username"})},className:"jsx-2807010668"},"\ud83d\udcdd report this error"),!1),m(a.a,{id:"2807010668"},[".bsod.jsx-2807010668{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-backdrop-filter:blur(2.5px);backdrop-filter:blur(2.5px);background-color:var(--color-overlay);bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:10000;}",".modal.jsx-2807010668{background-color:var(--color-background-1);border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:300px;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;padding:var(--spacing-2);width:675px;}",".modal.jsx-2807010668 a.jsx-2807010668{text-align:center;color:var(--color-primary-1);}",".spacer.jsx-2807010668{height:var(--spacing-1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}"]))}},uXq4:function(e,t,n){var r=n("0T/a");r(r.S,"Number",{isNaN:function(e){return e!=e}})},v7Px:function(e,t,n){e.exports=n("ecRq")},"x+sr":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment",function(){return n("ZFlT")}])},"xc+K":function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O}));var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n("TSYQ"),c=n.n(s),l=n("YuJD"),u=n("kDUs"),d=n("KH4j"),p=n.n(d),f=n("XpjT"),m=n.n(f),b=n("nArr"),g=n.n(b),h=n("8v8i"),v=n("VwSA"),x=n("UWUU"),w=n("JOwT"),y=n("nnlM"),k=o.createElement;function j(e){var t=e.depth,n=e.active,a=e.children,s=e.onClick,d=e.interactive,p=void 0===d||d,f=e.className,m=e.actions,b=e.onAction,g=o.useRef(null),h=o.useState(!1),v=Object(r.a)(h,2),x=v[0],w=v[1],y=o.useRef(null);return k("div",{ref:g,onClick:s?function(e){return s({newTab:Object(l.b)(e)})}:void 0,onContextMenu:function(e){y.current&&(e.preventDefault(),y.current.open())},className:"jsx-2503987086 "+i.a.dynamic([["217255527",[t,n||x?1:0]]])+" "+(c()(f,"node",{active:n,interactive:p})||"")},a,m&&m.length&&b?k("div",{className:"jsx-2503987086 "+i.a.dynamic([["217255527",[t,n||x?1:0]]])+" actions"},k(u.b,{ref:y,onOpenChange:w,actions:m,onAction:b,isActive:n})):null,k(i.a,{id:"217255527",dynamic:[t,n||x?1:0]},[".node.__jsx-style-dynamic-selector{padding-left:calc(".concat(t," * var(--spacing-2));}"),".actions.__jsx-style-dynamic-selector{opacity:".concat(n||x?1:0,";}")]),k(i.a,{id:"2503987086"},[".node.jsx-2503987086{height:var(--spacing-4);cursor:pointer;color:var(--color-foreground-2);border-radius:var(--border-radius-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:var(--font-size-desktop-text-small);}",".node.interactive.jsx-2503987086:hover{background-color:var(--color-control-3);color:var(--color-foreground-1);}",".node.interactive.jsx-2503987086:active{background-color:var(--color-control-2);}",".node.interactive.active.jsx-2503987086{background-color:var(--color-primary-1);color:var(--color-white);}",".node.interactive.active.jsx-2503987086 .content.jsx-2503987086{background-color:var(--color-primary-1);color:var(--color-white);font-weight:var(--font-weight-medium);}",".node.jsx-2503987086:hover .actions.jsx-2503987086{opacity:1;}",".actions.jsx-2503987086{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:auto;-webkit-transition:opacity;transition:opacity;height:100%;}"]))}function E(e){var t=e.expanded,n=e.active,r=e.type,a=e.path,o=null;if(r===h.b.Directory)o=k(p.a,{filled:n});else if(w.a.includes(a))o=k(y.PackageIcon,{filled:n});else{var s=a.split(".").pop();if(s&&s in v.a){var c=n?"var(--color-white)":v.a[s];o=k(x.LanguageIcon,{language:s,fill:c})}else o=k(m.a,{filled:n})}return k("div",{className:"jsx-702476865 "+i.a.dynamic([["2323416086",[t?0:-90]]])+" node-icon"},k("div",{className:"jsx-702476865 "+i.a.dynamic([["2323416086",[t?0:-90]]])+" gutter"},r===h.b.Directory?k("div",{className:"jsx-702476865 "+i.a.dynamic([["2323416086",[t?0:-90]]])+" chevron"},k(g.a,null)):null),k("div",{className:"jsx-702476865 "+i.a.dynamic([["2323416086",[t?0:-90]]])+" icon"},o),k(i.a,{id:"2323416086",dynamic:[t?0:-90]},[".chevron.__jsx-style-dynamic-selector{-webkit-transform:rotate(".concat(t?0:-90,"deg);-ms-transform:rotate(").concat(t?0:-90,"deg);transform:rotate(").concat(t?0:-90,"deg);}")]),k(i.a,{id:"702476865"},[".node-icon.jsx-702476865{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".icon.jsx-702476865{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:24px;height:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".gutter.jsx-702476865{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:var(--spacing-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".chevron.jsx-702476865{-webkit-transition:0.1s -webkit-transform;-webkit-transition:0.1s transform;transition:0.1s transform;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}"]))}function O(e){var t=e.children;return k("div",{title:t,className:"jsx-2487264214"},k("span",{className:"jsx-2487264214"},t),k(i.a,{id:"2487264214"},["div.jsx-2487264214{font-size:var(--font-size-desktop-text-small);-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding-left:var(--spacing-1);padding-right:var(--spacing-half);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]))}},yArz:function(e,t,n){"use strict";var r=n("dfwq"),a=n("doui"),i=n("MX0m"),o=n.n(i),s=n("q1tI"),c=n("TSYQ"),l=n.n(c),u=n("lPwP"),d=n.n(u),p=n("GHe4"),f=n("zgDP"),m=n("tZOq"),b=n("gF3W"),g=n("7FmB"),h=n.n(g),v=n("7MR+"),x=n.n(v),w=n("Gbtx"),y=n("VoYB"),k=n("kOwS"),j=n("M85P"),E=n("Soul"),O=n.n(E),_=n("Wlt/"),N=n("FUdZ"),S=n.n(N),C=s.createElement;function T(e){var t=e.onSubmit,n=e.existingUsernames,r=e.isDisabled,i=s.useState(""),c=Object(a.a)(i,2),u=c[0],d=c[1],p=!!u.match(/.+@.+/),f=Object(_.a)(u.trim().replace(/^@/,""),250),g=Object(m.lc)({skip:!f||p,variables:{query:f,limit:6}}),v=g.data,x=g.loading,E=g.error,N=Object(y.a)().showError;s.useEffect((function(){E&&N(E.message)}),[E,N]);var T=null===v||void 0===v?void 0:v.usernameSearch;return C("form",{onSubmit:function(e){e.preventDefault(),t(u),d("")},className:"jsx-3445151935"},C("div",{className:"jsx-3445151935 form-content"},C(j.default,{onChange:function(e){e&&d(e.username)},itemToString:function(e){return(null===e||void 0===e?void 0:e.username)||""},initialHighlightedIndex:0,defaultHighlightedIndex:0},(function(e){var r=e.getInputProps,a=e.getItemProps,i=e.getMenuProps,o=e.isOpen,s=e.highlightedIndex;return C("div",{className:"jsx-3445151935 dropdown"},C(O.a,r({ref:null,value:u,onChange:function(e){return d(e.currentTarget.value)},placeholder:"Search by username or invite by email",autoComplete:"off",onKeyDown:function(e){"Enter"===e.key&&u.match(/.+@.+/)&&(t(u),d(""),e.currentTarget.blur())}})),o&&T&&T.length?C("div",{className:"jsx-3445151935 dropdown-menu"},C("div",Object(k.a)({},i(),{className:"jsx-3445151935"}),T.map((function(e,t){return C("div",Object(k.a)({key:e.username},a({item:e}),{className:"jsx-3445151935 "+(l()("result",{"is-active":s===t})||"")}),C(b.HStack,{align:"center",spacing:1},C(w.a,{size:"s",url:e.image}),C("div",{className:"jsx-3445151935"},e.username),n.includes(e.username)?C("div",{className:"jsx-3445151935 check-icon"},C(S.a,null)):null))})))):null,o&&x?C("div",{className:"jsx-3445151935 dropdown-menu is-loading"},"loading..."):null,o&&T&&0===T.length?C("div",{className:"jsx-3445151935 dropdown-menu is-empty"},'no results found for "',u,'"'):null)})),C("div",{className:"jsx-3445151935"},C(h.a,{color:"primary",type:"submit",filled:!0,disabled:r||!u},"Invite"))),C(o.a,{id:"3445151935"},[".form-content.jsx-3445151935{display:grid;position:relative;width:100%;grid-template-columns:1fr auto;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".dropdown.jsx-3445151935{position:relative;z-index:5;}",".dropdown-menu.jsx-3445151935{position:absolute;z-index:1;top:100%;left:0;width:100%;background-color:var(--color-background-1);border:1px solid var(--color-foreground-3);border-top:0 none;border-radius:var(--border-radius-1);max-height:300px;overflow:auto;}",".dropdown-menu.is-loading.jsx-3445151935,.dropdown-menu.is-empty.jsx-3445151935{color:var(--color-foreground-2);padding:var(--spacing-1);}",".dropdown.jsx-3445151935:focus-within .dropdown-menu.jsx-3445151935{border-color:var(--color-primary-1);}",".spacer.jsx-3445151935{width:var(--spacing-1);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".result.jsx-3445151935{cursor:pointer;padding:var(--spacing-1) var(--spacing-2);}",".result.jsx-3445151935:hover,.is-active.jsx-3445151935{background-color:var(--color-primary-transparent-1);}",".check-icon.jsx-3445151935{margin-left:auto;color:var(--color-positive-1);}"]))}var I=n("dwxc"),R=n.n(I),A=n("irrw"),P=n.n(A);n.d(t,"a",(function(){return M}));var L=s.createElement,D=50;function M(e){var t=e.replId,n=e.onUserAdd,i=Object(m.ec)({variables:{replId:t},pollInterval:8e3}),c=i.data,u=i.loading,g=Object(y.a)(),v=g.showConfirm,k=g.showError,j=s.useState(!1),E=Object(a.a)(j,2),O=E[0],_=E[1],N=Object(m.bc)({onCompleted:function(e){var r,a=null===(r=e.addMultiplayerUser.user)||void 0===r?void 0:r.username;a&&(Object(f.track)(f.events.MP2_INVITED_BY_USERNAME,{replId:t,username:a}),n(),v("Added @".concat(a)))}}),S=Object(a.a)(N,2),C=S[0],I=S[1],A=Object(m.fc)({onError:function(e){return k(e.message)},onCompleted:function(e){var n,r=null===(n=e.removeMultiplayerUser.user)||void 0===n?void 0:n.username;r&&(Object(f.track)(f.events.MP2_REMOVED_USER_PERMISSION,{replId:t,username:r}),v("".concat(r," removed")))}}),M=Object(a.a)(A,2),F=M[0],U=M[1],H=Object(m.cc)({onCompleted:function(e){if("UserError"!==e.createMultiplayerInvite.__typename){if("MultiplayerInvite"===e.createMultiplayerInvite.__typename){var n=e.createMultiplayerInvite.email;Object(f.track)(f.events.MP2_INVITED_BY_EMAIL,{replId:t,email:n}),v("Invited ".concat(n," via email"))}}else k(e.createMultiplayerInvite.message)}}),G=Object(a.a)(H,2),B=G[0],z=G[1],K=Object(m.dc)({onError:function(e){return k(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;Object(f.track)(f.events.MP2_REMOVED_EMAIL_INVITE,{replId:t,email:n}),v("invite for ".concat(n," deleted"))}}else k(e.deleteMultiplayerInvite.message)}}),V=Object(a.a)(K,2),q=V[0],W=V[1];s.useEffect((function(){var e=I.error||z.error;e&&(e.message.includes("reached the limit")?_(!0):k(e.message))}),[I.error,z.error,k]);var X="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)?c.repl:null,Y=null===c||void 0===c?void 0:c.currentUser,Q=null===X||void 0===X?void 0:X.permissions.reduce((function(e,t){return t.user?[].concat(Object(r.a)(e),[t.user.username]):e}),[]),J=null===X||void 0===X?void 0:X.currentUserPermissions.editMultiplayers,Z=Boolean(X&&!X.permissions.length&&!X.multiplayerInvites.length),$=(null===X||void 0===X?void 0:X.permissions)?X.permissions.length:null;return L("div",{className:"jsx-2618845092 root"},J&&Q&&X?L(T,{existingUsernames:Q,onSubmit:function(e){!!!e.match(/.+@.+/)||z.loading?I.loading||C({variables:{username:e,replId:X.id,type:"rw"}}):B({variables:{email:e,replId:X.id,type:"rw"}})}}):null,L("div",{className:"jsx-2618845092"},L(P.a,{level:5,foreground:u?3:1},null!==$&&(null===Y||void 0===Y?void 0:Y.isSubscribed)?"".concat($," multiplayer").concat(1!==$?"s":""):null,null===$||(null===Y||void 0===Y?void 0:Y.isSubscribed)?null:"".concat($,"/").concat(D," multiplayer").concat(1!==$?"s":""),u?"Loading...":null),!u&&!(null===Y||void 0===Y?void 0:Y.isSubscribed)&&L(R.a,{size:"small",tag:"div",foreground:2},"Due to COVID-19, we're temporarily increasing the free multiplayer limit."," ",L("a",{onClick:function(){return _(!0)},"aria-label":"Click to upgrade for unlimited invites","data-microtip-position":"top",role:"tooltip",className:"jsx-2618845092 info-tooltip"},L(d.a,null)))),L("div",{className:"jsx-2618845092 "+(l()("multiplayers-list",{"is-empty":Z})||"")},null===X||void 0===X?void 0:X.permissions.map((function(e){var n=e.user,r=e.type;return n?L("div",{key:n.id,className:"jsx-2618845092 "+(l()("multiplayer-item",{"is-editable":X.currentUserPermissions.editMultiplayers})||"")},L(b.HStack,{align:"center",spacing:1},L(w.a,{size:"s",url:n.image}),L("div",{className:"jsx-2618845092 label"},n.username," ",r===m.J.Rw?" (can edit)":null),X.currentUserPermissions.editMultiplayers?L(h.a,{border:!1,filled:!1,"aria-label":"Remove member",role:"tooltip","data-microtip-position":"left",onClick:function(){U.loading||F({variables:{replId:t,username:n.username}})}},L(x.a,{size:"small"})):null)):null})),null===X||void 0===X?void 0:X.multiplayerInvites.map((function(e){return L("div",{key:e.email,className:"jsx-2618845092 "+(l()("multiplayer-item",{"is-editable":J})||"")},L(b.HStack,{align:"center",spacing:1},L(w.a,{size:"s"}),L("div",{className:"jsx-2618845092 label"},e.email," (pending)"),J?L(h.a,{border:!1,filled:!1,"aria-label":"Remove email invite",role:"tooltip","data-microtip-position":"left",onClick:function(){W.loading||q({variables:{replId:t,email:e.email}})}},L(x.a,null)):null))})),Z?L("div",{className:"jsx-2618845092 empty-list"},L("div",{className:"jsx-2618845092"},"No one is here"),L("img",{src:"/public/images/rainy-computer.png",className:"jsx-2618845092"})):null),L(p.a,{isOpen:O,closeModal:function(){return _(!1)},reason:"Upgrade for unlimited multiplayer collaborators",trackingInfo:{context:"workspace-multiplayer-header"}}),L(o.a,{id:"2618845092"},[".root.jsx-2618845092{color:var(--color-foreground-1);display:grid;grid-gap:var(--spacing-2);}",".multiplayers-list.jsx-2618845092{background-color:var(--color-background-2);border-radius:var(--border-radius-1);height:200px;overflow-y:auto;padding:var(--spacing-1) 0;}",".multiplayers-list.is-empty.jsx-2618845092{padding:0 var(--spacing-1) 0 var(--spacing-1);}",".multiplayer-item.jsx-2618845092{padding:var(--spacing-half) var(--spacing-2);}",".multiplayer-item.is-editable.jsx-2618845092{padding-right:var(--spacing-1);}",".multiplayer-item.is-editable.jsx-2618845092:hover{background-color:var(--color-background-3);}",".label.jsx-2618845092{margin-right:auto;}",".info-tooltip.jsx-2618845092{display:inline-block;}",".info-tooltip.jsx-2618845092,.info-tooltip.jsx-2618845092:hover,.info-tooltip.jsx-2618845092:focus{color:var(--color-forground);border:none;outline:none;}",".empty-list.jsx-2618845092{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:70%;margin:0 auto;}",".empty-list.jsx-2618845092 img.jsx-2618845092{height:100%;opacity:60%;}"]))}},yEu1:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i).a.createElement;t.a=function(e){var t=e.onClick;return o("div",{className:"jsx-671523266 file-header-format-button"},o("div",{onClick:t,className:"jsx-671523266 file-header-format-icon"},o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.581 16.428",className:"jsx-671523266"},o("path",{d:"M13.26.747H3.323A2.569,2.569,0,0,0,.754,3.316h0v9.795a2.569,2.569,0,0,0,2.568,2.57h9.937a2.569,2.569,0,0,0,2.569-2.569h0V3.316A2.569,2.569,0,0,0,13.26.747Z",className:"jsx-671523266 cls-1"}),o("path",{d:"M13.118,11.269a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.759-.759V11.23a.671.671,0,0,1,.689-.653l.07.006h8.438a.671.671,0,0,1,.753.578.7.7,0,0,1,.006.069ZM3.161,5.111V5.073a.759.759,0,0,1,.759-.759h8.439a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.76-.758ZM3.148,8.2a.759.759,0,0,1,.758-.76H8.4a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.907a.759.759,0,0,1-.759-.759Z",className:"jsx-671523266 cls-2"}))),o(a.a,{id:"1673991108"},[".file-header-format-button.jsx-671523266 .cls-1{fill:var(--color-foreground-1);}",".file-header-format-button.jsx-671523266 .cls-2{fill:var(--color-background-1);}"]),o(a.a,{id:"1892131279"},[".file-header-format-button.jsx-671523266{padding:0 10px;height:100%;width:".concat(36,"px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;opacity:0.7;}"),".file-header-format-button.jsx-671523266:hover{opacity:1;}",".file-header-format-icon.jsx-671523266{height:16px;width:16px;cursor:pointer;}"]))}}},[[62,2,1,6,19,47,0,5,4,3,7,8,9,11,13,17,21,20,23,26,25,24,27,30,34,38]]]);
//# sourceMappingURL=replEnvironment.js.map