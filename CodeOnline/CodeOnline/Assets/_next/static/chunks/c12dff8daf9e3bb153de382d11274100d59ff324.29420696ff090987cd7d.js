(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+bZ2":function(e,t,n){"use strict";var r=n("p0XB"),a=n.n(r),o=n("0iUn"),i=n("sLSF"),s=n("MI3g"),l=n("a7VT"),c=n("Tit0"),u=n("kOwS"),p=n("ln6h"),d=n.n(p),f=n("MX0m"),h=n.n(f),b=n("q1tI"),v=n("LOQN"),g=n("a6RD"),m=n.n(g),y=b.createElement,x=m()((function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(202).then(n.bind(null,"4zel")).then((function(e){return e})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null},loadableGenerated:{webpack:function(){return["4zel"]},modules:["./PortalWrapper.react"]}});t.a=function(e){return y(x,{rootId:"modal-root"},(function(t){var n=t.closePortal,r=t.Portal;return y(r,null,y(w,Object(u.a)({},e,{hideModal:function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e.hideModal(r),n()},closePortal:n}),e.children))}))};var w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).hideModal=function(){var e=n.props.confirmClose;(e&&e()||!e)&&n.props.hideModal()},n.addChildProps=function(e){return a()(e)||"function"!==typeof e.type?e:b.cloneElement(e,{hideModal:n.hideModal})},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new v.a,this.props.disableClosing||this._eventSubscriber.listen(window.document,"keydown",(function(t){return 27===t.keyCode&&e.hideModal()}))}},{key:"componentWillUnmount",value:function(){this.props.closePortal(),this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,t=b.Children.map(this.props.children,this.addChildProps),n=this.props,r=n.disableClosing,a=n.noBorder,o=n.noBackground,i=n.coverOtherModals,s=n.hideCloseButton;return y("div",{className:"jsx-329464003 "+h.a.dynamic([["2291282219",[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]]])},y(h.a,{id:"329464003"},[".modal-overlay.jsx-329464003{background-color:var(--color-overlay);}"]),y(h.a,{id:"2291282219",dynamic:[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]},[".modal-overlay.__jsx-style-dynamic-selector{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:".concat(i?4e5:3e5,";}"),".modal-base.__jsx-style-dynamic-selector{padding:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;z-index:".concat(i?400001:300001,";}"),".modal-wrapper.__jsx-style-dynamic-selector{position:relative;max-height:80%;border:".concat(a?0:"1px solid #888",";z-index:").concat(i?22:2,";display:").concat(window.navigator.userAgent.match(/Trident/)?"table":"block",";}"),".modal-content.__jsx-style-dynamic-selector{background-color:".concat(o?"none":"var(--color-background-1)",";color:var(--color-foreground-1);}")]),y("div",{className:"jsx-329464003 "+h.a.dynamic([["2291282219",[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]]])+" modal-overlay"}),y("div",{onClick:function(t){r||(t.stopPropagation(),e.hideModal())},className:"jsx-329464003 "+h.a.dynamic([["2291282219",[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]]])+" modal-base"},y("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-329464003 "+h.a.dynamic([["2291282219",[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]]])+" modal-wrapper"},!r&&!s&&y("div",{onClick:function(){return e.hideModal()},className:"jsx-329464003 "+h.a.dynamic([["2291282219",[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]]])+" page-close"}),y("div",{className:"jsx-329464003 "+h.a.dynamic([["2291282219",[i?4e5:3e5,i?400001:300001,a?0:"1px solid #888",i?22:2,window.navigator.userAgent.match(/Trident/)?"table":"block",o?"none":"var(--color-background-1)"]]])+" modal-content"},t))))}}]),t}(b.Component)},"0dmp":function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g}));var r=n("lqOT"),a=n("mrSG"),o=n("q1tI"),i=n.n(o),s=n("2mql"),l=n.n(s),c=n("vbcS"),u=n("qVdT"),p=function(){return{}},d=function(){return!1};function f(e){return e.displayName||e.name||"Component"}function h(e,t){for(var n={},r=0,a=e.variables;r<a.length;r++){var o=a[r],i=o.variable,s=o.type;if(i.name&&i.name.value){var l=i.name.value,c=t[l];"undefined"===typeof c?"NonNullType"!==s.kind&&(n[l]=void 0):n[l]=c}}return n}var b=function(e){function t(t){var n=e.call(this,t)||this;return n.withRef=!1,n.setWrappedInstance=n.setWrappedInstance.bind(n),n}return Object(a.c)(t,e),t.prototype.getWrappedInstance=function(){return Object(u.b)(this.withRef,2),this.wrappedInstance},t.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},t}(i.a.Component);function v(e,t){switch(void 0===t&&(t={}),Object(r.f)(e).type){case r.c.Mutation:return function(e,t){void 0===t&&(t={});var n=Object(r.f)(e),o=t.options,s=void 0===o?p:o,u=t.alias,d=void 0===u?"Apollo":u,v=s;return"function"!==typeof v&&(v=function(){return s}),function(r){var o=d+"("+f(r)+")",s=function(s){function l(){return null!==s&&s.apply(this,arguments)||this}return Object(a.c)(l,s),l.prototype.render=function(){var o=this.props,s=v(o);return t.withRef&&(this.withRef=!0,o=Object.assign({},o,{ref:this.setWrappedInstance})),!s.variables&&n.variables.length>0&&(s.variables=h(n,o)),i.a.createElement(c.a,Object(a.a)({ignoreResults:!0},s,{mutation:e}),(function(e,n){var s,l,c=n.data,u=Object(a.f)(n,["data"]),p=Object.assign(u,c||{}),d=t.name||"mutate",f=t.name?d+"Result":"result",h=((s={})[d]=e,s[f]=p,s);if(t.props){var b=((l={})[d]=e,l[f]=p,l.ownProps=o,l);h=t.props(b)}return i.a.createElement(r,Object(a.a)({},o,h))}))},l.displayName=o,l.WrappedComponent=r,l}(b);return l()(s,r,{})}}(e,t);case r.c.Subscription:return function(e,t){void 0===t&&(t={});var n=Object(r.f)(e),o=t.options,s=void 0===o?p:o,u=t.skip,v=void 0===u?d:u,g=t.alias,m=void 0===g?"Apollo":g,y=t.shouldResubscribe,x=s;"function"!==typeof x&&(x=function(){return s});var w,j=v;return"function"!==typeof j&&(j=function(){return v}),function(r){var o=m+"("+f(r)+")",s=function(s){function l(e){var t=s.call(this,e)||this;return t.state={resubscribe:!1},t}return Object(a.c)(l,s),l.prototype.componentDidUpate=function(e){y&&this.setState({resubscribe:y(e,this.props)})},l.prototype.render=function(){var s=this,l=this.props,u=j(l),p=u?Object.create(null):x(l);return!u&&!p.variables&&n.variables.length>0&&(p.variables=h(n,l)),i.a.createElement(c.c,Object(a.a)({},p,{displayName:o,skip:u,subscription:e,shouldResubscribe:this.state.resubscribe}),(function(e){var n,o,c=e.data,p=Object(a.f)(e,["data"]);if(t.withRef&&(s.withRef=!0,l=Object.assign({},l,{ref:s.setWrappedInstance})),u)return i.a.createElement(r,Object(a.a)({},l,{}));var d=Object.assign(p,c||{}),f=t.name||"data",h=((n={})[f]=d,n);if(t.props){var b=((o={})[f]=d,o.ownProps=l,o);h=w=t.props(b,w)}return i.a.createElement(r,Object(a.a)({},l,h))}))},l.displayName=o,l.WrappedComponent=r,l}(b);return l()(s,r,{})}}(e,t);case r.c.Query:default:return function(e,t){void 0===t&&(t={});var n=Object(r.f)(e),o=t.options,s=void 0===o?p:o,u=t.skip,v=void 0===u?d:u,g=t.alias,m=void 0===g?"Apollo":g,y=s;"function"!==typeof y&&(y=function(){return s});var x,w=v;return"function"!==typeof w&&(w=function(){return v}),function(r){var o=m+"("+f(r)+")",s=function(s){function l(){return null!==s&&s.apply(this,arguments)||this}return Object(a.c)(l,s),l.prototype.render=function(){var s=this,l=this.props,u=w(l),p=u?Object.create(null):Object(a.a)({},y(l));return!u&&!p.variables&&n.variables.length>0&&(p.variables=h(n,l)),i.a.createElement(c.b,Object(a.a)({},p,{displayName:o,skip:u,query:e}),(function(e){e.client;var n,o,c=e.data,p=Object(a.f)(e,["client","data"]);if(t.withRef&&(s.withRef=!0,l=Object.assign({},l,{ref:s.setWrappedInstance})),u)return i.a.createElement(r,Object(a.a)({},l,{}));var d=Object.assign(p,c||{}),f=t.name||"data",h=((n={})[f]=d,n);if(t.props){var b=((o={})[f]=d,o.ownProps=l,o);h=x=t.props(b,x)}return i.a.createElement(r,Object(a.a)({},l,h))}))},l.displayName=o,l.WrappedComponent=r,l}(b);return l()(s,r,{})}}(e,t)}}function g(e,t){void 0===t&&(t={});var n="withApollo("+function(e){return e.displayName||e.name||"Component"}(e)+")",o=function(o){function s(e){var t=o.call(this,e)||this;return t.setWrappedInstance=t.setWrappedInstance.bind(t),t}return Object(a.c)(s,o),s.prototype.getWrappedInstance=function(){return Object(u.b)(t.withRef,1),this.wrappedInstance},s.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},s.prototype.render=function(){var n=this;return i.a.createElement(r.a,null,(function(r){var o=Object.assign({},n.props,{client:r,ref:t.withRef?n.setWrappedInstance:void 0});return i.a.createElement(e,Object(a.a)({},o))}))},s.displayName=n,s.WrappedComponent=e,s}(i.a.Component);return l()(o,e,{})}},"5TM/":function(e,t,n){"use strict";var r=n("0iUn"),a=n("sLSF"),o=n("MI3g"),i=n("a7VT"),s=n("Tit0"),l=n("MX0m"),c=n.n(l),u=n("q1tI"),p=n("XpCD"),d=n("AENu"),f=n("hYzu"),h=n("ln6h"),b=n.n(h),v=n("rt45"),g=n("lTCR"),m=n.n(g),y=n("0dmp"),x=n("8Fln"),w=n("igIU"),j=u.createElement;function k(){var e=Object(v.a)(["\n  query replSearch($search: String!) {\n    currentUser {\n      id\n      replSearch(search: $search) {\n        id\n        title\n        language\n        hostedUrl\n      }\n    }\n  }\n"]);return k=function(){return e},e}function O(){var e=Object(v.a)(["\n  {\n    recentRepls {\n      id\n      title\n      hostedUrl\n    }\n  }\n"]);return O=function(){return e},e}var C=m()(O()),S=m()(k()),T=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onInputChange=function(e){if(e){var t=/http(s?):\/\//.test(e);n.setState({search:e,isUrl:t},(function(){n.searchRepls(e)}))}},n.searchRepls=function(e){var t,r,a;return b.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b.a.awrap(n.props.client.query({query:S,variables:{search:e}}));case 2:if(t=o.sent,r=t.data,a=r.currentUser.replSearch,!n.state.isUrl||1!==a.length){o.next=8;break}return n.props.onChange({repl:a[0],showHosted:e.includes("repl.co")}),o.abrupt("return",{options:[]});case 8:n.setState({options:a});case 9:case"end":return o.stop()}}))},n.getRecentRepls=function(){var e,t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.awrap(n.props.client.query({query:C}));case 2:e=r.sent,t=e.data,n.setState({recentRepls:t.recentRepls});case 5:case"end":return r.stop()}}))},n.state={search:"",isUrl:!!e.showHosted,options:e.repl?[e.repl]:[],recentRepls:[]},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.getRecentRepls()}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.options,r=t.isUrl,a=t.search,o=t.recentRepls,i=r&&a.includes("repl.co")?"hostedUrl":"title";return j("div",{className:"jsx-932420000"},j(w.a,null),j(x.a,{onBlurResetsInput:!1,onCloseResetsInput:!1,autoload:!1,noResultsText:r||!a?null:"No repls found",labelKey:i,valueKey:"id",options:!a&&o?o:n,name:"repl",value:e.repl?e.repl.id:void 0,onInputChange:this.onInputChange,onChange:function(t){return e.onChange({repl:t,showHosted:a.includes("repl.co")})},placeholder:"Pick one of your repls (type to search)"}),j(c.a,{id:"932420000"},[".Select .Select-input input{width:100% !important;}",".Select .Select-input{width:100% !important;}",".Select-multi-value-wrapper{width:100%;display:block;}"]))}}]),t}(u.Component);T.defaultProps={theme:"replitLight"};var I=Object(y.b)(T),M=u.createElement,R=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).beforeUnload=function(){var e="Are you sure you want to leave? Changes you made may not be saved.";return window.event.returnValue=e,e},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeUnload);var e,t=this.props.autofocus;t&&("title"===t?e=this.title:"body"===t&&(e=this.body),e&&"function"===typeof e.focus&&e.focus())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeUnload)}},{key:"render",value:function(){var e=this,t=this.props;return M("div",{className:"jsx-3462704179 board-new-post"},M(p.a,{onSubmit:t.onSubmit},t.children?M("div",{className:"jsx-3462704179 board-new-post-row"},t.children):null,t.showReplSelector?M("div",{className:"jsx-3462704179 board-new-post-row"},M(I,{repl:t.repl,showHosted:t.showHosted,onChange:function(e){return t.onChange(e)}})):null,M("div",{className:"jsx-3462704179 board-new-post-row"},M(p.b,{validator:"postTitle",name:"title",placeholder:t.titleCta||"Add a title",value:t.title,onChange:function(e){return t.onChange({title:e.target.value})},disabled:t.titleDisabled,required:!0,ref:function(t){return e.title=t}})),M("div",{className:"jsx-3462704179 board-new-post-row"},M(d.a,{uniqueId:t.title,name:"body",value:t.body,placeholder:t.bodyCta||"Post something...",onChange:function(e){return t.onChange({body:e})},onKeyDown:function(e){13===e.keyCode&&e.metaKey&&t.onSubmit()},disabled:t.bodyDisabled,style:{margin:0,height:"100%"},ref:function(t){return e.body=t},tall:!0,required:!0})),t.hideControls?null:M(f.a,{cta:t.cta,loading:t.loading,cancelable:t.cancelable,onCancel:t.onCancel})),M(c.a,{id:"3462704179"},[".board-new-post.jsx-3462704179{min-height:270px;}",".board-new-post-row.jsx-3462704179{margin-bottom:10px;}"]))}}]),t}(u.Component);R.defaultProps={showReplSelector:!0};t.a=R},"6BQ9":function(e,t,n){e.exports=n("VKpo")},AENu:function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),o=n("2Eek"),i=n.n(o),s=n("XoMD"),l=n.n(s),c=n("Jo+v"),u=n.n(c),p=n("4mXO"),d=n.n(p),f=n("pLtp"),h=n.n(f),b=n("kOwS"),v=n("vYYK"),g=n("br1p"),m=n.n(g),y=n("eVuF"),x=n.n(y),w=n("dfwq"),j=n("ln6h"),k=n.n(j),O=n("d04V"),C=n.n(O),S=n("0iUn"),T=n("sLSF"),I=n("MI3g"),M=n("a7VT"),R=n("Tit0"),E=n("rt45"),N=n("MX0m"),P=n.n(N),F=n("q1tI"),D=n("M85P"),_=n("TSYQ"),U=n.n(_),q=n("vbcS"),A=n("lTCR"),L=n.n(A),K=n("G5Ub"),z=n("n/dw"),W=F.createElement,B=function(e){return e&&(e.stopPropagation(),e.preventDefault()),!!e},V=function(e){function t(){var e,n;Object(S.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(a)))).state={active:!1,loading:!1},n.handleFileChosen=function(){var e=n._fileInput&&n._fileInput.files?n._fileInput.files:null;e&&n.readFiles(e)},n.handleFileDropped=function(e){var t=e.dataTransfer.files;t&&n.readFiles(t)},n.handleActive=function(){return n.setState({active:!0})},n.handleInactive=function(){return n.setState({active:!1})},n.handleOpenFileBrowser=function(){n._fileInput&&n._fileInput.click()},n}return Object(R.a)(t,e),Object(T.a)(t,[{key:"readFiles",value:function(e){var t;return k.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.props.handleFiles){n.next=3;break}return this.props.handleFiles(e),n.abrupt("return");case 3:return this.setState({loading:!0}),n.next=6,k.a.awrap(Object(z.a)(e));case 6:t=n.sent,this.props.onLoad&&this.props.onLoad(t),this.setState({loading:!1});case 9:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.active,a=this.props,o=a.openOnClick,i=a.accept,s=a.children;return W("div",{onClick:o?this.handleOpenFileBrowser:void 0,onMouseEnter:this.handleActive,onMouseLeave:this.handleInactive,onDragEnter:function(t){return B(t)&&e.handleActive()},onDragLeave:function(t){return B(t)&&e.handleInactive()},onDragEnd:function(t){return B(t)&&e.handleInactive()},onDrop:function(t){return B(t)&&e.handleFileDropped(t)},onDragOver:B},s({active:r,loading:n,openFileBrowser:this.handleOpenFileBrowser}),W("input",{ref:function(t){return e._fileInput=t},type:"file",style:{display:"none"},onChange:this.handleFileChosen,multiple:!0,accept:i}))}}]),t}(F.Component),H=n("LBzQ"),X=n("XLFt"),Y=n("TyLv"),$=F.createElement;function Q(e,t){var n=h()(e);if(d.a){var r=d()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):l.a?i()(e,l()(n)):Q(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function J(){var e=Object(E.a)(["\n  query atMentionSuggestions(\n    $search: String\n    $limit: Int\n    $contextType: String\n    $contextId: Int\n  ) {\n    atMentionSuggestions(\n      search: $search\n      limit: $limit\n      contextType: $contextType\n      contextId: $contextId\n    ) {\n      id\n      username\n      fullName\n    }\n  }\n"]);return J=function(){return e},e}var Z=L()(J()),ee=function(e){function t(){var e,n;Object(S.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(a)))).state={},n.onPaste=function(e){var t,r;return k.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if((t=C()(e.clipboardData.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))).length){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,k.a.awrap(Object(z.a)(t));case 5:r=a.sent,n.onFileLoad(r);case 7:case"end":return a.stop()}}))},n.onSelectFilesClick=function(){n.fileLoader&&n.fileLoader.handleOpenFileBrowser()},n.onChange=function(e){e.currentTarget.value||n.closeUserMentionsMenu(),n.props.onChange(e.currentTarget.value)},n.onKeyDown=function(e){32===e.which&&n.closeUserMentionsMenu(),n.props.onKeyDown&&n.props.onKeyDown(e)},n.onFileLoad=function(e){var t,r,a,o,i,s,l,c,u,p;return k.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=n.props,r=t.value,a=t.onChange,o=e.map((function(e){return"![Uploading ".concat(e.name,"...]()")})),i=n.textarea&&n.textarea.el&&n.textarea.el.selectionStart?n.textarea.el.selectionStart:r.length,s=r.substr(0,i),l=r.substr(i),c=Object(w.a)(o),s&&c.unshift(s),l&&c.push(l),a(c.join("\n")),d.next=11,k.a.awrap(x.a.all(e.map((function(e){return Object(K.d)("/data/images/upload",{image:e.result})}))));case 11:u=d.sent,p=o.reduce((function(t,n,r){var a=e[r].name.replace(/\.[^/.]+$/,""),o=u[r].url;return t.replace(n,"![".concat(a,"](").concat(o,")"))}),n.props.value),a(p);case 14:case"end":return d.stop()}}))},n.onUserMentionSelect=function(e){var t=e.username,r=n.state.inputTriggerState;if(r){var a=r.cursor,o=r.text?r.text.split(/\s/).shift():"",i=n.props,s=i.value,l=i.onChange,c=s.slice(0,a.selectionStart-o.length),u="".concat(t," "),p=s.slice(c.length+o.length+1);l(c+u+p),m()((function(){n.textarea&&n.textarea.el&&n.textarea.el.setSelectionRange&&n.textarea.el.setSelectionRange(c.length+u.length,c.length+u.length),m()((function(){return n.closeUserMentionsMenu()}))}))}},n}return Object(R.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.autofocus&&this.focus()}},{key:"handleInputTriggerChange",value:function(e){var t=e.text?e.text.split(/\s/).shift():"";this.setState({inputTriggerState:e,search:t})}},{key:"closeUserMentionsMenu",value:function(){this.inputTriggerEndHandler&&this.inputTriggerEndHandler(),this.setState({search:void 0,inputTriggerState:void 0})}},{key:"focus",value:function(){this.textarea&&this.textarea.focus()}},{key:"blur",value:function(){this.textarea&&this.textarea.blur()}},{key:"render",value:function(){var e=this,t=this.props.getAtMentionSuggestionsContext,n=this.state.search,r=this.state.inputTriggerState?this.state.inputTriggerState.cursor:null,a=r?{top:r.top+r.height,left:r.left}:null;a&&this.textarea&&this.textarea.el&&(a.top-=this.textarea.el.scrollTop);var o=!!r;return $(F.Fragment,null,$(V,{ref:function(t){return e.fileLoader=t},accept:"image/*",onLoad:this.onFileLoad},(function(){return $(F.Fragment,null,$(D.default,{id:e.props.uniqueId,defaultHighlightedIndex:0,onOuterClick:function(){return e.closeUserMentionsMenu()},onChange:e.onUserMentionSelect,itemToString:function(){},isOpen:o},(function(r){return $("div",{className:"jsx-56292044 content-textarea"},$(H.a,r.getInputProps({ref:function(t){return e.textarea=t},value:e.props.value,required:e.props.required,placeholder:e.props.placeholder,name:e.props.name,autoComplete:e.props.autoComplete,autofocus:e.props.autofocus,onChange:e.onChange,onFocus:e.props.onFocus,onPaste:e.onPaste,disabled:e.props.disabled,tall:e.props.tall,onKeyDown:function(t){Object(Y.a)(t),e.onKeyDown(t),o||(t.nativeEvent.preventDownshiftDefault=!0),"Tab"===t.key&&(t.preventDefault(),r.selectHighlightedItem())},inputTriggerProps:{keyboardEvent:"onKeyUp",endTrigger:function(t){e.inputTriggerEndHandler=t},trigger:function(e){if(!e.target.value)return!1;var t=e.key;return t&&"Unidentified"!==t||(t=e.target.value.charAt(e.target.selectionStart-1)),"@"===t&&(!(!e.target.value||1!==e.target.value.length)||/\s/.test(e.target.value.charAt(e.target.selectionStart-2)))},onStart:function(t){e.handleInputTriggerChange(t)},onType:function(t){e.handleInputTriggerChange(t)},onCancel:function(){return e.closeUserMentionsMenu()}}})),r.isOpen&&void 0!==n?$(q.b,{query:Z,variables:G({search:n,limit:6},t?t():{})},(function(e){var t=e.data,n=e.loading,o=e.variables,i=[];if(!n&&t&&t.atMentionSuggestions)i=t.atMentionSuggestions;else if(n&&o.search&&t&&t.atMentionSuggestions){var s=o.search.toLowerCase();i=t.atMentionSuggestions.filter((function(e){return e.username.toLowerCase().startsWith(s)}))}return n||i.length?$("ul",Object(b.a)({style:a},r.getMenuProps(),{className:"jsx-56292044 content-textarea-mentions"}),i.map((function(e,t){return $("li",Object(b.a)({},r.getItemProps({key:e.id,item:e,index:t}),{className:"jsx-56292044 "+(U()("content-textarea-mentions-item",{"content-textarea-mentions-item-active":r.highlightedIndex===t})||"")}),$("b",{className:"jsx-56292044"},e.username),e.fullName?$("span",{className:"jsx-56292044"},e.fullName):null)})),n?$("li",{className:"jsx-56292044 content-textarea-mentions-item-loader"},$(X.a,{style:{with:20,height:20}})):null):null})):null)})),$("div",{className:"jsx-56292044 content-textarea-footer"},$("span",{style:{marginRight:"25px"},className:"jsx-56292044"},"To add an image, drag and drop,"," ",$("a",{onClick:function(t){t.preventDefault(),e.onSelectFilesClick()},className:"jsx-56292044"},"select files")," ","or paste."),$("span",{className:"jsx-56292044 markdown-tip"},"Style your post with"," ",$("a",{target:"_blank",href:"https://repl.it/talk/learn/A-Quick-Guide-to-Replit-Talk-Markdown/7448",className:"jsx-56292044"},"Markdown"),"!")))})),$(P.a,{id:"56292044"},[".content-textarea.jsx-56292044{position:relative;resize:vertical;}",".content-textarea-mentions.jsx-56292044{position:absolute;list-style:none;cursor:pointer;background-color:var(--color-background-1);color:var(--color-foreground-1);box-shadow:0 0 5px var(--color-foreground-3);z-index:400;max-width:250px;min-width:150px;}",".content-textarea-mentions.jsx-56292044>li.jsx-56292044{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;white-space:nowrap;border-top:1px solid var(--color-control-3);border-left:1px solid var(--color-control-3);border-right:1px solid var(--color-control-3);}",".content-textarea-mentions.jsx-56292044>li.jsx-56292044:last-child{border-bottom:1px solid var(--color-control-3);}",".content-textarea-mentions-item.jsx-56292044{padding:8px;font-size:14px;}",".content-textarea-mentions-item-loader.jsx-56292044{padding:6px 0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".content-textarea-mentions-item.jsx-56292044 span.jsx-56292044{margin-left:5px;font-size:12px;overflow:hidden;text-overflow:ellipsis;}",".content-textarea-mentions-item-active.jsx-56292044,.content-textarea-mentions-item-active.jsx-56292044:hover{border-color:var(--color-primary-1);background-color:var(--color-primary-1);color:var(--color-white);}",".content-textarea-footer.jsx-56292044{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:5px 0;font-size:14px;}",".markdown-tip.jsx-56292044{text-align:right;}"]))}}]),t}(F.Component);t.a=ee},CIYy:function(e,t,n){"use strict";var r=n("6BQ9"),a=n.n(r),o=n("rt45"),i=n("MX0m"),s=n.n(i),l=n("q1tI"),c=n("lTCR"),u=n.n(c),p=n("vbcS"),d=n("8Fln"),f=n("igIU"),h=l.createElement;function b(){var e=Object(o.a)(["\n  {\n    boards {\n      id\n      name\n      cta\n      titleCta\n      bodyCta\n      template\n      buttonCta\n      replRequired\n      description\n      isLocked\n      isPrivate\n      canPost\n    }\n  }\n"]);return b=function(){return e},e}var v=u()(b());t.a=function(e){return h(p.b,{query:v},(function(t){var n=t.data;return n&&n.boards?h("div",{className:"jsx-1371012418"},h(f.a,null),h(d.a,{placeholder:"Pick a board",searchable:!1,clearable:!1,value:e.board?e.board.id:"",onChange:function(t){var r=t.value;return e.onBoardSelected(n.boards.find((function(e){return e.id===a()(r,10)})))},options:n.boards.filter((function(e){return e.canPost})).map((function(e){return{value:e.id,label:e.name+(e.isPrivate?" (private)":"")}}))}),h(s.a,{id:"1371012418"},["div.jsx-1371012418{font-size:14px;}","select.jsx-1371012418{margin-left:4px;}"])):null}))}},Fuct:function(e,t,n){var r=n("0T/a"),a=n("dwSY");r(r.G+r.F*(parseInt!=a),{parseInt:a})},H6N7:function(e,t,n){n("xopA"),e.exports=n("p9MR").setImmediate},LBzQ:function(e,t,n){"use strict";var r=n("kOwS"),a=n("qNsG"),o=n("0iUn"),i=n("sLSF"),s=n("MI3g"),l=n("a7VT"),c=n("Tit0"),u=n("MX0m"),p=n.n(u),d=n("q1tI"),f=n("Tvhg"),h=n.n(f),b=d.createElement,v=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"focus",value:function(){this.el&&this.el.focus()}},{key:"blur",value:function(){this.el&&this.el.blur()}},{key:"select",value:function(){this.el&&this.el.select()}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputTriggerProps,o=t.tall,i=Object(a.a)(t,["inputTriggerProps","tall"]),s=n?function(e){return b(h.a,n,e)}:function(e){return e};return b(d.Fragment,null,s(b("textarea",Object(r.a)({ref:function(t){return e.el=t}},i,{className:"jsx-2078473158 "+p.a.dynamic([["1222843978",[o?250:60]]])+" form-textarea"}))),b(p.a,{id:"2078473158"},[".form-textarea.jsx-2078473158{resize:vertical;background-color:var(--color-background-1);color:var(--coloe-foreground-1);}",".form-textarea.jsx-2078473158:focus{border-color:var(--color-primary-1);}",".form-textarea[disabled].jsx-2078473158{background-color:var(--color-background-3);color:var(--color-foreground-2);opacity:0.5;}"]),b(p.a,{id:"1222843978",dynamic:[o?250:60]},[".form-textarea.__jsx-style-dynamic-selector{width:100%;max-width:100%;min-width:100%;min-height:".concat(o?250:60,"px;height:100%;box-sizing:border-box;padding:var(--padding-size-medium);outline:0px;font-size:15px;border:1px solid var(--color-foreground-3);line-height:1.4;border-radius:var(--border-radius-1);}"),".form-textarea.__jsx-style-dynamic-selector:focus{outline:0 none;}",".form-textarea[readonly].__jsx-style-dynamic-selector{cursor:not-allowed;}"]))}}]),t}(d.Component);v.defaultProps={autoComplete:"off",required:!1},t.a=v},Tvhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=c(o),s=c(n("17x9")),l=c(n("oOwn"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){var r=(0,l.default)(t,t.selectionEnd),a={hookType:e,cursor:{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd,top:r.top,left:r.left,height:r.height}};return n?(a.text=t.value.substr(n,t.selectionStart),a):a}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={triggered:!1,triggerStartPosition:null},n.handleTrigger=n.handleTrigger.bind(n),n.resetState=n.resetState.bind(n),n.element=n.props.elementRef,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.endTrigger(this.resetState)}},{key:"handleTrigger",value:function(e){var t=this,n=this.props,r=n.trigger,a=n.onStart,o=n.onCancel,i=n.onType,s=n.keyboardEvent,l=e.which,c=e.shiftKey,p=e.metaKey,d=e.ctrlKey,f=e.target.selectionStart,h=this.state,b=h.triggered,v=h.triggerStartPosition;if(b){if(8===l&&f<=v)return this.setState({triggered:!1,triggerStartPosition:null},(function(){setTimeout((function(){o(u("cancel",t.element))}),0)})),null;setTimeout((function(){i(u("typing",t.element,v))}),0)}else if("function"===typeof r?r(e):l===r.keyCode&&c===!!r.shiftKey&&d===!!r.ctrlKey&&p===!!r.metaKey)return this.setState({triggered:!0,triggerStartPosition:f+("onKeyDown"===s?1:0)},(function(){setTimeout((function(){a(u("start",t.element))}),0)})),null;return null}},{key:"resetState",value:function(){this.setState({triggered:!1,triggerStartPosition:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.elementRef,a=t.children,o=(t.trigger,t.onStart,t.onCancel,t.onType,t.endTrigger,t.keyboardEvent),s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["elementRef","children","trigger","onStart","onCancel","onType","endTrigger","keyboardEvent"]);return s[o]=this.handleTrigger,i.default.createElement("div",r({role:"textbox",tabIndex:-1},s),n?a:i.default.Children.map(this.props.children,(function(t){return i.default.cloneElement(t,{ref:function(n){e.element=n,"function"===typeof t.ref&&t.ref(n)}})})))}}]),t}(o.Component);p.propTypes={trigger:s.default.oneOfType([s.default.func,s.default.shape({keyCode:s.default.number,shiftKey:s.default.bool,ctrlKey:s.default.bool,metaKey:s.default.bool})]),onStart:s.default.func,onCancel:s.default.func,onType:s.default.func,endTrigger:s.default.func,children:s.default.element.isRequired,elementRef:s.default.element,keyboardEvent:s.default.oneOf(["onKeyDown","onKeyUp"])},p.defaultProps={trigger:{keyCode:null,shiftKey:!1,ctrlKey:!1,metaKey:!1},onStart:function(){},onCancel:function(){},onType:function(){},endTrigger:function(){},elementRef:null,keyboardEvent:"onKeyDown"},t.default=p},VKpo:function(e,t,n){n("Fuct"),e.exports=n("p9MR").parseInt},XpCD:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n("kOwS"),a=n("qNsG"),o=n("0iUn"),i=n("sLSF"),s=n("MI3g"),l=n("a7VT"),c=n("Tit0"),u=n("q1tI"),p=n("2SQs"),d=n.n(p),f=n("17x9"),h=n.n(f),b=n("BvvR"),v=u.createElement,g=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).onValidation=function(e,t){n.validations[e]=t},n.onSubmit=function(e){for(var t in e.preventDefault(),n.inputs)if(n.inputs[t].validateNow(),n.validations[t])return void n.inputs[t].focus();n.props.onSubmit(e)},n.register=function(e,t){n.inputs[e]=t},n.validations={},n.inputs={},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"getChildContext",value:function(){return{validatedForm:{register:this.register,onValidation:this.onValidation}}}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.children,o=Object(a.a)(e,["Component","children"]);return v(t,Object(r.a)({},d()(o,["onSubmit"]),{onSubmit:this.onSubmit}),n)}}]),t}(u.Component);g.childContextTypes={validatedForm:h.a.object},g.defaultProps={Component:"form"};var m=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.context.validatedForm,n=t.onValidation,a=t.register;return v(b.a,Object(r.a)({},d()(this.props,["onValidation","ref"]),{onValidation:function(t){return n(e.props.name,t)},ref:function(t){e.input=t,a(e.props.name,t)},theme:this.props.theme}))}}]),t}(u.Component);m.contextTypes={validatedForm:h.a.object.isRequired},m.defaultProps={theme:"replitLight"}},Yzr4:function(e,t,n){var r=n("0T/a"),a=n("5foh"),o=n("14Ie"),i=n("cCpf"),s="["+i+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var a={},s=o((function(){return!!i[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),l=a[e]=s?t(p):i[e];n&&(a[n]=l),r(r.P+r.F*s,"String",a)},p=u.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},br1p:function(e,t,n){e.exports=n("H6N7")},cCpf:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},dwSY:function(e,t,n){var r=n("2jw7").parseInt,a=n("Yzr4").trim,o=n("cCpf"),i=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=a(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},hYzu:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),o=n("q1tI"),i=n("XLFt"),s=n("7FmB"),l=n.n(s),c=o.createElement,u=function(e){return c("div",{className:"jsx-665792193 post-form-footer"},e.cancelable?c(l.a,{type:"button",onClick:function(t){t&&t.preventDefault(),e.onCancel&&e.onCancel()}},"Cancel"):null,c("div",{className:"jsx-665792193 spacer"}),c(l.a,{type:"submit",color:"primary",filled:!0,loading:e.loading,"aria-label":"Your post will be publicly shared","data-microtip-position":"right",role:"tooltip",intent:e.isDangerCta?"danger":"confirm"},e.loading?c(i.a,{style:{width:"20px",height:"20px"}}):e.cta),c(a.a,{id:"665792193"},[".post-form-footer.jsx-665792193{height:48px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".spacer.jsx-665792193{width:var(--spacing-1);}"]))};u.defaultProps={cancelable:!0},t.a=u},"n/dw":function(e,t,n){"use strict";var r=n("d04V"),a=n.n(r),o=n("eVuF"),i=n.n(o),s=function(e){return new i.a((function(t,n){var r=new window.FileReader;r.onload=function(n){n.target?t({name:e.name,result:n.target.result}):t(null)},r.onerror=n,r.readAsDataURL(e)}))};t.a=function(e){return i.a.all(a()(e).filter((function(e){return!!e})).map(s))}},oOwn:function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!==typeof window,r=n&&null!=window.mozInnerScreenX;function a(e,a,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var i=o&&o.debug||!1;if(i){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,p="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",p||(c.wordWrap="break-word"),c.position="absolute",i||(c.visibility="hidden"),t.forEach((function(e){p&&"lineHeight"===e?c.lineHeight=u.height:c[e]=u[e]})),r?e.scrollHeight>parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,a),p&&(l.textContent=l.textContent.replace(/\s/g,"\xa0"));var d=document.createElement("span");d.textContent=e.value.substring(a)||".",l.appendChild(d);var f={top:d.offsetTop+parseInt(u.borderTopWidth),left:d.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return i?d.style.backgroundColor="#aaa":document.body.removeChild(l),f}"undefined"!=typeof e.exports?e.exports=a:n&&(window.getCaretCoordinates=a)}()},xopA:function(e,t,n){var r=n("0T/a"),a=n("3wqb");r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear})}}]);
//# sourceMappingURL=c12dff8daf9e3bb153de382d11274100d59ff324.29420696ff090987cd7d.js.map